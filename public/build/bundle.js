var app=function(){"use strict";function e(){}const t=e=>e;function n(e,t){for(const n in t)e[n]=t[n];return e}function i(e){return e()}function r(){return Object.create(null)}function o(e){e.forEach(i)}function s(e){return"function"==typeof e}function a(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function c(e,t){return e!=e?t==t:e!==t}function l(t,n,i){t.$$.on_destroy.push(function(t,...n){if(null==t)return e;const i=t.subscribe(...n);return i.unsubscribe?()=>i.unsubscribe():i}(n,i))}function u(e,t,n,i){if(e){const r=h(e,t,n,i);return e[0](r)}}function h(e,t,i,r){return e[1]&&r?n(i.ctx.slice(),e[1](r(t))):i.ctx}function d(e,t,n,i,r,o,s){const a=function(e,t,n,i){if(e[2]&&i){const r=e[2](i(n));if(void 0===t.dirty)return r;if("object"==typeof r){const e=[],n=Math.max(t.dirty.length,r.length);for(let i=0;i<n;i+=1)e[i]=t.dirty[i]|r[i];return e}return t.dirty|r}return t.dirty}(t,i,r,o);if(a){const r=h(t,n,i,s);e.p(r,a)}}function g(e){return null==e?"":e}function f(e,t,n=t){return e.set(n),t}function p(t){return t&&s(t.destroy)?t.destroy:e}const m="undefined"!=typeof window;let C=m?()=>window.performance.now():()=>Date.now(),I=m?e=>requestAnimationFrame(e):e;const v=new Set;function A(e){v.forEach((t=>{t.c(e)||(v.delete(t),t.f())})),0!==v.size&&I(A)}function y(e,t){e.appendChild(t)}function b(e,t,n){e.insertBefore(t,n||null)}function w(e){e.parentNode.removeChild(e)}function $(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function S(e){return document.createElement(e)}function x(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function k(e){return document.createTextNode(e)}function R(){return k(" ")}function _(){return k("")}function B(e,t,n,i){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}function E(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function L(e,t){const n=Object.getOwnPropertyDescriptors(e.__proto__);for(const i in t)null==t[i]?e.removeAttribute(i):"style"===i?e.style.cssText=t[i]:"__value"===i?e.value=e[i]=t[i]:n[i]&&n[i].set?e[i]=t[i]:E(e,i,t[i])}function W(e,t){for(const n in t)E(e,n,t[n])}function G(e,t,n){t in e?e[t]="boolean"==typeof e[t]&&""===n||n:E(e,t,n)}function T(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function M(e,t){e.value=null==t?"":t}function O(e,t,n,i){e.style.setProperty(t,n,i?"important":"")}function N(e,t){for(let n=0;n<e.options.length;n+=1){const i=e.options[n];if(i.__value===t)return void(i.selected=!0)}}let H;function Z(){if(void 0===H){H=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(e){H=!0}}return H}function V(e,t,n){e.classList[n?"add":"remove"](t)}function P(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}class F{constructor(e=null){this.a=e,this.e=this.n=null}m(e,t,n=null){this.e||(this.e=S(t.nodeName),this.t=t,this.h(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)b(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(w)}}const K=new Set;let j,D=0;function z(e,t,n,i,r,o,s,a=0){const c=16.666/i;let l="{\n";for(let e=0;e<=1;e+=c){const i=t+(n-t)*o(e);l+=100*e+`%{${s(i,1-i)}}\n`}const u=l+`100% {${s(n,1-n)}}\n}`,h=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(u)}_${a}`,d=e.ownerDocument;K.add(d);const g=d.__svelte_stylesheet||(d.__svelte_stylesheet=d.head.appendChild(S("style")).sheet),f=d.__svelte_rules||(d.__svelte_rules={});f[h]||(f[h]=!0,g.insertRule(`@keyframes ${h} ${u}`,g.cssRules.length));const p=e.style.animation||"";return e.style.animation=`${p?`${p}, `:""}${h} ${i}ms linear ${r}ms 1 both`,D+=1,h}function X(e,t){const n=(e.style.animation||"").split(", "),i=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),r=n.length-i.length;r&&(e.style.animation=i.join(", "),D-=r,D||I((()=>{D||(K.forEach((e=>{const t=e.__svelte_stylesheet;let n=t.cssRules.length;for(;n--;)t.deleteRule(n);e.__svelte_rules={}})),K.clear())})))}function J(e){j=e}function Y(){if(!j)throw new Error("Function called outside component initialization");return j}function U(e){Y().$$.before_update.push(e)}function Q(e){Y().$$.on_mount.push(e)}function q(e){Y().$$.on_destroy.push(e)}function ee(){const e=Y();return(t,n)=>{const i=e.$$.callbacks[t];if(i){const r=P(t,n);i.slice().forEach((t=>{t.call(e,r)}))}}}function te(e,t){Y().$$.context.set(e,t)}function ne(e){return Y().$$.context.get(e)}const ie=[],re=[],oe=[],se=[],ae=Promise.resolve();let ce=!1;function le(){ce||(ce=!0,ae.then(pe))}function ue(){return le(),ae}function he(e){oe.push(e)}function de(e){se.push(e)}let ge=!1;const fe=new Set;function pe(){if(!ge){ge=!0;do{for(let e=0;e<ie.length;e+=1){const t=ie[e];J(t),me(t.$$)}for(J(null),ie.length=0;re.length;)re.pop()();for(let e=0;e<oe.length;e+=1){const t=oe[e];fe.has(t)||(fe.add(t),t())}oe.length=0}while(ie.length);for(;se.length;)se.pop()();ce=!1,ge=!1,fe.clear()}}function me(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(he)}}let Ce;function Ie(e,t,n){e.dispatchEvent(P(`${t?"intro":"outro"}${n}`))}const ve=new Set;let Ae;function ye(){Ae={r:0,c:[],p:Ae}}function be(){Ae.r||o(Ae.c),Ae=Ae.p}function we(e,t){e&&e.i&&(ve.delete(e),e.i(t))}function $e(e,t,n,i){if(e&&e.o){if(ve.has(e))return;ve.add(e),Ae.c.push((()=>{ve.delete(e),i&&(n&&e.d(1),i())})),e.o(t)}}const Se={duration:0};function xe(n,i,r,a){let c=i(n,r),l=a?0:1,u=null,h=null,d=null;function g(){d&&X(n,d)}function f(e,t){const n=e.b-l;return t*=Math.abs(n),{a:l,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function p(i){const{delay:r=0,duration:s=300,easing:a=t,tick:p=e,css:m}=c||Se,y={start:C()+r,b:i};i||(y.group=Ae,Ae.r+=1),u||h?h=y:(m&&(g(),d=z(n,l,i,s,r,a,m)),i&&p(0,1),u=f(y,s),he((()=>Ie(n,i,"start"))),function(e){let t;0===v.size&&I(A),new Promise((n=>{v.add(t={c:e,f:n})}))}((e=>{if(h&&e>h.start&&(u=f(h,s),h=null,Ie(n,u.b,"start"),m&&(g(),d=z(n,l,u.b,u.duration,0,a,c.css))),u)if(e>=u.end)p(l=u.b,1-l),Ie(n,u.b,"end"),h||(u.b?g():--u.group.r||o(u.group.c)),u=null;else if(e>=u.start){const t=e-u.start;l=u.a+u.d*a(t/u.duration),p(l,1-l)}return!(!u&&!h)})))}return{run(e){s(c)?(Ce||(Ce=Promise.resolve(),Ce.then((()=>{Ce=null}))),Ce).then((()=>{c=c(),p(e)})):p(e)},end(){g(),u=h=null}}}const ke="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function Re(e,t){$e(e,1,1,(()=>{t.delete(e.key)}))}function _e(e,t,n,i,r,o,s,a,c,l,u,h){let d=e.length,g=o.length,f=d;const p={};for(;f--;)p[e[f].key]=f;const m=[],C=new Map,I=new Map;for(f=g;f--;){const e=h(r,o,f),a=n(e);let c=s.get(a);c?i&&c.p(e,t):(c=l(a,e),c.c()),C.set(a,m[f]=c),a in p&&I.set(a,Math.abs(f-p[a]))}const v=new Set,A=new Set;function y(e){we(e,1),e.m(a,u),s.set(e.key,e),u=e.first,g--}for(;d&&g;){const t=m[g-1],n=e[d-1],i=t.key,r=n.key;t===n?(u=t.first,d--,g--):C.has(r)?!s.has(i)||v.has(i)?y(t):A.has(r)?d--:I.get(i)>I.get(r)?(A.add(i),y(t)):(v.add(r),d--):(c(n,s),d--)}for(;d--;){const t=e[d];C.has(t.key)||c(t,s)}for(;g;)y(m[g-1]);return m}function Be(e,t){const n={},i={},r={$$scope:1};let o=e.length;for(;o--;){const s=e[o],a=t[o];if(a){for(const e in s)e in a||(i[e]=1);for(const e in a)r[e]||(n[e]=a[e],r[e]=1);e[o]=a}else for(const e in s)r[e]=1}for(const e in i)e in n||(n[e]=void 0);return n}function Ee(e){return"object"==typeof e&&null!==e?e:{}}function Le(e,t,n){const i=e.$$.props[t];void 0!==i&&(e.$$.bound[i]=n,n(e.$$.ctx[i]))}function We(e){e&&e.c()}function Ge(e,t,n,r){const{fragment:a,on_mount:c,on_destroy:l,after_update:u}=e.$$;a&&a.m(t,n),r||he((()=>{const t=c.map(i).filter(s);l?l.push(...t):o(t),e.$$.on_mount=[]})),u.forEach(he)}function Te(e,t){const n=e.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Me(t,n,i,s,a,c,l=[-1]){const u=j;J(t);const h=t.$$={fragment:null,ctx:null,props:c,update:e,not_equal:a,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:n.context||[]),callbacks:r(),dirty:l,skip_bound:!1};let d=!1;if(h.ctx=i?i(t,n.props||{},((e,n,...i)=>{const r=i.length?i[0]:n;return h.ctx&&a(h.ctx[e],h.ctx[e]=r)&&(!h.skip_bound&&h.bound[e]&&h.bound[e](r),d&&function(e,t){-1===e.$$.dirty[0]&&(ie.push(e),le(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(t,e)),n})):[],h.update(),d=!0,o(h.before_update),h.fragment=!!s&&s(h.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);h.fragment&&h.fragment.l(e),e.forEach(w)}else h.fragment&&h.fragment.c();n.intro&&we(t.$$.fragment),Ge(t,n.target,n.anchor,n.customElement),pe()}J(u)}class Oe{$destroy(){Te(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function Ne(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function He(e){var t={exports:{}};return e(t,t.exports),t.exports}var Ze=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Ve=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],Pe=function(e){var t=e,n=e.indexOf("["),i=e.indexOf("]");-1!=n&&-1!=i&&(e=e.substring(0,n)+e.substring(n,i).replace(/:/g,";")+e.substring(i,e.length));for(var r=Ze.exec(e||""),o={},s=14;s--;)o[Ve[s]]=r[s]||"";return-1!=n&&-1!=i&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=function(e,t){var n=/\/{2,9}/g,i=t.replace(n,"/").split("/");"/"!=t.substr(0,1)&&0!==t.length||i.splice(0,1);"/"==t.substr(t.length-1,1)&&i.splice(i.length-1,1);return i}(0,o.path),o.queryKey=function(e,t){var n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,i){t&&(n[t]=i)})),n}(0,o.query),o};var Fe=1e3,Ke=60*Fe,je=60*Ke,De=24*je,ze=7*De,Xe=365.25*De,Je=function(e,t){t=t||{};var n=typeof e;if("string"===n&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*Xe;case"weeks":case"week":case"w":return n*ze;case"days":case"day":case"d":return n*De;case"hours":case"hour":case"hrs":case"hr":case"h":return n*je;case"minutes":case"minute":case"mins":case"min":case"m":return n*Ke;case"seconds":case"second":case"secs":case"sec":case"s":return n*Fe;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}(e);if("number"===n&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=De)return Ye(e,t,De,"day");if(t>=je)return Ye(e,t,je,"hour");if(t>=Ke)return Ye(e,t,Ke,"minute");if(t>=Fe)return Ye(e,t,Fe,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=De)return Math.round(e/De)+"d";if(t>=je)return Math.round(e/je)+"h";if(t>=Ke)return Math.round(e/Ke)+"m";if(t>=Fe)return Math.round(e/Fe)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function Ye(e,t,n,i){var r=t>=1.5*n;return Math.round(e/n)+" "+i+(r?"s":"")}var Ue=function(e){function t(e){let i,r,o,s=null;function a(...e){if(!a.enabled)return;const n=a,r=Number(new Date),o=r-(i||r);n.diff=o,n.prev=i,n.curr=r,i=r,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((i,r)=>{if("%%"===i)return"%";s++;const o=t.formatters[r];if("function"==typeof o){const t=e[s];i=o.call(n,t),e.splice(s,1),s--}return i})),t.formatArgs.call(n,e);(n.log||t.log).apply(n,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=n,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(r!==t.namespaces&&(r=t.namespaces,o=t.enabled(e)),o),set:e=>{s=e}}),"function"==typeof t.init&&t.init(a),a}function n(e,n){const i=t(this.namespace+(void 0===n?":":n)+e);return i.log=this.log,i}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){const e=[...t.names.map(i),...t.skips.map(i).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let n;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const i=("string"==typeof e?e:"").split(/[\s,]+/),r=i.length;for(n=0;n<r;n++)i[n]&&("-"===(e=i[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let n,i;for(n=0,i=t.skips.length;n<i;n++)if(t.skips[n].test(e))return!1;for(n=0,i=t.names.length;n<i;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=Je,t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((n=>{t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t},Qe=He((function(e,t){t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let i=0,r=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(i++,"%c"===e&&(r=i))})),t.splice(r,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=Ue(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}})),qe=He((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.url=void 0;const n=Qe("socket.io-client:url");t.url=function(e,t="",i){let r=e;i=i||"undefined"!=typeof location&&location,null==e&&(e=i.protocol+"//"+i.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?i.protocol+e:i.host+e),/^(https?|wss?):\/\//.test(e)||(n("protocol-less url %s",e),e=void 0!==i?i.protocol+"//"+e:"https://"+e),n("parse %s",e),r=Pe(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const o=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port+t,r.href=r.protocol+"://"+o+(i&&i.port===r.port?"":":"+r.port),r}})),et=He((function(e){try{e.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){e.exports=!1}})),tt="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")(),nt=function(e){const t=e.xdomain,n=e.xscheme,i=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||et))return new XMLHttpRequest}catch(e){}try{if("undefined"!=typeof XDomainRequest&&!n&&i)return new XDomainRequest}catch(e){}if(!t)try{return new(tt[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}};const it=Object.create(null);it.open="0",it.close="1",it.ping="2",it.pong="3",it.message="4",it.upgrade="5",it.noop="6";const rt=Object.create(null);Object.keys(it).forEach((e=>{rt[it[e]]=e}));var ot={PACKET_TYPES:it,PACKET_TYPES_REVERSE:rt,ERROR_PACKET:{type:"error",data:"parser error"}};const{PACKET_TYPES:st}=ot,at="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),ct="function"==typeof ArrayBuffer,lt=(e,t)=>{const n=new FileReader;return n.onload=function(){const e=n.result.split(",")[1];t("b"+e)},n.readAsDataURL(e)};var ut=({type:e,data:t},n,i)=>{return at&&t instanceof Blob?n?i(t):lt(t,i):ct&&(t instanceof ArrayBuffer||(r=t,"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(r):r&&r.buffer instanceof ArrayBuffer))?n?i(t instanceof ArrayBuffer?t:t.buffer):lt(new Blob([t]),i):i(st[e]+(t||""));var r},ht=He((function(e,t){var n;n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t.encode=function(e){var t,i=new Uint8Array(e),r=i.length,o="";for(t=0;t<r;t+=3)o+=n[i[t]>>2],o+=n[(3&i[t])<<4|i[t+1]>>4],o+=n[(15&i[t+1])<<2|i[t+2]>>6],o+=n[63&i[t+2]];return r%3==2?o=o.substring(0,o.length-1)+"=":r%3==1&&(o=o.substring(0,o.length-2)+"=="),o},t.decode=function(e){var t,i,r,o,s,a=.75*e.length,c=e.length,l=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var u=new ArrayBuffer(a),h=new Uint8Array(u);for(t=0;t<c;t+=4)i=n.indexOf(e[t]),r=n.indexOf(e[t+1]),o=n.indexOf(e[t+2]),s=n.indexOf(e[t+3]),h[l++]=i<<2|r>>4,h[l++]=(15&r)<<4|o>>2,h[l++]=(3&o)<<6|63&s;return u}}));const{PACKET_TYPES_REVERSE:dt,ERROR_PACKET:gt}=ot;let ft;"function"==typeof ArrayBuffer&&(ft=ht);const pt=(e,t)=>{if(ft){const n=ft.decode(e);return mt(n,t)}return{base64:!0,data:e}},mt=(e,t)=>{switch(t){case"blob":return e instanceof ArrayBuffer?new Blob([e]):e;case"arraybuffer":default:return e}};var Ct=(e,t)=>{if("string"!=typeof e)return{type:"message",data:mt(e,t)};const n=e.charAt(0);if("b"===n)return{type:"message",data:pt(e.substring(1),t)};return dt[n]?e.length>1?{type:dt[n],data:e.substring(1)}:{type:dt[n]}:gt};const It=String.fromCharCode(30);var vt={protocol:4,encodePacket:ut,encodePayload:(e,t)=>{const n=e.length,i=new Array(n);let r=0;e.forEach(((e,o)=>{ut(e,!1,(e=>{i[o]=e,++r===n&&t(i.join(It))}))}))},decodePacket:Ct,decodePayload:(e,t)=>{const n=e.split(It),i=[];for(let e=0;e<n.length;e++){const r=Ct(n[e],t);if(i.push(r),"error"===r.type)break}return i}},At=He((function(e){function t(e){if(e)return function(e){for(var n in t.prototype)e[n]=t.prototype[n];return e}(e)}e.exports=t,t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},t.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,i=this._callbacks["$"+e];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r=0;r<i.length;r++)if((n=i[r])===t||n.fn===t){i.splice(r,1);break}return 0===i.length&&delete this._callbacks["$"+e],this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(n){i=0;for(var r=(n=n.slice(0)).length;i<r;++i)n[i].apply(this,t)}return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}}));const yt=Qe("engine.io-client:transport");var bt,wt=class extends At{constructor(e){super(),this.opts=e,this.query=e.query,this.readyState="",this.socket=e.socket}onError(e,t){const n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this}open(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState?this.write(e):yt("transport is not open, discarding packets")}onOpen(){this.readyState="open",this.writable=!0,this.emit("open")}onData(e){const t=vt.decodePacket(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){this.emit("packet",e)}onClose(){this.readyState="closed",this.emit("close")}},$t=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},St=function(e){for(var t={},n=e.split("&"),i=0,r=n.length;i<r;i++){var o=n[i].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t},xt="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),kt={},Rt=0,_t=0;function Bt(e){var t="";do{t=xt[e%64]+t,e=Math.floor(e/64)}while(e>0);return t}function Et(){var e=Bt(+new Date);return e!==bt?(Rt=0,bt=e):e+"."+Bt(Rt++)}for(;_t<64;_t++)kt[xt[_t]]=_t;Et.encode=Bt,Et.decode=function(e){var t=0;for(_t=0;_t<e.length;_t++)t=64*t+kt[e.charAt(_t)];return t};var Lt=Et;const Wt=Qe("engine.io-client:polling");var Gt=class extends wt{get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const t=()=>{Wt("paused"),this.readyState="paused",e()};if(this.polling||!this.writable){let e=0;this.polling&&(Wt("we are currently polling - waiting to pause"),e++,this.once("pollComplete",(function(){Wt("pre-pause polling complete"),--e||t()}))),this.writable||(Wt("we are currently writing - waiting to pause"),e++,this.once("drain",(function(){Wt("pre-pause writing complete"),--e||t()})))}else t()}poll(){Wt("polling"),this.polling=!0,this.doPoll(),this.emit("poll")}onData(e){Wt("polling got data %s",e);vt.decodePayload(e,this.socket.binaryType).forEach((e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose(),!1;this.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():Wt('ignoring poll - transport state "%s"',this.readyState))}doClose(){const e=()=>{Wt("writing close packet"),this.write([{type:"close"}])};"open"===this.readyState?(Wt("transport open - closing"),e()):(Wt("transport not open - deferring close"),this.once("open",e))}write(e){this.writable=!1,vt.encodePayload(e,(e=>{this.doWrite(e,(()=>{this.writable=!0,this.emit("drain")}))}))}uri(){let e=this.query||{};const t=this.opts.secure?"https":"http";let n="";!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=Lt()),this.supportsBinary||e.sid||(e.b64=1),e=$t(e),this.opts.port&&("https"===t&&443!==Number(this.opts.port)||"http"===t&&80!==Number(this.opts.port))&&(n=":"+this.opts.port),e.length&&(e="?"+e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+e}},Tt={pick:(e,...t)=>t.reduce(((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t)),{})};const{pick:Mt}=Tt,Ot=Qe("engine.io-client:polling-xhr");function Nt(){}const Ht=null!=new nt({xdomain:!1}).responseType;class Zt extends At{constructor(e,t){super(),this.opts=t,this.method=t.method||"GET",this.uri=e,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.create()}create(){const e=Mt(this.opts,"agent","enablesXDR","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;const t=this.xhr=new nt(e);try{Ot("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0);for(let e in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(e)&&t.setRequestHeader(e,this.opts.extraHeaders[e])}}catch(e){}if("POST"===this.method)try{t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{t.setRequestHeader("Accept","*/*")}catch(e){}"withCredentials"in t&&(t.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(t.timeout=this.opts.requestTimeout),this.hasXDR()?(t.onload=()=>{this.onLoad()},t.onerror=()=>{this.onError(t.responseText)}):t.onreadystatechange=()=>{4===t.readyState&&(200===t.status||1223===t.status?this.onLoad():setTimeout((()=>{this.onError("number"==typeof t.status?t.status:0)}),0))},Ot("xhr data %s",this.data),t.send(this.data)}catch(e){return void setTimeout((()=>{this.onError(e)}),0)}"undefined"!=typeof document&&(this.index=Zt.requestsCount++,Zt.requests[this.index]=this)}onSuccess(){this.emit("success"),this.cleanup()}onData(e){this.emit("data",e),this.onSuccess()}onError(e){this.emit("error",e),this.cleanup(!0)}cleanup(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=Nt:this.xhr.onreadystatechange=Nt,e)try{this.xhr.abort()}catch(e){}"undefined"!=typeof document&&delete Zt.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;null!==e&&this.onData(e)}hasXDR(){return"undefined"!=typeof XDomainRequest&&!this.xs&&this.enablesXDR}abort(){this.cleanup()}}if(Zt.requestsCount=0,Zt.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",Vt);else if("function"==typeof addEventListener){addEventListener("onpagehide"in tt?"pagehide":"unload",Vt,!1)}function Vt(){for(let e in Zt.requests)Zt.requests.hasOwnProperty(e)&&Zt.requests[e].abort()}var Pt=class extends Gt{constructor(e){if(super(e),"undefined"!=typeof location){const t="https:"===location.protocol;let n=location.port;n||(n=t?443:80),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||n!==e.port,this.xs=e.secure!==t}const t=e&&e.forceBase64;this.supportsBinary=Ht&&!t}request(e={}){return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new Zt(this.uri(),e)}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",(e=>{this.onError("xhr post error",e)}))}doPoll(){Ot("xhr poll");const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(e=>{this.onError("xhr poll error",e)})),this.pollXhr=e}},Ft=Zt;Pt.Request=Ft;const Kt=/\n/g,jt=/\\n/g;let Dt;var zt=class extends Gt{constructor(e){super(e),this.query=this.query||{},Dt||(Dt=tt.___eio=tt.___eio||[]),this.index=Dt.length,Dt.push(this.onData.bind(this)),this.query.j=this.index}get supportsBinary(){return!1}doClose(){this.script&&(this.script.onerror=()=>{},this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),super.doClose()}doPoll(){const e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=e=>{this.onError("jsonp poll error",e)};const t=document.getElementsByTagName("script")[0];t?t.parentNode.insertBefore(e,t):(document.head||document.body).appendChild(e),this.script=e;"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout((function(){const e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)}),100)}doWrite(e,t){let n;if(!this.form){const e=document.createElement("form"),t=document.createElement("textarea"),n=this.iframeId="eio_iframe_"+this.index;e.className="socketio",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.target=n,e.method="POST",e.setAttribute("accept-charset","utf-8"),t.name="d",e.appendChild(t),document.body.appendChild(e),this.form=e,this.area=t}function i(){r(),t()}this.form.action=this.uri();const r=()=>{if(this.iframe)try{this.form.removeChild(this.iframe)}catch(e){this.onError("jsonp polling iframe removal error",e)}try{const e='<iframe src="javascript:0" name="'+this.iframeId+'">';n=document.createElement(e)}catch(e){n=document.createElement("iframe"),n.name=this.iframeId,n.src="javascript:0"}n.id=this.iframeId,this.form.appendChild(n),this.iframe=n};r(),e=e.replace(jt,"\\\n"),this.area.value=e.replace(Kt,"\\n");try{this.form.submit()}catch(e){}this.iframe.attachEvent?this.iframe.onreadystatechange=()=>{"complete"===this.iframe.readyState&&i()}:this.iframe.onload=i}},Xt={WebSocket:tt.WebSocket||tt.MozWebSocket,usingBrowserWebSocket:!0,defaultBinaryType:"arraybuffer"};const{pick:Jt}=Tt,{WebSocket:Yt,usingBrowserWebSocket:Ut,defaultBinaryType:Qt}=Xt,qt=Qe("engine.io-client:websocket"),en="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class tn extends wt{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),t=this.opts.protocols,n=en?{}:Jt(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=Ut&&!en?t?new Yt(e,t):new Yt(e):new Yt(e,t,n)}catch(e){return this.emit("error",e)}this.ws.binaryType=this.socket.binaryType||Qt,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=this.onClose.bind(this),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],i=t===e.length-1;vt.encodePacket(n,this.supportsBinary,(e=>{const t={};if(!Ut&&(n.options&&(t.compress=n.options.compress),this.opts.perMessageDeflate)){("string"==typeof e?Buffer.byteLength(e):e.length)<this.opts.perMessageDeflate.threshold&&(t.compress=!1)}try{Ut?this.ws.send(e):this.ws.send(e,t)}catch(e){qt("websocket closed before onclose event")}i&&setTimeout((()=>{this.writable=!0,this.emit("drain")}),0)}))}}onClose(){wt.prototype.onClose.call(this)}doClose(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}uri(){let e=this.query||{};const t=this.opts.secure?"wss":"ws";let n="";this.opts.port&&("wss"===t&&443!==Number(this.opts.port)||"ws"===t&&80!==Number(this.opts.port))&&(n=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=Lt()),this.supportsBinary||(e.b64=1),e=$t(e),e.length&&(e="?"+e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+e}check(){return!(!Yt||"__initialize"in Yt&&this.name===tn.prototype.name)}}var nn={polling:function(e){let t,n=!1,i=!1;const r=!1!==e.jsonp;if("undefined"!=typeof location){const t="https:"===location.protocol;let r=location.port;r||(r=t?443:80),n=e.hostname!==location.hostname||r!==e.port,i=e.secure!==t}if(e.xdomain=n,e.xscheme=i,t=new nt(e),"open"in t&&!e.forceJSONP)return new Pt(e);if(!r)throw new Error("JSONP disabled");return new zt(e)},websocket:tn};const rn=Qe("engine.io-client:socket");class on extends At{constructor(e,t={}){super(),e&&"object"==typeof e&&(t=e,e=null),e?(e=Pe(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=Pe(t.host).host),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?443:80),this.transports=t.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,jsonp:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},t),this.opts.path=this.opts.path.replace(/\/$/,"")+"/","string"==typeof this.opts.query&&(this.opts.query=St(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&addEventListener("beforeunload",(()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())}),!1),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close")},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){rn('creating transport "%s"',e);const t=function(e){const t={};for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(this.opts.query);t.EIO=vt.protocol,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts.transportOptions[e],this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return rn("options: %j",n),new nn[e](n)}open(){let e;if(this.opts.rememberUpgrade&&on.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length)return void setTimeout((()=>{this.emit("error","No transports available")}),0);e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return rn("error while creating transport: %s",e),this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}setTransport(e){rn("setting transport %s",e.name),this.transport&&(rn("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(()=>{this.onClose("transport close")}))}probe(e){rn('probing transport "%s"',e);let t=this.createTransport(e,{probe:1}),n=!1;on.priorWebsocketSuccess=!1;const i=()=>{n||(rn('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",(i=>{if(!n)if("pong"===i.type&&"probe"===i.data){if(rn('probe transport "%s" pong',e),this.upgrading=!0,this.emit("upgrading",t),!t)return;on.priorWebsocketSuccess="websocket"===t.name,rn('pausing current transport "%s"',this.transport.name),this.transport.pause((()=>{n||"closed"!==this.readyState&&(rn("changing transport and sending upgrade packet"),l(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emit("upgrade",t),t=null,this.upgrading=!1,this.flush())}))}else{rn('probe transport "%s" failed',e);const n=new Error("probe error");n.transport=t.name,this.emit("upgradeError",n)}})))};function r(){n||(n=!0,l(),t.close(),t=null)}const o=n=>{const i=new Error("probe error: "+n);i.transport=t.name,r(),rn('probe transport "%s" failed because of error: %s',e,n),this.emit("upgradeError",i)};function s(){o("transport closed")}function a(){o("socket closed")}function c(e){t&&e.name!==t.name&&(rn('"%s" works - aborting "%s"',e.name,t.name),r())}const l=()=>{t.removeListener("open",i),t.removeListener("error",o),t.removeListener("close",s),this.removeListener("close",a),this.removeListener("upgrading",c)};t.once("open",i),t.once("error",o),t.once("close",s),this.once("close",a),this.once("upgrading",c),t.open()}onOpen(){if(rn("socket open"),this.readyState="open",on.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause){rn("starting upgrade probes");let e=0;const t=this.upgrades.length;for(;e<t;e++)this.probe(this.upgrades[e])}}onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(rn('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emit("pong");break;case"error":const t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else rn('packet received with socket readyState "%s"',this.readyState)}onHandshake(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){clearTimeout(this.pingTimeoutTimer),this.pingTimeoutTimer=setTimeout((()=>{this.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()}flush(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(rn("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))}write(e,t,n){return this.sendPacket("message",e,t,n),this}send(e,t,n){return this.sendPacket("message",e,t,n),this}sendPacket(e,t,n,i){if("function"==typeof t&&(i=t,t=void 0),"function"==typeof n&&(i=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const r={type:e,data:t,options:n};this.emit("packetCreate",r),this.writeBuffer.push(r),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this.onClose("forced close"),rn("socket closing - telling transport to close"),this.transport.close()},t=()=>{this.removeListener("upgrade",t),this.removeListener("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?n():e()})):this.upgrading?n():e()),this}onError(e){rn("socket error %j",e),on.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)}onClose(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(rn('socket close with reason: "%s"',e),clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emit("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const t=[];let n=0;const i=e.length;for(;n<i;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}on.priorWebsocketSuccess=!1,on.protocol=vt.protocol;var sn=on,an=(e,t)=>new sn(e,t),cn=sn,ln=sn.protocol,un=wt,hn=nn,dn=vt;an.Socket=cn,an.protocol=ln,an.Transport=un,an.transports=hn,an.parser=dn;var gn=He((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.hasBinary=t.isBinary=void 0;const n="function"==typeof ArrayBuffer,i=Object.prototype.toString,r="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===i.call(Blob),o="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===i.call(File);function s(e){return n&&(e instanceof ArrayBuffer||(e=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||r&&e instanceof Blob||o&&e instanceof File}t.isBinary=s,t.hasBinary=function e(t,n){if(!t||"object"!=typeof t)return!1;if(Array.isArray(t)){for(let n=0,i=t.length;n<i;n++)if(e(t[n]))return!0;return!1}if(s(t))return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return e(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return!0;return!1}})),fn=He((function(e,t){function n(e,t){if(!e)return e;if(gn.isBinary(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){const i=new Array(e.length);for(let r=0;r<e.length;r++)i[r]=n(e[r],t);return i}if("object"==typeof e&&!(e instanceof Date)){const i={};for(const r in e)e.hasOwnProperty(r)&&(i[r]=n(e[r],t));return i}return e}function i(e,t){if(!e)return e;if(e&&e._placeholder)return t[e.num];if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=i(e[n],t);else if("object"==typeof e)for(const n in e)e.hasOwnProperty(n)&&(e[n]=i(e[n],t));return e}Object.defineProperty(t,"__esModule",{value:!0}),t.reconstructPacket=t.deconstructPacket=void 0,t.deconstructPacket=function(e){const t=[],i=e.data,r=e;return r.data=n(i,t),r.attachments=t.length,{packet:r,buffers:t}},t.reconstructPacket=function(e,t){return e.data=i(e.data,t),e.attachments=void 0,e}})),pn=He((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Decoder=t.Encoder=t.PacketType=t.protocol=void 0;const n=Qe("socket.io-parser");var i;t.protocol=5,function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(i=t.PacketType||(t.PacketType={}));t.Encoder=class{encode(e){return n("encoding packet %j",e),e.type!==i.EVENT&&e.type!==i.ACK||!gn.hasBinary(e)?[this.encodeAsString(e)]:(e.type=e.type===i.EVENT?i.BINARY_EVENT:i.BINARY_ACK,this.encodeAsBinary(e))}encodeAsString(e){let t=""+e.type;return e.type!==i.BINARY_EVENT&&e.type!==i.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data)),n("encoded %j as %s",e,t),t}encodeAsBinary(e){const t=fn.deconstructPacket(e),n=this.encodeAsString(t.packet),i=t.buffers;return i.unshift(n),i}};class r extends At{constructor(){super()}add(e){let t;if("string"==typeof e)t=this.decodeString(e),t.type===i.BINARY_EVENT||t.type===i.BINARY_ACK?(this.reconstructor=new o(t),0===t.attachments&&super.emit("decoded",t)):super.emit("decoded",t);else{if(!gn.isBinary(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emit("decoded",t))}}decodeString(e){let t=0;const o={type:Number(e.charAt(0))};if(void 0===i[o.type])throw new Error("unknown packet type "+o.type);if(o.type===i.BINARY_EVENT||o.type===i.BINARY_ACK){const n=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const i=e.substring(n,t);if(i!=Number(i)||"-"!==e.charAt(t))throw new Error("Illegal attachments");o.attachments=Number(i)}if("/"===e.charAt(t+1)){const n=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}o.nsp=e.substring(n,t)}else o.nsp="/";const s=e.charAt(t+1);if(""!==s&&Number(s)==s){const n=t+1;for(;++t;){const n=e.charAt(t);if(null==n||Number(n)!=n){--t;break}if(t===e.length)break}o.id=Number(e.substring(n,t+1))}if(e.charAt(++t)){const n=function(e){try{return JSON.parse(e)}catch(e){return!1}}(e.substr(t));if(!r.isPayloadValid(o.type,n))throw new Error("invalid payload");o.data=n}return n("decoded %s as %j",e,o),o}static isPayloadValid(e,t){switch(e){case i.CONNECT:return"object"==typeof t;case i.DISCONNECT:return void 0===t;case i.CONNECT_ERROR:return"string"==typeof t||"object"==typeof t;case i.EVENT:case i.BINARY_EVENT:return Array.isArray(t)&&t.length>0;case i.ACK:case i.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}t.Decoder=r;class o{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=fn.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}})),mn=He((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.on=void 0,t.on=function(e,t,n){return e.on(t,n),function(){e.off(t,n)}}})),Cn=He((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.StrictEventEmitter=void 0;t.StrictEventEmitter=class extends At{on(e,t){return super.on(e,t),this}once(e,t){return super.once(e,t),this}emit(e,...t){return super.emit(e,...t),this}emitReserved(e,...t){return super.emit(e,...t),this}listeners(e){return super.listeners(e)}}})),In=He((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Socket=void 0;const n=Qe("socket.io-client:socket"),i=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class r extends Cn.StrictEventEmitter{constructor(e,t,n){super(),this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},n&&n.auth&&(this.auth=n.auth),this.io._autoConnect&&this.open()}subEvents(){if(this.subs)return;const e=this.io;this.subs=[mn.on(e,"open",this.onopen.bind(this)),mn.on(e,"packet",this.onpacket.bind(this)),mn.on(e,"error",this.onerror.bind(this)),mn.on(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){if(i.hasOwnProperty(e))throw new Error('"'+e+'" is a reserved event name');t.unshift(e);const r={type:pn.PacketType.EVENT,data:t,options:{}};r.options.compress=!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(n("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),r.id=this.ids++);const o=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!o||!this.connected)?n("discard packet as the transport is not currently writable"):this.connected?this.packet(r):this.sendBuffer.push(r),this.flags={},this}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){n("transport is open - connecting"),"function"==typeof this.auth?this.auth((e=>{this.packet({type:pn.PacketType.CONNECT,data:e})})):this.packet({type:pn.PacketType.CONNECT,data:this.auth})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e){n("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emitReserved("disconnect",e)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case pn.PacketType.CONNECT:if(e.data&&e.data.sid){const t=e.data.sid;this.onconnect(t)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case pn.PacketType.EVENT:case pn.PacketType.BINARY_EVENT:this.onevent(e);break;case pn.PacketType.ACK:case pn.PacketType.BINARY_ACK:this.onack(e);break;case pn.PacketType.DISCONNECT:this.ondisconnect();break;case pn.PacketType.CONNECT_ERROR:const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];n("emitting event %j",t),null!=e.id&&(n("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e)}ack(e){const t=this;let i=!1;return function(...r){i||(i=!0,n("sending ack %j",r),t.packet({type:pn.PacketType.ACK,id:e,data:r}))}}onack(e){const t=this.acks[e.id];"function"==typeof t?(n("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):n("bad ack %s",e.id)}onconnect(e){n("socket connected with id %s",e),this.id=e,this.connected=!0,this.disconnected=!1,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach((e=>this.emitEvent(e))),this.receiveBuffer=[],this.sendBuffer.forEach((e=>this.packet(e))),this.sendBuffer=[]}ondisconnect(){n("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((e=>e())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&(n("performing disconnect (%s)",this.nsp),this.packet({type:pn.PacketType.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}}t.Socket=r})),vn=An;function An(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}An.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},An.prototype.reset=function(){this.attempts=0},An.prototype.setMin=function(e){this.ms=e},An.prototype.setMax=function(e){this.max=e},An.prototype.setJitter=function(e){this.jitter=e};var yn=He((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Manager=void 0;const n=Qe("socket.io-client:manager");class i extends Cn.StrictEventEmitter{constructor(e,t){super(),this.nsps={},this.subs=[],e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new vn({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;const n=t.parser||pn;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(n("readyState %s",this._readyState),~this._readyState.indexOf("open"))return this;n("opening %s",this.uri),this.engine=an(this.uri,this.opts);const t=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;const r=mn.on(t,"open",(function(){i.onopen(),e&&e()})),o=mn.on(t,"error",(t=>{n("error"),i.cleanup(),i._readyState="closed",this.emitReserved("error",t),e?e(t):i.maybeReconnectOnOpen()}));if(!1!==this._timeout){const e=this._timeout;n("connect attempt will timeout after %d",e),0===e&&r();const i=setTimeout((()=>{n("connect attempt timed out after %d",e),r(),t.close(),t.emit("error",new Error("timeout"))}),e);this.opts.autoUnref&&i.unref(),this.subs.push((function(){clearTimeout(i)}))}return this.subs.push(r),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){n("open"),this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(mn.on(e,"ping",this.onping.bind(this)),mn.on(e,"data",this.ondata.bind(this)),mn.on(e,"error",this.onerror.bind(this)),mn.on(e,"close",this.onclose.bind(this)),mn.on(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){this.decoder.add(e)}ondecoded(e){this.emitReserved("packet",e)}onerror(e){n("error",e),this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n||(n=new In.Socket(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const e of t){if(this.nsps[e].active)return void n("socket %s is still active, skipping close",e)}this._close()}_packet(e){n("writing packet %j",e);const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){n("cleanup"),this.subs.forEach((e=>e())),this.subs.length=0,this.decoder.destroy()}_close(){n("disconnect"),this.skipReconnect=!0,this._reconnecting=!1,"opening"===this._readyState&&this.cleanup(),this.backoff.reset(),this._readyState="closed",this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e){n("onclose"),this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)n("reconnect failed"),this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();n("will wait %dms before reconnect attempt",t),this._reconnecting=!0;const i=setTimeout((()=>{e.skipReconnect||(n("attempting reconnect"),this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open((t=>{t?(n("reconnect attempt error"),e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):(n("reconnect success"),e.onreconnect())})))}),t);this.opts.autoUnref&&i.unref(),this.subs.push((function(){clearTimeout(i)}))}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}t.Manager=i})),bn=Ne(He((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.io=t.Socket=t.Manager=t.protocol=void 0;const n=Qe("socket.io-client");e.exports=t=r;const i=t.managers={};function r(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};const r=qe.url(e,t.path||"/socket.io"),o=r.source,s=r.id,a=r.path,c=i[s]&&a in i[s].nsps;let l;return t.forceNew||t["force new connection"]||!1===t.multiplex||c?(n("ignoring socket cache for %s",o),l=new yn.Manager(o,t)):(i[s]||(n("new io instance for %s",o),i[s]=new yn.Manager(o,t)),l=i[s]),r.query&&!t.query&&(t.query=r.queryKey),l.socket(r.path,t)}t.io=r,Object.defineProperty(t,"protocol",{enumerable:!0,get:function(){return pn.protocol}}),t.connect=r;var o=yn;Object.defineProperty(t,"Manager",{enumerable:!0,get:function(){return o.Manager}}),Object.defineProperty(t,"Socket",{enumerable:!0,get:function(){return In.Socket}}),t.default=r})));bn.Manager,bn.Socket;const wn=require("fs"),$n=__dirname+"/settings.json";class Sn{constructor(e={},t=!0,n=$n){this.path=n,this.autoSave=t,wn.existsSync(this.path)?(this.load(),this.saveData=function(e,t){let n={};for(let i in t)n[i]=null!=e[i]&&null!=e[i]?e[i]:t[i];return n}(this.saveData,e),this.save()):(this.saveData=e,this.save()),console.log(this.path)}get data(){return this.saveData}set data(e){this.saveData=e,this.autoSave&&this.save()}set filename(e){this.path=__dirname+"/"+e}set(e,t){this.saveData[e]=t,this.autoSave&&this.save()}get(e){return this.saveData[e]}push(e,t,n=!1){if(!Array.isArray(this.saveData[e]))throw console.log("push",e,this.saveData[e]),new Error("not an array");this.saveData[e].includes(t)&&!n||(this.saveData[e].push(t),this.autoSave&&this.save())}save(){!function(e,t){let n=JSON.stringify(e,null,4);wn.writeFileSync(t,n)}(this.saveData,this.path)}load(){this.saveData=function(e){let t=wn.readFileSync(e);return JSON.parse(t)}(this.path)}}const xn=[];function kn(t,n=e){let i;const r=[];function o(e){if(a(t,e)&&(t=e,i)){const e=!xn.length;for(let e=0;e<r.length;e+=1){const n=r[e];n[1](),xn.push(n,t)}if(e){for(let e=0;e<xn.length;e+=2)xn[e][0](xn[e+1]);xn.length=0}}}return{set:o,update:function(e){o(e(t))},subscribe:function(s,a=e){const c=[s,a];return r.push(c),1===r.length&&(i=n(o)||e),s(t),()=>{const e=r.indexOf(c);-1!==e&&r.splice(e,1),0===r.length&&(i(),i=null)}}}}const Rn=kn([]),_n=kn([]),Bn=kn(!1),En=kn(0);let Ln,Wn=kn(!1),Gn=kn(!1),Tn=kn({});const Mn=e=>{Ln=e};function On(e,t,n){const i=e.slice();return i[15]=t[n],i}function Nn(e){let t,n;return{c(){t=S("option"),t.__value=n=e[15],t.value=t.__value},m(e,n){b(e,t,n)},p(e,i){16&i&&n!==(n=e[15])&&(t.__value=n,t.value=t.__value)},d(e){e&&w(t)}}}function Hn(e){let t,n,i,r,o,s,a,c,l,u,h=e[3]?"Cancel":"Connect";return{c(){t=S("button"),n=S("img"),r=k(h),o=R(),s=S("div"),n.src!==(i=e[3]?"icons/unlink.png":"icons/link.png")&&E(n,"src",i),E(n,"alt","connect"),E(s,"class",a="ring "+(e[3]?"loading-ring":"")),E(t,"class",c="button "+(e[3]?"is-warning":"is-primary")),E(t,"title","connect")},m(i,a){b(i,t,a),y(t,n),y(t,r),y(t,o),y(t,s),l||(u=B(t,"click",e[5]),l=!0)},p(e,o){8&o&&n.src!==(i=e[3]?"icons/unlink.png":"icons/link.png")&&E(n,"src",i),8&o&&h!==(h=e[3]?"Cancel":"Connect")&&T(r,h),8&o&&a!==(a="ring "+(e[3]?"loading-ring":""))&&E(s,"class",a),8&o&&c!==(c="button "+(e[3]?"is-warning":"is-primary"))&&E(t,"class",c)},d(e){e&&w(t),l=!1,u()}}}function Zn(t){let n,i,r;return{c(){n=S("button"),n.innerHTML='<img src="icons/unlink.png" alt="disconnect"/>Disconnect',E(n,"class","button is-danger"),E(n,"title","disconnect")},m(e,o){b(e,n,o),i||(r=B(n,"click",t[6]),i=!0)},p:e,d(e){e&&w(n),i=!1,r()}}}function Vn(t){let n,i,r,s,a,c,l,u;return{c(){n=S("button"),n.innerHTML='<img src="icons/Save32.png" alt="send"/>Send',i=S("br"),r=R(),s=S("label"),s.textContent="Volatile",a=R(),c=S("input"),E(n,"class","button is-primary"),E(n,"id","SendBtn"),E(n,"title","send"),E(s,"for","volatileCheck"),E(c,"id","volatileCheck"),E(c,"type","checkbox")},m(e,o){b(e,n,o),b(e,i,o),b(e,r,o),b(e,s,o),b(e,a,o),b(e,c,o),l||(u=[B(n,"click",t[7]),B(c,"click",t[9])],l=!0)},p:e,d(e){e&&w(n),e&&w(i),e&&w(r),e&&w(s),e&&w(a),e&&w(c),l=!1,o(u)}}}function Pn(t){let n,i,r,s,a,c,l,u,h,d,g,f,p,m,C,I,v,A,x,k,_,L=t[4],W=[];for(let e=0;e<L.length;e+=1)W[e]=Nn(On(t,L,e));function G(e,t){return e[2]?Zn:Hn}let T=G(t),O=T(t),N=t[2]&&Vn(t);return{c(){n=S("div"),i=S("div"),r=S("div"),s=S("label"),s.textContent="Connect URI",a=R(),c=S("input"),h=R(),d=S("div"),g=S("label"),g.textContent="Event",f=R(),p=S("input"),m=R(),C=S("datalist");for(let e=0;e<W.length;e+=1)W[e].c();I=R(),v=S("div"),O.c(),A=R(),x=S("div"),N&&N.c(),E(s,"for","connect_URI"),c.disabled=l=t[2]||t[3],E(c,"id","connect_URI"),E(c,"type","text"),E(c,"class",u="input "+(!0===t[2]?"is-success":"is-link")),E(c,"placeholder","url"),E(r,"class","column"),E(g,"for","eventName"),E(p,"id","eventName"),E(p,"class","input is-info"),E(p,"list","events"),E(C,"id","events"),E(d,"class","column"),E(v,"class","column"),E(x,"class","column"),E(i,"class","columns"),E(n,"class","topMenu")},m(e,o){b(e,n,o),y(n,i),y(i,r),y(r,s),y(r,a),y(r,c),M(c,t[0]),y(i,h),y(i,d),y(d,g),y(d,f),y(d,p),M(p,t[1]),y(d,m),y(d,C);for(let e=0;e<W.length;e+=1)W[e].m(C,null);y(i,I),y(i,v),O.m(v,null),y(i,A),y(i,x),N&&N.m(x,null),k||(_=[B(c,"input",t[10]),B(p,"input",t[11]),B(C,"blur",t[8])],k=!0)},p(e,[t]){if(12&t&&l!==(l=e[2]||e[3])&&(c.disabled=l),4&t&&u!==(u="input "+(!0===e[2]?"is-success":"is-link"))&&E(c,"class",u),1&t&&c.value!==e[0]&&M(c,e[0]),2&t&&p.value!==e[1]&&M(p,e[1]),16&t){let n;for(L=e[4],n=0;n<L.length;n+=1){const i=On(e,L,n);W[n]?W[n].p(i,t):(W[n]=Nn(i),W[n].c(),W[n].m(C,null))}for(;n<W.length;n+=1)W[n].d(1);W.length=L.length}T===(T=G(e))&&O?O.p(e,t):(O.d(1),O=T(e),O&&(O.c(),O.m(v,null))),e[2]?N?N.p(e,t):(N=Vn(e),N.c(),N.m(x,null)):N&&(N.d(1),N=null)},i:e,o:e,d(e){e&&w(n),$(W,e),O.d(),N&&N.d(),k=!1,o(_)}}}function Fn(e,t,n){let i,r,o,s,a;l(e,Tn,(e=>n(12,i=e))),l(e,Wn,(e=>n(13,r=e))),l(e,Bn,(e=>n(2,o=e))),l(e,Gn,(e=>n(3,s=e))),l(e,_n,(e=>n(4,a=e)));const c=ee();let u=i.currentConnection||"http://localhost:3000",h=i.selectedEvent||"message";const d=()=>{_n.update((e=>e.includes(h)?[...e]:[h,...e]))};return d(),[u,h,o,s,a,()=>{c("connect",{uri:u})},()=>{c("disconnect",{uri:u})},()=>{d(),c("send",{event:h})},d,()=>{f(Wn,r=!r,r)},function(){u=this.value,n(0,u)},function(){h=this.value,n(1,h)}]}class Kn extends Oe{constructor(e){super(),Me(this,e,Fn,Pn,a,{})}}
/*!
     * Font Awesome Free 5.15.3 by @fontawesome - https://fontawesome.com
     * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
     */var jn={prefix:"fas",iconName:"angle-down",icon:[320,512,[],"f107","M143 352.3L7 216.3c-9.4-9.4-9.4-24.6 0-33.9l22.6-22.6c9.4-9.4 24.6-9.4 33.9 0l96.4 96.4 96.4-96.4c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9l-136 136c-9.2 9.4-24.4 9.4-33.8 0z"]},Dn={prefix:"fas",iconName:"angle-right",icon:[256,512,[],"f105","M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z"]},zn={prefix:"fas",iconName:"arrow-down",icon:[448,512,[],"f063","M413.1 222.5l22.2 22.2c9.4 9.4 9.4 24.6 0 33.9L241 473c-9.4 9.4-24.6 9.4-33.9 0L12.7 278.6c-9.4-9.4-9.4-24.6 0-33.9l22.2-22.2c9.5-9.5 25-9.3 34.3.4L184 343.4V56c0-13.3 10.7-24 24-24h32c13.3 0 24 10.7 24 24v287.4l114.8-120.5c9.3-9.8 24.8-10 34.3-.4z"]},Xn={prefix:"fas",iconName:"caret-down",icon:[320,512,[],"f0d7","M31.3 192h257.3c17.8 0 26.7 21.5 14.1 34.1L174.1 354.8c-7.8 7.8-20.5 7.8-28.3 0L17.2 226.1C4.6 213.5 13.5 192 31.3 192z"]},Jn={prefix:"fas",iconName:"caret-right",icon:[192,512,[],"f0da","M0 384.662V127.338c0-17.818 21.543-26.741 34.142-14.142l128.662 128.662c7.81 7.81 7.81 20.474 0 28.284L34.142 398.804C21.543 411.404 0 402.48 0 384.662z"]},Yn={prefix:"fas",iconName:"caret-square-down",icon:[448,512,[],"f150","M448 80v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V80c0-26.5 21.5-48 48-48h352c26.5 0 48 21.5 48 48zM92.5 220.5l123 123c4.7 4.7 12.3 4.7 17 0l123-123c7.6-7.6 2.2-20.5-8.5-20.5H101c-10.7 0-16.1 12.9-8.5 20.5z"]},Un={prefix:"fas",iconName:"caret-square-up",icon:[448,512,[],"f151","M0 432V80c0-26.51 21.49-48 48-48h352c26.51 0 48 21.49 48 48v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48zm355.515-140.485l-123.03-123.03c-4.686-4.686-12.284-4.686-16.971 0L92.485 291.515c-7.56 7.56-2.206 20.485 8.485 20.485h246.059c10.691 0 16.045-12.926 8.486-20.485z"]},Qn={prefix:"fas",iconName:"check",icon:[512,512,[],"f00c","M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"]},qn={prefix:"fas",iconName:"chevron-down",icon:[448,512,[],"f078","M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"]},ei={prefix:"fas",iconName:"chevron-up",icon:[448,512,[],"f077","M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"]},ti={prefix:"fas",iconName:"circle-notch",icon:[512,512,[],"f1ce","M288 39.056v16.659c0 10.804 7.281 20.159 17.686 23.066C383.204 100.434 440 171.518 440 256c0 101.689-82.295 184-184 184-101.689 0-184-82.295-184-184 0-84.47 56.786-155.564 134.312-177.219C216.719 75.874 224 66.517 224 55.712V39.064c0-15.709-14.834-27.153-30.046-23.234C86.603 43.482 7.394 141.206 8.003 257.332c.72 137.052 111.477 246.956 248.531 246.667C393.255 503.711 504 392.788 504 256c0-115.633-79.14-212.779-186.211-240.236C302.678 11.889 288 23.456 288 39.056z"]},ni={prefix:"fas",iconName:"clone",icon:[512,512,[],"f24d","M464 0c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48H176c-26.51 0-48-21.49-48-48V48c0-26.51 21.49-48 48-48h288M176 416c-44.112 0-80-35.888-80-80V128H48c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48v-48H176z"]},ii={prefix:"fas",iconName:"code",icon:[640,512,[],"f121","M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"]},ri={prefix:"fas",iconName:"copy",icon:[448,512,[],"f0c5","M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"]},oi={prefix:"fas",iconName:"crop-alt",icon:[512,512,[],"f565","M488 352h-40V96c0-17.67-14.33-32-32-32H192v96h160v328c0 13.25 10.75 24 24 24h48c13.25 0 24-10.75 24-24v-40h40c13.25 0 24-10.75 24-24v-48c0-13.26-10.75-24-24-24zM160 24c0-13.26-10.75-24-24-24H88C74.75 0 64 10.74 64 24v40H24C10.75 64 0 74.74 0 88v48c0 13.25 10.75 24 24 24h40v256c0 17.67 14.33 32 32 32h224v-96H160V24z"]},si={prefix:"fas",iconName:"cut",icon:[448,512,[],"f0c4","M278.06 256L444.48 89.57c4.69-4.69 4.69-12.29 0-16.97-32.8-32.8-85.99-32.8-118.79 0L210.18 188.12l-24.86-24.86c4.31-10.92 6.68-22.81 6.68-35.26 0-53.02-42.98-96-96-96S0 74.98 0 128s42.98 96 96 96c4.54 0 8.99-.32 13.36-.93L142.29 256l-32.93 32.93c-4.37-.61-8.83-.93-13.36-.93-53.02 0-96 42.98-96 96s42.98 96 96 96 96-42.98 96-96c0-12.45-2.37-24.34-6.68-35.26l24.86-24.86L325.69 439.4c32.8 32.8 85.99 32.8 118.79 0 4.69-4.68 4.69-12.28 0-16.97L278.06 256zM96 160c-17.64 0-32-14.36-32-32s14.36-32 32-32 32 14.36 32 32-14.36 32-32 32zm0 256c-17.64 0-32-14.36-32-32s14.36-32 32-32 32 14.36 32 32-14.36 32-32 32z"]},ai={prefix:"fas",iconName:"ellipsis-v",icon:[192,512,[],"f142","M96 184c39.8 0 72 32.2 72 72s-32.2 72-72 72-72-32.2-72-72 32.2-72 72-72zM24 80c0 39.8 32.2 72 72 72s72-32.2 72-72S135.8 8 96 8 24 40.2 24 80zm0 352c0 39.8 32.2 72 72 72s72-32.2 72-72-32.2-72-72-72-72 32.2-72 72z"]},ci={prefix:"fas",iconName:"exclamation-triangle",icon:[576,512,[],"f071","M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"]},li={prefix:"fas",iconName:"filter",icon:[512,512,[],"f0b0","M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"]},ui={prefix:"fas",iconName:"paste",icon:[448,512,[],"f0ea","M128 184c0-30.879 25.122-56 56-56h136V56c0-13.255-10.745-24-24-24h-80.61C204.306 12.89 183.637 0 160 0s-44.306 12.89-55.39 32H24C10.745 32 0 42.745 0 56v336c0 13.255 10.745 24 24 24h104V184zm32-144c13.255 0 24 10.745 24 24s-10.745 24-24 24-24-10.745-24-24 10.745-24 24-24zm184 248h104v200c0 13.255-10.745 24-24 24H184c-13.255 0-24-10.745-24-24V184c0-13.255 10.745-24 24-24h136v104c0 13.2 10.8 24 24 24zm104-38.059V256h-96v-96h6.059a24 24 0 0 1 16.97 7.029l65.941 65.941a24.002 24.002 0 0 1 7.03 16.971z"]},hi={prefix:"fas",iconName:"pen",icon:[512,512,[],"f304","M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z"]},di={prefix:"fas",iconName:"plus",icon:[448,512,[],"f067","M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"]},gi={prefix:"fas",iconName:"redo",icon:[512,512,[],"f01e","M500.33 0h-47.41a12 12 0 0 0-12 12.57l4 82.76A247.42 247.42 0 0 0 256 8C119.34 8 7.9 119.53 8 256.19 8.1 393.07 119.1 504 256 504a247.1 247.1 0 0 0 166.18-63.91 12 12 0 0 0 .48-17.43l-34-34a12 12 0 0 0-16.38-.55A176 176 0 1 1 402.1 157.8l-101.53-4.87a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12h200.33a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12z"]},fi={prefix:"fas",iconName:"search",icon:[512,512,[],"f002","M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"]},pi={prefix:"fas",iconName:"sort-amount-down-alt",icon:[512,512,[],"f884","M240 96h64a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16h-64a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16zm0 128h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16H240a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16zm256 192H240a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h256a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm-256-64h192a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16H240a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16zm-64 0h-48V48a16 16 0 0 0-16-16H80a16 16 0 0 0-16 16v304H16c-14.19 0-21.37 17.24-11.29 27.31l80 96a16 16 0 0 0 22.62 0l80-96C197.35 369.26 190.22 352 176 352z"]},mi={prefix:"fas",iconName:"times",icon:[352,512,[],"f00d","M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"]},Ci={prefix:"fas",iconName:"undo",icon:[512,512,[],"f0e2","M212.333 224.333H12c-6.627 0-12-5.373-12-12V12C0 5.373 5.373 0 12 0h48c6.627 0 12 5.373 12 12v78.112C117.773 39.279 184.26 7.47 258.175 8.007c136.906.994 246.448 111.623 246.157 248.532C504.041 393.258 393.12 504 256.333 504c-64.089 0-122.496-24.313-166.51-64.215-5.099-4.622-5.334-12.554-.467-17.42l33.967-33.967c4.474-4.474 11.662-4.717 16.401-.525C170.76 415.336 211.58 432 256.333 432c97.268 0 176-78.716 176-176 0-97.267-78.716-176-176-176-58.496 0-110.28 28.476-142.274 72.333h98.274c6.627 0 12 5.373 12 12v48c0 6.627-5.373 12-12 12z"]},Ii={prefix:"fas",iconName:"wrench",icon:[512,512,[],"f0ad","M507.73 109.1c-2.24-9.03-13.54-12.09-20.12-5.51l-74.36 74.36-67.88-11.31-11.31-67.88 74.36-74.36c6.62-6.62 3.43-17.9-5.66-20.16-47.38-11.74-99.55.91-136.58 37.93-39.64 39.64-50.55 97.1-34.05 147.2L18.74 402.76c-24.99 24.99-24.99 65.51 0 90.5 24.99 24.99 65.51 24.99 90.5 0l213.21-213.21c50.12 16.71 107.47 5.68 147.37-34.22 37.07-37.07 49.7-89.32 37.91-136.73zM64 472c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z"]},vi=He((function(e,t){!function(e){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){return JSON.stringify(e)===JSON.stringify(t)}function i(e,t){return e===t}function r(e){return e.slice(0,e.length-1)}function o(e){return e[e.length-1]}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i;if(e.length<t.length)return!1;for(var r=0;r<t.length;r++)if(!n(e[r],t[r]))return!1;return!0}function a(e){return"object"===t(e)&&null!==e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e){if(Array.isArray(e)){var t=e.slice();return Object.getOwnPropertySymbols(e).forEach((function(n){t[n]=e[n]})),t}if("object"===h(e)){var n=l({},e);return Object.getOwnPropertySymbols(e).forEach((function(t){n[t]=e[t]})),n}return e}function g(e,t,n){if(e[t]===n)return e;var i=d(e);return i[t]=n,i}function f(e,t){for(var n=e,i=0;i<t.length;)n=a(n)?n[t[i]]:void 0,i++;return n}function p(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(0===t.length)return n;var r=t[0],o=p(e?e[r]:void 0,t.slice(1),n,i);if(!a(e)){if(i){var s="number"==typeof r?[]:{};return s[r]=o,s}throw new Error("Path does not exist")}return g(e,r,o)}function m(e,t,n){if(0===t.length)return n(e);if(!a(e))throw new Error("Path doesn't exist");var i=t[0];return g(e,i,m(e[i],t.slice(1),n))}function C(e,t){if(0===t.length)return e;if(!a(e))throw new Error("Path does not exist");if(1===t.length){var n=t[0];if(n in e){var i=d(e);return Array.isArray(i)?i.splice(n,1):delete i[n],i}return e}var r=t[0];return g(e,r,C(e[r],t.slice(1)))}function I(e,t,n){var i=t.slice(0,t.length-1),r=t[t.length-1];return m(e,i,(function(e){if(!Array.isArray(e))throw new TypeError("Array expected at path "+JSON.stringify(i));var t=d(e);return t.splice(r,0,n),t}))}function v(e,t){return void 0!==e&&(0===t.length||v(e[t[0]],t.slice(1)))}function A(e){var t=e.split("/");return t.shift(),t.map((function(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}))}function y(e){return e.map((function(e){return"/"+String(e).replace(/~/g,"~0").replace(/\//g,"~1")})).join("")}function b(e,t,n){for(var i=e,r=0;r<t.length;r++){L(t[r]);var o=W(i,t[r]);if(n&&n.before){var s=n.before(i,o);void 0!==s&&(void 0!==s.json&&(i=s.json),void 0!==s.operation&&(o=s.operation))}var a=i,c=w[o.op];if(c)i=c(i,o);else{if("test"!==o.op)throw new Error("Unknown JSONPatch operation "+JSON.stringify(o.op));_(i,o)}if(n&&n.after){var l=n.after(i,o,a);void 0!==l&&(i=l)}}return i}var w={add:x,remove:S,replace:$,copy:k,move:R};function $(e,t){return p(e,t.path,t.value)}function S(e,t){return C(e,t.path)}function x(e,t){var n=t.path,i=t.value;return B(e,n)?I(e,n,i):p(e,n,i)}function k(e,t){var n=t.path,i=t.from,r=f(e,i);return B(e,n)?I(e,n,r):p(e,n,f(e,i))}function R(e,t){var n=t.path,i=t.from,r=f(e,i),o=C(e,i);return B(o,n)?I(o,n,r):p(o,n,r)}function _(e,t){var i=t.path,r=t.value;if(void 0===r)throw new Error('Test failed: no value provided (path: "'.concat(y(i),'")'));if(!v(e,i))throw new Error('Test failed: path not found (path: "'.concat(y(i),'")'));if(!n(f(e,i),r))throw new Error('Test failed, value differs (path: "'.concat(y(i),'")'))}function B(e,t){var n=f(e,r(t));return Array.isArray(n)}function E(e,t){if("-"!==o(t))return t;var n=r(t),i=f(e,n);return n.concat(i.length)}function L(e){if(!["add","remove","replace","copy","move","test"].includes(e.op))throw new Error("Unknown JSONPatch op "+JSON.stringify(e.op));if("string"!=typeof e.path)throw new Error('Required property "path" missing or not a string in operation '+JSON.stringify(e));if(("copy"===e.op||"move"===e.op)&&"string"!=typeof e.from)throw new Error('Required property "from" missing or not a string in operation '+JSON.stringify(e))}function W(e,t){return{op:t.op,path:E(e,A(t.path)),from:void 0!==t.from?A(t.from):null,value:t.value}}function G(e,t){var n=[];return b(e,t,{before:function(e,t){var i=T[t.op];i&&(n=i(e,t).concat(n))}}),n}var T={add:N,remove:O,replace:M,copy:H,move:Z};function M(e,t){var n=t.path;return[{op:"replace",path:y(n),value:f(e,n)}]}function O(e,t){var n=t.path;return[{op:"add",path:y(n),value:f(e,n)}]}function N(e,t){var n=t.path,i=t.value;return B(e,n)||!v(e,n)?[{op:"remove",path:y(n)}]:M(e,{path:n,value:i})}function H(e,t){return N(e,{path:t.path,value:t.value})}function Z(e,t){var n=t.path,i=t.from;if(n.length<i.length&&s(i,n))return[{op:"replace",path:y(n),value:e}];var r=[{op:"move",from:y(n),path:y(i)}];return!B(e,n)&&v(e,n)&&(r=r.concat(O(e,{path:n}))),r}e.compileJSONPointer=y,e.deleteIn=C,e.existsIn=v,e.getIn=f,e.immutableJSONPatch=b,e.insertAt=I,e.parseJSONPointer=A,e.revertJSONPatch=G,e.setIn=p,e.updateIn=m,Object.defineProperty(e,"__esModule",{value:!0})}(t)})),Ai="object"==typeof global&&global&&global.Object===Object&&global,yi="object"==typeof self&&self&&self.Object===Object&&self,bi=Ai||yi||Function("return this")(),wi=bi.Symbol,$i=Object.prototype,Si=$i.hasOwnProperty,xi=$i.toString,ki=wi?wi.toStringTag:void 0;var Ri=Object.prototype.toString;var _i=wi?wi.toStringTag:void 0;function Bi(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":_i&&_i in Object(e)?function(e){var t=Si.call(e,ki),n=e[ki];try{e[ki]=void 0;var i=!0}catch(e){}var r=xi.call(e);return i&&(t?e[ki]=n:delete e[ki]),r}(e):function(e){return Ri.call(e)}(e)}function Ei(e){return null!=e&&"object"==typeof e}function Li(e){return"symbol"==typeof e||Ei(e)&&"[object Symbol]"==Bi(e)}function Wi(e){return"number"==typeof e?e:Li(e)?NaN:+e}function Gi(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}var Ti=Array.isArray,Mi=wi?wi.prototype:void 0,Oi=Mi?Mi.toString:void 0;function Ni(e){if("string"==typeof e)return e;if(Ti(e))return Gi(e,Ni)+"";if(Li(e))return Oi?Oi.call(e):"";var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}function Hi(e,t){return function(n,i){var r;if(void 0===n&&void 0===i)return t;if(void 0!==n&&(r=n),void 0!==i){if(void 0===r)return i;"string"==typeof n||"string"==typeof i?(n=Ni(n),i=Ni(i)):(n=Wi(n),i=Wi(i)),r=e(n,i)}return r}}var Zi=Hi((function(e,t){return e+t}),0),Vi=/\s/;function Pi(e){for(var t=e.length;t--&&Vi.test(e.charAt(t)););return t}var Fi=/^\s+/;function Ki(e){return e?e.slice(0,Pi(e)+1).replace(Fi,""):e}function ji(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var Di=/^[-+]0x[0-9a-f]+$/i,zi=/^0b[01]+$/i,Xi=/^0o[0-7]+$/i,Ji=parseInt;function Yi(e){if("number"==typeof e)return e;if(Li(e))return NaN;if(ji(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ji(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Ki(e);var n=zi.test(e);return n||Xi.test(e)?Ji(e.slice(2),n?2:8):Di.test(e)?NaN:+e}var Ui=1/0;function Qi(e){return e?(e=Yi(e))===Ui||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function qi(e){var t=Qi(e),n=t%1;return t==t?n?t-n:t:0}function er(e,t){if("function"!=typeof t)throw new TypeError("Expected a function");return e=qi(e),function(){if(--e<1)return t.apply(this,arguments)}}function tr(e){return e}function nr(e){if(!ji(e))return!1;var t=Bi(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}var ir,rr=bi["__core-js_shared__"],or=(ir=/[^.]+$/.exec(rr&&rr.keys&&rr.keys.IE_PROTO||""))?"Symbol(src)_1."+ir:"";var sr=Function.prototype.toString;function ar(e){if(null!=e){try{return sr.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var cr=/^\[object .+?Constructor\]$/,lr=Function.prototype,ur=Object.prototype,hr=lr.toString,dr=ur.hasOwnProperty,gr=RegExp("^"+hr.call(dr).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function fr(e){return!(!ji(e)||function(e){return!!or&&or in e}(e))&&(nr(e)?gr:cr).test(ar(e))}function pr(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return fr(n)?n:void 0}var mr=pr(bi,"WeakMap"),Cr=mr&&new mr,Ir=Cr?function(e,t){return Cr.set(e,t),e}:tr,vr=Object.create,Ar=function(){function e(){}return function(t){if(!ji(t))return{};if(vr)return vr(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function yr(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Ar(e.prototype),i=e.apply(n,t);return ji(i)?i:n}}function br(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var wr=Math.max;function $r(e,t,n,i){for(var r=-1,o=e.length,s=n.length,a=-1,c=t.length,l=wr(o-s,0),u=Array(c+l),h=!i;++a<c;)u[a]=t[a];for(;++r<s;)(h||r<o)&&(u[n[r]]=e[r]);for(;l--;)u[a++]=e[r++];return u}var Sr=Math.max;function xr(e,t,n,i){for(var r=-1,o=e.length,s=-1,a=n.length,c=-1,l=t.length,u=Sr(o-a,0),h=Array(u+l),d=!i;++r<u;)h[r]=e[r];for(var g=r;++c<l;)h[g+c]=t[c];for(;++s<a;)(d||r<o)&&(h[g+n[s]]=e[r++]);return h}function kr(e,t){for(var n=e.length,i=0;n--;)e[n]===t&&++i;return i}function Rr(){}function _r(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Br(){}_r.prototype=Ar(Rr.prototype),_r.prototype.constructor=_r;var Er=Cr?function(e){return Cr.get(e)}:Br,Lr={},Wr=Object.prototype.hasOwnProperty;function Gr(e){for(var t=e.name+"",n=Lr[t],i=Wr.call(Lr,t)?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==e)return r.name}return t}function Tr(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}function Mr(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}function Or(e){if(e instanceof _r)return e.clone();var t=new Tr(e.__wrapped__,e.__chain__);return t.__actions__=Mr(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}Tr.prototype=Ar(Rr.prototype),Tr.prototype.constructor=Tr;var Nr=Object.prototype.hasOwnProperty;function Hr(e){if(Ei(e)&&!Ti(e)&&!(e instanceof _r)){if(e instanceof Tr)return e;if(Nr.call(e,"__wrapped__"))return Or(e)}return new Tr(e)}function Zr(e){var t=Gr(e),n=Hr[t];if("function"!=typeof n||!(t in _r.prototype))return!1;if(e===n)return!0;var i=Er(n);return!!i&&e===i[0]}Hr.prototype=Rr.prototype,Hr.prototype.constructor=Hr;var Vr=Date.now;function Pr(e){var t=0,n=0;return function(){var i=Vr(),r=16-(i-n);if(n=i,r>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Fr=Pr(Ir),Kr=/\{\n\/\* \[wrapped with (.+)\] \*/,jr=/,? & /;var Dr=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function zr(e){return function(){return e}}var Xr=function(){try{var e=pr(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),Jr=Pr(Xr?function(e,t){return Xr(e,"toString",{configurable:!0,enumerable:!1,value:zr(t),writable:!0})}:tr);function Yr(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}function Ur(e,t,n,i){for(var r=e.length,o=n+(i?1:-1);i?o--:++o<r;)if(t(e[o],o,e))return o;return-1}function Qr(e){return e!=e}function qr(e,t,n){return t==t?function(e,t,n){for(var i=n-1,r=e.length;++i<r;)if(e[i]===t)return i;return-1}(e,t,n):Ur(e,Qr,n)}function eo(e,t){return!!(null==e?0:e.length)&&qr(e,t,0)>-1}var to=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];function no(e,t,n){var i=t+"";return Jr(e,function(e,t){var n=t.length;if(!n)return e;var i=n-1;return t[i]=(n>1?"& ":"")+t[i],t=t.join(n>2?", ":" "),e.replace(Dr,"{\n/* [wrapped with "+t+"] */\n")}(i,function(e,t){return Yr(to,(function(n){var i="_."+n[0];t&n[1]&&!eo(e,i)&&e.push(i)})),e.sort()}(function(e){var t=e.match(Kr);return t?t[1].split(jr):[]}(i),n)))}function io(e,t,n,i,r,o,s,a,c,l){var u=8&t;t|=u?32:64,4&(t&=~(u?64:32))||(t&=-4);var h=[e,t,r,u?o:void 0,u?s:void 0,u?void 0:o,u?void 0:s,a,c,l],d=n.apply(void 0,h);return Zr(e)&&Fr(d,h),d.placeholder=i,no(d,e,t)}function ro(e){return e.placeholder}var oo=/^(?:0|[1-9]\d*)$/;function so(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&oo.test(e))&&e>-1&&e%1==0&&e<t}var ao=Math.min;function co(e,t){for(var n=e.length,i=ao(t.length,n),r=Mr(e);i--;){var o=t[i];e[i]=so(o,n)?r[o]:void 0}return e}var lo="__lodash_placeholder__";function uo(e,t){for(var n=-1,i=e.length,r=0,o=[];++n<i;){var s=e[n];s!==t&&s!==lo||(e[n]=lo,o[r++]=n)}return o}function ho(e,t,n,i,r,o,s,a,c,l){var u=128&t,h=1&t,d=2&t,g=24&t,f=512&t,p=d?void 0:yr(e);return function m(){for(var C=arguments.length,I=Array(C),v=C;v--;)I[v]=arguments[v];if(g)var A=ro(m),y=kr(I,A);if(i&&(I=$r(I,i,r,g)),o&&(I=xr(I,o,s,g)),C-=y,g&&C<l){var b=uo(I,A);return io(e,t,ho,m.placeholder,n,I,b,a,c,l-C)}var w=h?n:this,$=d?w[e]:e;return C=I.length,a?I=co(I,a):f&&C>1&&I.reverse(),u&&c<C&&(I.length=c),this&&this!==bi&&this instanceof m&&($=p||yr($)),$.apply(w,I)}}var go="__lodash_placeholder__",fo=128,po=Math.min;var mo=Math.max;function Co(e,t,n,i,r,o,s,a){var c=2&t;if(!c&&"function"!=typeof e)throw new TypeError("Expected a function");var l=i?i.length:0;if(l||(t&=-97,i=r=void 0),s=void 0===s?s:mo(qi(s),0),a=void 0===a?a:qi(a),l-=r?r.length:0,64&t){var u=i,h=r;i=r=void 0}var d=c?void 0:Er(e),g=[e,t,n,i,r,u,h,o,s,a];if(d&&function(e,t){var n=e[1],i=t[1],r=n|i,o=r<131,s=i==fo&&8==n||i==fo&&256==n&&e[7].length<=t[8]||384==i&&t[7].length<=t[8]&&8==n;if(!o&&!s)return e;1&i&&(e[2]=t[2],r|=1&n?0:4);var a=t[3];if(a){var c=e[3];e[3]=c?$r(c,a,t[4]):a,e[4]=c?uo(e[3],go):t[4]}(a=t[5])&&(c=e[5],e[5]=c?xr(c,a,t[6]):a,e[6]=c?uo(e[5],go):t[6]),(a=t[7])&&(e[7]=a),i&fo&&(e[8]=null==e[8]?t[8]:po(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=r}(g,d),e=g[0],t=g[1],n=g[2],i=g[3],r=g[4],!(a=g[9]=void 0===g[9]?c?0:e.length:mo(g[9]-l,0))&&24&t&&(t&=-25),t&&1!=t)f=8==t||16==t?function(e,t,n){var i=yr(e);return function r(){for(var o=arguments.length,s=Array(o),a=o,c=ro(r);a--;)s[a]=arguments[a];var l=o<3&&s[0]!==c&&s[o-1]!==c?[]:uo(s,c);return(o-=l.length)<n?io(e,t,ho,r.placeholder,void 0,s,l,void 0,void 0,n-o):br(this&&this!==bi&&this instanceof r?i:e,this,s)}}(e,t,a):32!=t&&33!=t||r.length?ho.apply(void 0,g):function(e,t,n,i){var r=1&t,o=yr(e);return function t(){for(var s=-1,a=arguments.length,c=-1,l=i.length,u=Array(l+a),h=this&&this!==bi&&this instanceof t?o:e;++c<l;)u[c]=i[c];for(;a--;)u[c++]=arguments[++s];return br(h,r?n:this,u)}}(e,t,n,i);else var f=function(e,t,n){var i=1&t,r=yr(e);return function t(){return(this&&this!==bi&&this instanceof t?r:e).apply(i?n:this,arguments)}}(e,t,n);return no((d?Ir:Fr)(f,g),e,t)}function Io(e,t,n){return t=n?void 0:t,Co(e,128,void 0,void 0,void 0,void 0,t=e&&null==t?e.length:t)}function vo(e,t,n){"__proto__"==t&&Xr?Xr(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Ao(e,t){return e===t||e!=e&&t!=t}var yo=Object.prototype.hasOwnProperty;function bo(e,t,n){var i=e[t];yo.call(e,t)&&Ao(i,n)&&(void 0!==n||t in e)||vo(e,t,n)}function wo(e,t,n,i){var r=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var a=t[o],c=i?i(n[a],e[a],a,n,e):void 0;void 0===c&&(c=e[a]),r?vo(n,a,c):bo(n,a,c)}return n}var $o=Math.max;function So(e,t,n){return t=$o(void 0===t?e.length-1:t,0),function(){for(var i=arguments,r=-1,o=$o(i.length-t,0),s=Array(o);++r<o;)s[r]=i[t+r];r=-1;for(var a=Array(t+1);++r<t;)a[r]=i[r];return a[t]=n(s),br(e,this,a)}}function xo(e,t){return Jr(So(e,t,tr),e+"")}function ko(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Ro(e){return null!=e&&ko(e.length)&&!nr(e)}function _o(e,t,n){if(!ji(n))return!1;var i=typeof t;return!!("number"==i?Ro(n)&&so(t,n.length):"string"==i&&t in n)&&Ao(n[t],e)}function Bo(e){return xo((function(t,n){var i=-1,r=n.length,o=r>1?n[r-1]:void 0,s=r>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(r--,o):void 0,s&&_o(n[0],n[1],s)&&(o=r<3?void 0:o,r=1),t=Object(t);++i<r;){var a=n[i];a&&e(t,a,i,o)}return t}))}var Eo=Object.prototype;function Lo(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Eo)}function Wo(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}function Go(e){return Ei(e)&&"[object Arguments]"==Bi(e)}var To=Object.prototype,Mo=To.hasOwnProperty,Oo=To.propertyIsEnumerable,No=Go(function(){return arguments}())?Go:function(e){return Ei(e)&&Mo.call(e,"callee")&&!Oo.call(e,"callee")};function Ho(){return!1}var Zo="object"==typeof exports&&exports&&!exports.nodeType&&exports,Vo=Zo&&"object"==typeof module&&module&&!module.nodeType&&module,Po=Vo&&Vo.exports===Zo?bi.Buffer:void 0,Fo=(Po?Po.isBuffer:void 0)||Ho,Ko={};function jo(e){return function(t){return e(t)}}Ko["[object Float32Array]"]=Ko["[object Float64Array]"]=Ko["[object Int8Array]"]=Ko["[object Int16Array]"]=Ko["[object Int32Array]"]=Ko["[object Uint8Array]"]=Ko["[object Uint8ClampedArray]"]=Ko["[object Uint16Array]"]=Ko["[object Uint32Array]"]=!0,Ko["[object Arguments]"]=Ko["[object Array]"]=Ko["[object ArrayBuffer]"]=Ko["[object Boolean]"]=Ko["[object DataView]"]=Ko["[object Date]"]=Ko["[object Error]"]=Ko["[object Function]"]=Ko["[object Map]"]=Ko["[object Number]"]=Ko["[object Object]"]=Ko["[object RegExp]"]=Ko["[object Set]"]=Ko["[object String]"]=Ko["[object WeakMap]"]=!1;var Do="object"==typeof exports&&exports&&!exports.nodeType&&exports,zo=Do&&"object"==typeof module&&module&&!module.nodeType&&module,Xo=zo&&zo.exports===Do&&Ai.process,Jo=function(){try{var e=zo&&zo.require&&zo.require("util").types;return e||Xo&&Xo.binding&&Xo.binding("util")}catch(e){}}(),Yo=Jo&&Jo.isTypedArray,Uo=Yo?jo(Yo):function(e){return Ei(e)&&ko(e.length)&&!!Ko[Bi(e)]},Qo=Object.prototype.hasOwnProperty;function qo(e,t){var n=Ti(e),i=!n&&No(e),r=!n&&!i&&Fo(e),o=!n&&!i&&!r&&Uo(e),s=n||i||r||o,a=s?Wo(e.length,String):[],c=a.length;for(var l in e)!t&&!Qo.call(e,l)||s&&("length"==l||r&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||so(l,c))||a.push(l);return a}function es(e,t){return function(n){return e(t(n))}}var ts=es(Object.keys,Object),ns=Object.prototype.hasOwnProperty;function is(e){if(!Lo(e))return ts(e);var t=[];for(var n in Object(e))ns.call(e,n)&&"constructor"!=n&&t.push(n);return t}function rs(e){return Ro(e)?qo(e):is(e)}var os=Object.prototype.hasOwnProperty,ss=Bo((function(e,t){if(Lo(t)||Ro(t))wo(t,rs(t),e);else for(var n in t)os.call(t,n)&&bo(e,n,t[n])}));var as=Object.prototype.hasOwnProperty;function cs(e){if(!ji(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=Lo(e),n=[];for(var i in e)("constructor"!=i||!t&&as.call(e,i))&&n.push(i);return n}function ls(e){return Ro(e)?qo(e,!0):cs(e)}var us=Bo((function(e,t){wo(t,ls(t),e)})),hs=Bo((function(e,t,n,i){wo(t,ls(t),e,i)})),ds=Bo((function(e,t,n,i){wo(t,rs(t),e,i)})),gs=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,fs=/^\w*$/;function ps(e,t){if(Ti(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Li(e))||(fs.test(e)||!gs.test(e)||null!=t&&e in Object(t))}var ms=pr(Object,"create");var Cs=Object.prototype.hasOwnProperty;var Is=Object.prototype.hasOwnProperty;function vs(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function As(e,t){for(var n=e.length;n--;)if(Ao(e[n][0],t))return n;return-1}vs.prototype.clear=function(){this.__data__=ms?ms(null):{},this.size=0},vs.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},vs.prototype.get=function(e){var t=this.__data__;if(ms){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Cs.call(t,e)?t[e]:void 0},vs.prototype.has=function(e){var t=this.__data__;return ms?void 0!==t[e]:Is.call(t,e)},vs.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ms&&void 0===t?"__lodash_hash_undefined__":t,this};var ys=Array.prototype.splice;function bs(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}bs.prototype.clear=function(){this.__data__=[],this.size=0},bs.prototype.delete=function(e){var t=this.__data__,n=As(t,e);return!(n<0)&&(n==t.length-1?t.pop():ys.call(t,n,1),--this.size,!0)},bs.prototype.get=function(e){var t=this.__data__,n=As(t,e);return n<0?void 0:t[n][1]},bs.prototype.has=function(e){return As(this.__data__,e)>-1},bs.prototype.set=function(e,t){var n=this.__data__,i=As(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this};var ws=pr(bi,"Map");function $s(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function Ss(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Ss.prototype.clear=function(){this.size=0,this.__data__={hash:new vs,map:new(ws||bs),string:new vs}},Ss.prototype.delete=function(e){var t=$s(this,e).delete(e);return this.size-=t?1:0,t},Ss.prototype.get=function(e){return $s(this,e).get(e)},Ss.prototype.has=function(e){return $s(this,e).has(e)},Ss.prototype.set=function(e,t){var n=$s(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this};function xs(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var s=e.apply(this,i);return n.cache=o.set(r,s)||o,s};return n.cache=new(xs.Cache||Ss),n}xs.Cache=Ss;var ks=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Rs=/\\(\\)?/g,_s=function(e){var t=xs(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ks,(function(e,n,i,r){t.push(i?r.replace(Rs,"$1"):n||e)})),t}));function Bs(e){return null==e?"":Ni(e)}function Es(e,t){return Ti(e)?e:ps(e,t)?[e]:_s(Bs(e))}function Ls(e){if("string"==typeof e||Li(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}function Ws(e,t){for(var n=0,i=(t=Es(t,e)).length;null!=e&&n<i;)e=e[Ls(t[n++])];return n&&n==i?e:void 0}function Gs(e,t,n){var i=null==e?void 0:Ws(e,t);return void 0===i?n:i}function Ts(e,t){for(var n=-1,i=t.length,r=Array(i),o=null==e;++n<i;)r[n]=o?void 0:Gs(e,t[n]);return r}function Ms(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}var Os=wi?wi.isConcatSpreadable:void 0;function Ns(e){return Ti(e)||No(e)||!!(Os&&e&&e[Os])}function Hs(e,t,n,i,r){var o=-1,s=e.length;for(n||(n=Ns),r||(r=[]);++o<s;){var a=e[o];t>0&&n(a)?t>1?Hs(a,t-1,n,i,r):Ms(r,a):i||(r[r.length]=a)}return r}function Zs(e){return(null==e?0:e.length)?Hs(e,1):[]}function Vs(e){return Jr(So(e,void 0,Zs),e+"")}var Ps=Vs(Ts),Fs=es(Object.getPrototypeOf,Object),Ks=Function.prototype,js=Object.prototype,Ds=Ks.toString,zs=js.hasOwnProperty,Xs=Ds.call(Object);function Js(e){if(!Ei(e)||"[object Object]"!=Bi(e))return!1;var t=Fs(e);if(null===t)return!0;var n=zs.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Ds.call(n)==Xs}function Ys(e){if(!Ei(e))return!1;var t=Bi(e);return"[object Error]"==t||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!Js(e)}var Us=xo((function(e,t){try{return br(e,void 0,t)}catch(e){return Ys(e)?e:new Error(e)}}));function Qs(e,t){var n;if("function"!=typeof t)throw new TypeError("Expected a function");return e=qi(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}var qs=xo((function(e,t,n){var i=1;if(n.length){var r=uo(n,ro(qs));i|=32}return Co(e,i,t,n,r)}));qs.placeholder={};var ea=Vs((function(e,t){return Yr(t,(function(t){t=Ls(t),vo(e,t,qs(e[t],e))})),e})),ta=xo((function(e,t,n){var i=3;if(n.length){var r=uo(n,ro(ta));i|=32}return Co(t,i,e,n,r)}));function na(e,t,n){var i=-1,r=e.length;t<0&&(t=-t>r?0:r+t),(n=n>r?r:n)<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(r);++i<r;)o[i]=e[i+t];return o}function ia(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:na(e,t,n)}ta.placeholder={};var ra=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");function oa(e){return ra.test(e)}var sa="[\\ud800-\\udfff]",aa="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",ca="\\ud83c[\\udffb-\\udfff]",la="[^\\ud800-\\udfff]",ua="(?:\\ud83c[\\udde6-\\uddff]){2}",ha="[\\ud800-\\udbff][\\udc00-\\udfff]",da="(?:"+aa+"|"+ca+")"+"?",ga="[\\ufe0e\\ufe0f]?",fa=ga+da+("(?:\\u200d(?:"+[la,ua,ha].join("|")+")"+ga+da+")*"),pa="(?:"+[la+aa+"?",aa,ua,ha,sa].join("|")+")",ma=RegExp(ca+"(?="+ca+")|"+pa+fa,"g");function Ca(e){return oa(e)?function(e){return e.match(ma)||[]}(e):function(e){return e.split("")}(e)}function Ia(e){return function(t){var n=oa(t=Bs(t))?Ca(t):void 0,i=n?n[0]:t.charAt(0),r=n?ia(n,1).join(""):t.slice(1);return i[e]()+r}}var va=Ia("toUpperCase");function Aa(e){return va(Bs(e).toLowerCase())}function ya(e,t,n,i){var r=-1,o=null==e?0:e.length;for(i&&o&&(n=e[++r]);++r<o;)n=t(n,e[r],r,e);return n}function ba(e){return function(t){return null==e?void 0:e[t]}}var wa=ba({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),$a=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Sa=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");function xa(e){return(e=Bs(e))&&e.replace($a,wa).replace(Sa,"")}var ka=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;var Ra=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;var _a="\\u2700-\\u27bf",Ba="a-z\\xdf-\\xf6\\xf8-\\xff",Ea="A-Z\\xc0-\\xd6\\xd8-\\xde",La="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Wa="["+La+"]",Ga="\\d+",Ta="[\\u2700-\\u27bf]",Ma="["+Ba+"]",Oa="[^\\ud800-\\udfff"+La+Ga+_a+Ba+Ea+"]",Na="(?:\\ud83c[\\udde6-\\uddff]){2}",Ha="[\\ud800-\\udbff][\\udc00-\\udfff]",Za="["+Ea+"]",Va="(?:"+Ma+"|"+Oa+")",Pa="(?:"+Za+"|"+Oa+")",Fa="(?:['](?:d|ll|m|re|s|t|ve))?",Ka="(?:['](?:D|LL|M|RE|S|T|VE))?",ja="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",Da="[\\ufe0e\\ufe0f]?",za=Da+ja+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",Na,Ha].join("|")+")"+Da+ja+")*"),Xa="(?:"+[Ta,Na,Ha].join("|")+")"+za,Ja=RegExp([Za+"?"+Ma+"+"+Fa+"(?="+[Wa,Za,"$"].join("|")+")",Pa+"+"+Ka+"(?="+[Wa,Za+Va,"$"].join("|")+")",Za+"?"+Va+"+"+Fa,Za+"+"+Ka,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ga,Xa].join("|"),"g");function Ya(e,t,n){return e=Bs(e),void 0===(t=n?void 0:t)?function(e){return Ra.test(e)}(e)?function(e){return e.match(Ja)||[]}(e):function(e){return e.match(ka)||[]}(e):e.match(t)||[]}var Ua=RegExp("[']","g");function Qa(e){return function(t){return ya(Ya(xa(t).replace(Ua,"")),e,"")}}var qa=Qa((function(e,t,n){return t=t.toLowerCase(),e+(n?Aa(t):t)}));function ec(){if(!arguments.length)return[];var e=arguments[0];return Ti(e)?e:[e]}var tc=bi.isFinite,nc=Math.min;function ic(e){var t=Math[e];return function(e,n){if(e=Yi(e),(n=null==n?0:nc(qi(n),292))&&tc(e)){var i=(Bs(e)+"e").split("e");return+((i=(Bs(t(i[0]+"e"+(+i[1]+n)))+"e").split("e"))[0]+"e"+(+i[1]-n))}return t(e)}}var rc=ic("ceil");function oc(e){var t=Hr(e);return t.__chain__=!0,t}var sc=Math.ceil,ac=Math.max;function cc(e,t,n){t=(n?_o(e,t,n):void 0===t)?1:ac(qi(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var r=0,o=0,s=Array(sc(i/t));r<i;)s[o++]=na(e,r,r+=t);return s}function lc(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}function uc(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=Yi(n))==n?n:0),void 0!==t&&(t=(t=Yi(t))==t?t:0),lc(Yi(e),t,n)}function hc(e){var t=this.__data__=new bs(e);this.size=t.size}function dc(e,t){return e&&wo(t,rs(t),e)}hc.prototype.clear=function(){this.__data__=new bs,this.size=0},hc.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},hc.prototype.get=function(e){return this.__data__.get(e)},hc.prototype.has=function(e){return this.__data__.has(e)},hc.prototype.set=function(e,t){var n=this.__data__;if(n instanceof bs){var i=n.__data__;if(!ws||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new Ss(i)}return n.set(e,t),this.size=n.size,this};var gc="object"==typeof exports&&exports&&!exports.nodeType&&exports,fc=gc&&"object"==typeof module&&module&&!module.nodeType&&module,pc=fc&&fc.exports===gc?bi.Buffer:void 0,mc=pc?pc.allocUnsafe:void 0;function Cc(e,t){if(t)return e.slice();var n=e.length,i=mc?mc(n):new e.constructor(n);return e.copy(i),i}function Ic(e,t){for(var n=-1,i=null==e?0:e.length,r=0,o=[];++n<i;){var s=e[n];t(s,n,e)&&(o[r++]=s)}return o}function vc(){return[]}var Ac=Object.prototype.propertyIsEnumerable,yc=Object.getOwnPropertySymbols,bc=yc?function(e){return null==e?[]:(e=Object(e),Ic(yc(e),(function(t){return Ac.call(e,t)})))}:vc;var wc=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Ms(t,bc(e)),e=Fs(e);return t}:vc;function $c(e,t,n){var i=t(e);return Ti(e)?i:Ms(i,n(e))}function Sc(e){return $c(e,rs,bc)}function xc(e){return $c(e,ls,wc)}var kc=pr(bi,"DataView"),Rc=pr(bi,"Promise"),_c=pr(bi,"Set"),Bc="[object Map]",Ec="[object Promise]",Lc="[object Set]",Wc="[object WeakMap]",Gc="[object DataView]",Tc=ar(kc),Mc=ar(ws),Oc=ar(Rc),Nc=ar(_c),Hc=ar(mr),Zc=Bi;(kc&&Zc(new kc(new ArrayBuffer(1)))!=Gc||ws&&Zc(new ws)!=Bc||Rc&&Zc(Rc.resolve())!=Ec||_c&&Zc(new _c)!=Lc||mr&&Zc(new mr)!=Wc)&&(Zc=function(e){var t=Bi(e),n="[object Object]"==t?e.constructor:void 0,i=n?ar(n):"";if(i)switch(i){case Tc:return Gc;case Mc:return Bc;case Oc:return Ec;case Nc:return Lc;case Hc:return Wc}return t});var Vc=Zc,Pc=Object.prototype.hasOwnProperty;var Fc=bi.Uint8Array;function Kc(e){var t=new e.constructor(e.byteLength);return new Fc(t).set(new Fc(e)),t}var jc=/\w*$/;var Dc=wi?wi.prototype:void 0,zc=Dc?Dc.valueOf:void 0;function Xc(e,t){var n=t?Kc(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Jc(e,t,n){var i,r=e.constructor;switch(t){case"[object ArrayBuffer]":return Kc(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return function(e,t){var n=t?Kc(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Xc(e,n);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return function(e){var t=new e.constructor(e.source,jc.exec(e));return t.lastIndex=e.lastIndex,t}(e);case"[object Set]":return new r;case"[object Symbol]":return i=e,zc?Object(zc.call(i)):{}}}function Yc(e){return"function"!=typeof e.constructor||Lo(e)?{}:Ar(Fs(e))}var Uc=Jo&&Jo.isMap,Qc=Uc?jo(Uc):function(e){return Ei(e)&&"[object Map]"==Vc(e)};var qc=Jo&&Jo.isSet,el=qc?jo(qc):function(e){return Ei(e)&&"[object Set]"==Vc(e)},tl="[object Arguments]",nl="[object Function]",il="[object Object]",rl={};function ol(e,t,n,i,r,o){var s,a=1&t,c=2&t,l=4&t;if(n&&(s=r?n(e,i,r,o):n(e)),void 0!==s)return s;if(!ji(e))return e;var u=Ti(e);if(u){if(s=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Pc.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!a)return Mr(e,s)}else{var h=Vc(e),d=h==nl||"[object GeneratorFunction]"==h;if(Fo(e))return Cc(e,a);if(h==il||h==tl||d&&!r){if(s=c||d?{}:Yc(e),!a)return c?function(e,t){return wo(e,wc(e),t)}(e,function(e,t){return e&&wo(t,ls(t),e)}(s,e)):function(e,t){return wo(e,bc(e),t)}(e,dc(s,e))}else{if(!rl[h])return r?e:{};s=Jc(e,h,a)}}o||(o=new hc);var g=o.get(e);if(g)return g;o.set(e,s),el(e)?e.forEach((function(i){s.add(ol(i,t,n,i,e,o))})):Qc(e)&&e.forEach((function(i,r){s.set(r,ol(i,t,n,r,e,o))}));var f=u?void 0:(l?c?xc:Sc:c?ls:rs)(e);return Yr(f||e,(function(i,r){f&&(i=e[r=i]),bo(s,r,ol(i,t,n,r,e,o))})),s}rl[tl]=rl["[object Array]"]=rl["[object ArrayBuffer]"]=rl["[object DataView]"]=rl["[object Boolean]"]=rl["[object Date]"]=rl["[object Float32Array]"]=rl["[object Float64Array]"]=rl["[object Int8Array]"]=rl["[object Int16Array]"]=rl["[object Int32Array]"]=rl["[object Map]"]=rl["[object Number]"]=rl[il]=rl["[object RegExp]"]=rl["[object Set]"]=rl["[object String]"]=rl["[object Symbol]"]=rl["[object Uint8Array]"]=rl["[object Uint8ClampedArray]"]=rl["[object Uint16Array]"]=rl["[object Uint32Array]"]=!0,rl["[object Error]"]=rl[nl]=rl["[object WeakMap]"]=!1;function sl(e){return ol(e,4)}function al(e){return ol(e,5)}function cl(e,t){return ol(e,5,t="function"==typeof t?t:void 0)}function ll(e,t){return ol(e,4,t="function"==typeof t?t:void 0)}function ul(){return new Tr(this.value(),this.__chain__)}function hl(e){for(var t=-1,n=null==e?0:e.length,i=0,r=[];++t<n;){var o=e[t];o&&(r[i++]=o)}return r}function dl(){var e=arguments.length;if(!e)return[];for(var t=Array(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Ms(Ti(n)?Mr(n):[n],Hs(t,1))}function gl(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Ss;++t<n;)this.add(e[t])}function fl(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}function pl(e,t){return e.has(t)}gl.prototype.add=gl.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},gl.prototype.has=function(e){return this.__data__.has(e)};function ml(e,t,n,i,r,o){var s=1&n,a=e.length,c=t.length;if(a!=c&&!(s&&c>a))return!1;var l=o.get(e),u=o.get(t);if(l&&u)return l==t&&u==e;var h=-1,d=!0,g=2&n?new gl:void 0;for(o.set(e,t),o.set(t,e);++h<a;){var f=e[h],p=t[h];if(i)var m=s?i(p,f,h,t,e,o):i(f,p,h,e,t,o);if(void 0!==m){if(m)continue;d=!1;break}if(g){if(!fl(t,(function(e,t){if(!pl(g,t)&&(f===e||r(f,e,n,i,o)))return g.push(t)}))){d=!1;break}}else if(f!==p&&!r(f,p,n,i,o)){d=!1;break}}return o.delete(e),o.delete(t),d}function Cl(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}function Il(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var vl=wi?wi.prototype:void 0,Al=vl?vl.valueOf:void 0;var yl=Object.prototype.hasOwnProperty;var bl="[object Arguments]",wl="[object Array]",$l="[object Object]",Sl=Object.prototype.hasOwnProperty;function xl(e,t,n,i,r,o){var s=Ti(e),a=Ti(t),c=s?wl:Vc(e),l=a?wl:Vc(t),u=(c=c==bl?$l:c)==$l,h=(l=l==bl?$l:l)==$l,d=c==l;if(d&&Fo(e)){if(!Fo(t))return!1;s=!0,u=!1}if(d&&!u)return o||(o=new hc),s||Uo(e)?ml(e,t,n,i,r,o):function(e,t,n,i,r,o,s){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new Fc(e),new Fc(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ao(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var a=Cl;case"[object Set]":var c=1&i;if(a||(a=Il),e.size!=t.size&&!c)return!1;var l=s.get(e);if(l)return l==t;i|=2,s.set(e,t);var u=ml(a(e),a(t),i,r,o,s);return s.delete(e),u;case"[object Symbol]":if(Al)return Al.call(e)==Al.call(t)}return!1}(e,t,c,n,i,r,o);if(!(1&n)){var g=u&&Sl.call(e,"__wrapped__"),f=h&&Sl.call(t,"__wrapped__");if(g||f){var p=g?e.value():e,m=f?t.value():t;return o||(o=new hc),r(p,m,n,i,o)}}return!!d&&(o||(o=new hc),function(e,t,n,i,r,o){var s=1&n,a=Sc(e),c=a.length;if(c!=Sc(t).length&&!s)return!1;for(var l=c;l--;){var u=a[l];if(!(s?u in t:yl.call(t,u)))return!1}var h=o.get(e),d=o.get(t);if(h&&d)return h==t&&d==e;var g=!0;o.set(e,t),o.set(t,e);for(var f=s;++l<c;){var p=e[u=a[l]],m=t[u];if(i)var C=s?i(m,p,u,t,e,o):i(p,m,u,e,t,o);if(!(void 0===C?p===m||r(p,m,n,i,o):C)){g=!1;break}f||(f="constructor"==u)}if(g&&!f){var I=e.constructor,v=t.constructor;I==v||!("constructor"in e)||!("constructor"in t)||"function"==typeof I&&I instanceof I&&"function"==typeof v&&v instanceof v||(g=!1)}return o.delete(e),o.delete(t),g}(e,t,n,i,r,o))}function kl(e,t,n,i,r){return e===t||(null==e||null==t||!Ei(e)&&!Ei(t)?e!=e&&t!=t:xl(e,t,n,i,kl,r))}function Rl(e,t,n,i){var r=n.length,o=r,s=!i;if(null==e)return!o;for(e=Object(e);r--;){var a=n[r];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++r<o;){var c=(a=n[r])[0],l=e[c],u=a[1];if(s&&a[2]){if(void 0===l&&!(c in e))return!1}else{var h=new hc;if(i)var d=i(l,u,c,e,t,h);if(!(void 0===d?kl(u,l,3,i,h):d))return!1}}return!0}function _l(e){return e==e&&!ji(e)}function Bl(e){for(var t=rs(e),n=t.length;n--;){var i=t[n],r=e[i];t[n]=[i,r,_l(r)]}return t}function El(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}function Ll(e){var t=Bl(e);return 1==t.length&&t[0][2]?El(t[0][0],t[0][1]):function(n){return n===e||Rl(n,e,t)}}function Wl(e,t){return null!=e&&t in Object(e)}function Gl(e,t,n){for(var i=-1,r=(t=Es(t,e)).length,o=!1;++i<r;){var s=Ls(t[i]);if(!(o=null!=e&&n(e,s)))break;e=e[s]}return o||++i!=r?o:!!(r=null==e?0:e.length)&&ko(r)&&so(s,r)&&(Ti(e)||No(e))}function Tl(e,t){return null!=e&&Gl(e,t,Wl)}function Ml(e,t){return ps(e)&&_l(t)?El(Ls(e),t):function(n){var i=Gs(n,e);return void 0===i&&i===t?Tl(n,e):kl(t,i,3)}}function Ol(e){return function(t){return null==t?void 0:t[e]}}function Nl(e){return ps(e)?Ol(Ls(e)):function(e){return function(t){return Ws(t,e)}}(e)}function Hl(e){return"function"==typeof e?e:null==e?tr:"object"==typeof e?Ti(e)?Ml(e[0],e[1]):Ll(e):Nl(e)}function Zl(e){var t=null==e?0:e.length,n=Hl;return e=t?Gi(e,(function(e){if("function"!=typeof e[1])throw new TypeError("Expected a function");return[n(e[0]),e[1]]})):[],xo((function(n){for(var i=-1;++i<t;){var r=e[i];if(br(r[0],this,n))return br(r[1],this,n)}}))}function Vl(e,t,n){var i=n.length;if(null==e)return!i;for(e=Object(e);i--;){var r=n[i],o=t[r],s=e[r];if(void 0===s&&!(r in e)||!o(s))return!1}return!0}function Pl(e){return function(e){var t=rs(e);return function(n){return Vl(n,e,t)}}(ol(e,1))}function Fl(e,t){return null==t||Vl(e,t,rs(t))}function Kl(e,t,n,i){for(var r=-1,o=null==e?0:e.length;++r<o;){var s=e[r];t(i,s,n(s),e)}return i}function jl(e){return function(t,n,i){for(var r=-1,o=Object(t),s=i(t),a=s.length;a--;){var c=s[e?a:++r];if(!1===n(o[c],c,o))break}return t}}var Dl=jl();function zl(e,t){return e&&Dl(e,t,rs)}function Xl(e,t){return function(n,i){if(null==n)return n;if(!Ro(n))return e(n,i);for(var r=n.length,o=t?r:-1,s=Object(n);(t?o--:++o<r)&&!1!==i(s[o],o,s););return n}}var Jl=Xl(zl);function Yl(e,t,n,i){return Jl(e,(function(e,r,o){t(i,e,n(e),o)})),i}function Ul(e,t){return function(n,i){var r=Ti(n)?Kl:Yl,o=t?t():{};return r(n,e,Hl(i),o)}}var Ql=Object.prototype.hasOwnProperty,ql=Ul((function(e,t,n){Ql.call(e,n)?++e[n]:vo(e,n,1)}));function eu(e,t){var n=Ar(e);return null==t?n:dc(n,t)}function tu(e,t,n){var i=Co(e,8,void 0,void 0,void 0,void 0,void 0,t=n?void 0:t);return i.placeholder=tu.placeholder,i}tu.placeholder={};function nu(e,t,n){var i=Co(e,16,void 0,void 0,void 0,void 0,void 0,t=n?void 0:t);return i.placeholder=nu.placeholder,i}nu.placeholder={};var iu=function(){return bi.Date.now()},ru=Math.max,ou=Math.min;function su(e,t,n){var i,r,o,s,a,c,l=0,u=!1,h=!1,d=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function g(t){var n=i,o=r;return i=r=void 0,l=t,s=e.apply(o,n)}function f(e){return l=e,a=setTimeout(m,t),u?g(e):s}function p(e){var n=e-c;return void 0===c||n>=t||n<0||h&&e-l>=o}function m(){var e=iu();if(p(e))return C(e);a=setTimeout(m,function(e){var n=t-(e-c);return h?ou(n,o-(e-l)):n}(e))}function C(e){return a=void 0,d&&i?g(e):(i=r=void 0,s)}function I(){var e=iu(),n=p(e);if(i=arguments,r=this,c=e,n){if(void 0===a)return f(c);if(h)return clearTimeout(a),a=setTimeout(m,t),g(c)}return void 0===a&&(a=setTimeout(m,t)),s}return t=Yi(t)||0,ji(n)&&(u=!!n.leading,o=(h="maxWait"in n)?ru(Yi(n.maxWait)||0,t):o,d="trailing"in n?!!n.trailing:d),I.cancel=function(){void 0!==a&&clearTimeout(a),l=0,i=c=r=a=void 0},I.flush=function(){return void 0===a?s:C(iu())},I}function au(e,t){return null==e||e!=e?t:e}var cu=Object.prototype,lu=cu.hasOwnProperty,uu=xo((function(e,t){e=Object(e);var n=-1,i=t.length,r=i>2?t[2]:void 0;for(r&&_o(t[0],t[1],r)&&(i=1);++n<i;)for(var o=t[n],s=ls(o),a=-1,c=s.length;++a<c;){var l=s[a],u=e[l];(void 0===u||Ao(u,cu[l])&&!lu.call(e,l))&&(e[l]=o[l])}return e}));function hu(e,t,n){(void 0!==n&&!Ao(e[t],n)||void 0===n&&!(t in e))&&vo(e,t,n)}function du(e){return Ei(e)&&Ro(e)}function gu(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}function fu(e){return wo(e,ls(e))}function pu(e,t,n,i,r){e!==t&&Dl(t,(function(o,s){if(r||(r=new hc),ji(o))!function(e,t,n,i,r,o,s){var a=gu(e,n),c=gu(t,n),l=s.get(c);if(l)hu(e,n,l);else{var u=o?o(a,c,n+"",e,t,s):void 0,h=void 0===u;if(h){var d=Ti(c),g=!d&&Fo(c),f=!d&&!g&&Uo(c);u=c,d||g||f?Ti(a)?u=a:du(a)?u=Mr(a):g?(h=!1,u=Cc(c,!0)):f?(h=!1,u=Xc(c,!0)):u=[]:Js(c)||No(c)?(u=a,No(a)?u=fu(a):ji(a)&&!nr(a)||(u=Yc(c))):h=!1}h&&(s.set(c,u),r(u,c,i,o,s),s.delete(c)),hu(e,n,u)}}(e,t,s,n,pu,i,r);else{var a=i?i(gu(e,s),o,s+"",e,t,r):void 0;void 0===a&&(a=o),hu(e,s,a)}}),ls)}function mu(e,t,n,i,r,o){return ji(e)&&ji(t)&&(o.set(t,e),pu(e,t,void 0,mu,o),o.delete(t)),e}var Cu=Bo((function(e,t,n,i){pu(e,t,n,i)})),Iu=xo((function(e){return e.push(void 0,mu),br(Cu,void 0,e)}));function vu(e,t,n){if("function"!=typeof e)throw new TypeError("Expected a function");return setTimeout((function(){e.apply(void 0,n)}),t)}var Au=xo((function(e,t){return vu(e,1,t)})),yu=xo((function(e,t,n){return vu(e,Yi(t)||0,n)}));function bu(e,t,n){for(var i=-1,r=null==e?0:e.length;++i<r;)if(n(t,e[i]))return!0;return!1}function wu(e,t,n,i){var r=-1,o=eo,s=!0,a=e.length,c=[],l=t.length;if(!a)return c;n&&(t=Gi(t,jo(n))),i?(o=bu,s=!1):t.length>=200&&(o=pl,s=!1,t=new gl(t));e:for(;++r<a;){var u=e[r],h=null==n?u:n(u);if(u=i||0!==u?u:0,s&&h==h){for(var d=l;d--;)if(t[d]===h)continue e;c.push(u)}else o(t,h,i)||c.push(u)}return c}var $u=xo((function(e,t){return du(e)?wu(e,Hs(t,1,du,!0)):[]}));function Su(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var xu=xo((function(e,t){var n=Su(t);return du(n)&&(n=void 0),du(e)?wu(e,Hs(t,1,du,!0),Hl(n)):[]})),ku=xo((function(e,t){var n=Su(t);return du(n)&&(n=void 0),du(e)?wu(e,Hs(t,1,du,!0),void 0,n):[]})),Ru=Hi((function(e,t){return e/t}),1);function _u(e,t,n){var i=null==e?0:e.length;return i?na(e,(t=n||void 0===t?1:qi(t))<0?0:t,i):[]}function Bu(e,t,n){var i=null==e?0:e.length;return i?na(e,0,(t=i-(t=n||void 0===t?1:qi(t)))<0?0:t):[]}function Eu(e,t,n,i){for(var r=e.length,o=i?r:-1;(i?o--:++o<r)&&t(e[o],o,e););return n?na(e,i?0:o,i?o+1:r):na(e,i?o+1:0,i?r:o)}function Lu(e,t){return e&&e.length?Eu(e,Hl(t),!0,!0):[]}function Wu(e,t){return e&&e.length?Eu(e,Hl(t),!0):[]}function Gu(e){return"function"==typeof e?e:tr}function Tu(e,t){return(Ti(e)?Yr:Jl)(e,Gu(t))}function Mu(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}var Ou=jl(!0);function Nu(e,t){return e&&Ou(e,t,rs)}var Hu=Xl(Nu,!0);function Zu(e,t){return(Ti(e)?Mu:Hu)(e,Gu(t))}function Vu(e,t,n){e=Bs(e),t=Ni(t);var i=e.length,r=n=void 0===n?i:lc(qi(n),0,i);return(n-=t.length)>=0&&e.slice(n,r)==t}function Pu(e){return function(t){var n=Vc(t);return"[object Map]"==n?Cl(t):"[object Set]"==n?function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}(t):function(e,t){return Gi(t,(function(t){return[t,e[t]]}))}(t,e(t))}}var Fu=Pu(rs),Ku=Pu(ls),ju=ba({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),Du=/[&<>"']/g,zu=RegExp(Du.source);function Xu(e){return(e=Bs(e))&&zu.test(e)?e.replace(Du,ju):e}var Ju=/[\\^$.*+?()[\]{}|]/g,Yu=RegExp(Ju.source);function Uu(e){return(e=Bs(e))&&Yu.test(e)?e.replace(Ju,"\\$&"):e}function Qu(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(!t(e[n],n,e))return!1;return!0}function qu(e,t){var n=!0;return Jl(e,(function(e,i,r){return n=!!t(e,i,r)})),n}function eh(e,t,n){var i=Ti(e)?Qu:qu;return n&&_o(e,t,n)&&(t=void 0),i(e,Hl(t))}function th(e){return e?lc(qi(e),0,4294967295):0}function nh(e,t,n,i){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&_o(e,t,n)&&(n=0,i=r),function(e,t,n,i){var r=e.length;for((n=qi(n))<0&&(n=-n>r?0:r+n),(i=void 0===i||i>r?r:qi(i))<0&&(i+=r),i=n>i?0:th(i);n<i;)e[n++]=t;return e}(e,t,n,i)):[]}function ih(e,t){var n=[];return Jl(e,(function(e,i,r){t(e,i,r)&&n.push(e)})),n}function rh(e,t){return(Ti(e)?Ic:ih)(e,Hl(t))}function oh(e){return function(t,n,i){var r=Object(t);if(!Ro(t)){var o=Hl(n);t=rs(t),n=function(e){return o(r[e],e,r)}}var s=e(t,n,i);return s>-1?r[o?t[s]:s]:void 0}}var sh=Math.max;function ah(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=null==n?0:qi(n);return r<0&&(r=sh(i+r,0)),Ur(e,Hl(t),r)}var ch=oh(ah);function lh(e,t,n){var i;return n(e,(function(e,n,r){if(t(e,n,r))return i=n,!1})),i}function uh(e,t){return lh(e,Hl(t),zl)}var hh=Math.max,dh=Math.min;function gh(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=i-1;return void 0!==n&&(r=qi(n),r=n<0?hh(i+r,0):dh(r,i-1)),Ur(e,Hl(t),r,!0)}var fh=oh(gh);function ph(e,t){return lh(e,Hl(t),Nu)}function mh(e){return e&&e.length?e[0]:void 0}function Ch(e,t){var n=-1,i=Ro(e)?Array(e.length):[];return Jl(e,(function(e,r,o){i[++n]=t(e,r,o)})),i}function Ih(e,t){return(Ti(e)?Gi:Ch)(e,Hl(t))}function vh(e,t){return Hs(Ih(e,t),1)}function Ah(e,t){return Hs(Ih(e,t),Infinity)}function yh(e,t,n){return n=void 0===n?1:qi(n),Hs(Ih(e,t),n)}function bh(e){return(null==e?0:e.length)?Hs(e,Infinity):[]}function wh(e,t){return(null==e?0:e.length)?Hs(e,t=void 0===t?1:qi(t)):[]}function $h(e){return Co(e,512)}var Sh=ic("floor");function xh(e){return Vs((function(t){var n=t.length,i=n,r=Tr.prototype.thru;for(e&&t.reverse();i--;){var o=t[i];if("function"!=typeof o)throw new TypeError("Expected a function");if(r&&!s&&"wrapper"==Gr(o))var s=new Tr([],!0)}for(i=s?i:n;++i<n;){var a=Gr(o=t[i]),c="wrapper"==a?Er(o):void 0;s=c&&Zr(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?s[Gr(c[0])].apply(s,c[3]):1==o.length&&Zr(o)?s[a]():s.thru(o)}return function(){var e=arguments,i=e[0];if(s&&1==e.length&&Ti(i))return s.plant(i).value();for(var r=0,o=n?t[r].apply(this,e):i;++r<n;)o=t[r].call(this,o);return o}}))}var kh=xh(),Rh=xh(!0);function _h(e,t){return null==e?e:Dl(e,Gu(t),ls)}function Bh(e,t){return null==e?e:Ou(e,Gu(t),ls)}function Eh(e,t){return e&&zl(e,Gu(t))}function Lh(e,t){return e&&Nu(e,Gu(t))}function Wh(e){for(var t=-1,n=null==e?0:e.length,i={};++t<n;){var r=e[t];i[r[0]]=r[1]}return i}function Gh(e,t){return Ic(t,(function(t){return nr(e[t])}))}function Th(e){return null==e?[]:Gh(e,rs(e))}function Mh(e){return null==e?[]:Gh(e,ls(e))}var Oh=Object.prototype.hasOwnProperty,Nh=Ul((function(e,t,n){Oh.call(e,n)?e[n].push(t):vo(e,n,[t])}));function Hh(e,t){return e>t}function Zh(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=Yi(t),n=Yi(n)),e(t,n)}}var Vh=Zh(Hh),Ph=Zh((function(e,t){return e>=t})),Fh=Object.prototype.hasOwnProperty;function Kh(e,t){return null!=e&&Fh.call(e,t)}function jh(e,t){return null!=e&&Gl(e,t,Kh)}var Dh=Math.max,zh=Math.min;function Xh(e,t,n){return t=Qi(t),void 0===n?(n=t,t=0):n=Qi(n),function(e,t,n){return e>=zh(t,n)&&e<Dh(t,n)}(e=Yi(e),t,n)}function Jh(e){return"string"==typeof e||!Ti(e)&&Ei(e)&&"[object String]"==Bi(e)}function Yh(e,t){return Gi(t,(function(t){return e[t]}))}function Uh(e){return null==e?[]:Yh(e,rs(e))}var Qh=Math.max;function qh(e,t,n,i){e=Ro(e)?e:Uh(e),n=n&&!i?qi(n):0;var r=e.length;return n<0&&(n=Qh(r+n,0)),Jh(e)?n<=r&&e.indexOf(t,n)>-1:!!r&&qr(e,t,n)>-1}var ed=Math.max;function td(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=null==n?0:qi(n);return r<0&&(r=ed(i+r,0)),qr(e,t,r)}function nd(e){return(null==e?0:e.length)?na(e,0,-1):[]}var id=Math.min;function rd(e,t,n){for(var i=n?bu:eo,r=e[0].length,o=e.length,s=o,a=Array(o),c=1/0,l=[];s--;){var u=e[s];s&&t&&(u=Gi(u,jo(t))),c=id(u.length,c),a[s]=!n&&(t||r>=120&&u.length>=120)?new gl(s&&u):void 0}u=e[0];var h=-1,d=a[0];e:for(;++h<r&&l.length<c;){var g=u[h],f=t?t(g):g;if(g=n||0!==g?g:0,!(d?pl(d,f):i(l,f,n))){for(s=o;--s;){var p=a[s];if(!(p?pl(p,f):i(e[s],f,n)))continue e}d&&d.push(f),l.push(g)}}return l}function od(e){return du(e)?e:[]}var sd=xo((function(e){var t=Gi(e,od);return t.length&&t[0]===e[0]?rd(t):[]})),ad=xo((function(e){var t=Su(e),n=Gi(e,od);return t===Su(n)?t=void 0:n.pop(),n.length&&n[0]===e[0]?rd(n,Hl(t)):[]})),cd=xo((function(e){var t=Su(e),n=Gi(e,od);return(t="function"==typeof t?t:void 0)&&n.pop(),n.length&&n[0]===e[0]?rd(n,void 0,t):[]}));function ld(e,t){return function(n,i){return function(e,t,n,i){return zl(e,(function(e,r,o){t(i,n(e),r,o)})),i}(n,e,t(i),{})}}var ud=Object.prototype.toString,hd=ld((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=ud.call(t)),e[t]=n}),zr(tr)),dd=Object.prototype,gd=dd.hasOwnProperty,fd=dd.toString,pd=ld((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=fd.call(t)),gd.call(e,t)?e[t].push(n):e[t]=[n]}),Hl);function md(e,t){return t.length<2?e:Ws(e,na(t,0,-1))}function Cd(e,t,n){var i=null==(e=md(e,t=Es(t,e)))?e:e[Ls(Su(t))];return null==i?void 0:br(i,e,n)}var Id=xo(Cd),vd=xo((function(e,t,n){var i=-1,r="function"==typeof t,o=Ro(e)?Array(e.length):[];return Jl(e,(function(e){o[++i]=r?br(t,e,n):Cd(e,t,n)})),o}));var Ad=Jo&&Jo.isArrayBuffer,yd=Ad?jo(Ad):function(e){return Ei(e)&&"[object ArrayBuffer]"==Bi(e)};function bd(e){return!0===e||!1===e||Ei(e)&&"[object Boolean]"==Bi(e)}var wd=Jo&&Jo.isDate,$d=wd?jo(wd):function(e){return Ei(e)&&"[object Date]"==Bi(e)};function Sd(e){return Ei(e)&&1===e.nodeType&&!Js(e)}var xd=Object.prototype.hasOwnProperty;function kd(e){if(null==e)return!0;if(Ro(e)&&(Ti(e)||"string"==typeof e||"function"==typeof e.splice||Fo(e)||Uo(e)||No(e)))return!e.length;var t=Vc(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(Lo(e))return!is(e).length;for(var n in e)if(xd.call(e,n))return!1;return!0}function Rd(e,t){return kl(e,t)}function _d(e,t,n){var i=(n="function"==typeof n?n:void 0)?n(e,t):void 0;return void 0===i?kl(e,t,void 0,n):!!i}var Bd=bi.isFinite;function Ed(e){return"number"==typeof e&&Bd(e)}function Ld(e){return"number"==typeof e&&e==qi(e)}function Wd(e,t){return e===t||Rl(e,t,Bl(t))}function Gd(e,t,n){return n="function"==typeof n?n:void 0,Rl(e,t,Bl(t),n)}function Td(e){return"number"==typeof e||Ei(e)&&"[object Number]"==Bi(e)}function Md(e){return Td(e)&&e!=+e}var Od=rr?nr:Ho;function Nd(e){if(Od(e))throw new Error("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return fr(e)}function Hd(e){return null==e}function Zd(e){return null===e}var Vd=Jo&&Jo.isRegExp,Pd=Vd?jo(Vd):function(e){return Ei(e)&&"[object RegExp]"==Bi(e)},Fd=9007199254740991;function Kd(e){return Ld(e)&&e>=-9007199254740991&&e<=Fd}function jd(e){return void 0===e}function Dd(e){return Ei(e)&&"[object WeakMap]"==Vc(e)}function zd(e){return Ei(e)&&"[object WeakSet]"==Bi(e)}function Xd(e){return Hl("function"==typeof e?e:ol(e,1))}var Jd=Array.prototype.join;function Yd(e,t){return null==e?"":Jd.call(e,t)}var Ud=Qa((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Qd=Ul((function(e,t,n){vo(e,n,t)}));var qd=Math.max,eg=Math.min;function tg(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=i;return void 0!==n&&(r=(r=qi(n))<0?qd(i+r,0):eg(r,i-1)),t==t?function(e,t,n){for(var i=n+1;i--;)if(e[i]===t)return i;return i}(e,t,r):Ur(e,Qr,r,!0)}var ng=Qa((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),ig=Ia("toLowerCase");function rg(e,t){return e<t}var og=Zh(rg),sg=Zh((function(e,t){return e<=t}));function ag(e,t){var n={};return t=Hl(t),zl(e,(function(e,i,r){vo(n,t(e,i,r),e)})),n}function cg(e,t){var n={};return t=Hl(t),zl(e,(function(e,i,r){vo(n,i,t(e,i,r))})),n}function lg(e){return Ll(ol(e,1))}function ug(e,t){return Ml(e,ol(t,1))}function hg(e,t,n){for(var i=-1,r=e.length;++i<r;){var o=e[i],s=t(o);if(null!=s&&(void 0===a?s==s&&!Li(s):n(s,a)))var a=s,c=o}return c}function dg(e){return e&&e.length?hg(e,tr,Hh):void 0}function gg(e,t){return e&&e.length?hg(e,Hl(t),Hh):void 0}function fg(e,t){for(var n,i=-1,r=e.length;++i<r;){var o=t(e[i]);void 0!==o&&(n=void 0===n?o:n+o)}return n}function pg(e,t){var n=null==e?0:e.length;return n?fg(e,t)/n:NaN}function mg(e){return pg(e,tr)}function Cg(e,t){return pg(e,Hl(t))}var Ig=Bo((function(e,t,n){pu(e,t,n)})),vg=xo((function(e,t){return function(n){return Cd(n,e,t)}})),Ag=xo((function(e,t){return function(n){return Cd(e,n,t)}}));function yg(e){return e&&e.length?hg(e,tr,rg):void 0}function bg(e,t){return e&&e.length?hg(e,Hl(t),rg):void 0}function wg(e,t,n){var i=rs(t),r=Gh(t,i),o=!(ji(n)&&"chain"in n&&!n.chain),s=nr(e);return Yr(r,(function(n){var i=t[n];e[n]=i,s&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__),r=n.__actions__=Mr(this.__actions__);return r.push({func:i,args:arguments,thisArg:e}),n.__chain__=t,n}return i.apply(e,Ms([this.value()],arguments))})})),e}var $g=Hi((function(e,t){return e*t}),1);function Sg(e){if("function"!=typeof e)throw new TypeError("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}var xg=wi?wi.iterator:void 0;function kg(e){if(!e)return[];if(Ro(e))return Jh(e)?Ca(e):Mr(e);if(xg&&e[xg])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[xg]());var t=Vc(e);return("[object Map]"==t?Cl:"[object Set]"==t?Il:Uh)(e)}function Rg(){void 0===this.__values__&&(this.__values__=kg(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?void 0:this.__values__[this.__index__++]}}function _g(e,t){var n=e.length;if(n)return so(t+=t<0?n:0,n)?e[t]:void 0}function Bg(e,t){return e&&e.length?_g(e,qi(t)):void 0}function Eg(e){return e=qi(e),xo((function(t){return _g(t,e)}))}function Lg(e,t){return null==(e=md(e,t=Es(t,e)))||delete e[Ls(Su(t))]}function Wg(e){return Js(e)?void 0:e}var Gg=Vs((function(e,t){var n={};if(null==e)return n;var i=!1;t=Gi(t,(function(t){return t=Es(t,e),i||(i=t.length>1),t})),wo(e,xc(e),n),i&&(n=ol(n,7,Wg));for(var r=t.length;r--;)Lg(n,t[r]);return n}));function Tg(e,t,n,i){if(!ji(e))return e;for(var r=-1,o=(t=Es(t,e)).length,s=o-1,a=e;null!=a&&++r<o;){var c=Ls(t[r]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(r!=s){var u=a[c];void 0===(l=i?i(u,c,a):void 0)&&(l=ji(u)?u:so(t[r+1])?[]:{})}bo(a,c,l),a=a[c]}return e}function Mg(e,t,n){for(var i=-1,r=t.length,o={};++i<r;){var s=t[i],a=Ws(e,s);n(a,s)&&Tg(o,Es(s,e),a)}return o}function Og(e,t){if(null==e)return{};var n=Gi(xc(e),(function(e){return[e]}));return t=Hl(t),Mg(e,n,(function(e,n){return t(e,n[0])}))}function Ng(e,t){return Og(e,Sg(Hl(t)))}function Hg(e){return Qs(2,e)}function Zg(e,t){if(e!==t){var n=void 0!==e,i=null===e,r=e==e,o=Li(e),s=void 0!==t,a=null===t,c=t==t,l=Li(t);if(!a&&!l&&!o&&e>t||o&&s&&c&&!a&&!l||i&&s&&c||!n&&c||!r)return 1;if(!i&&!o&&!l&&e<t||l&&n&&r&&!i&&!o||a&&n&&r||!s&&r||!c)return-1}return 0}function Vg(e,t,n){t=t.length?Gi(t,(function(e){return Ti(e)?function(t){return Ws(t,1===e.length?e[0]:e)}:e})):[tr];var i=-1;return t=Gi(t,jo(Hl)),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(Ch(e,(function(e,n,r){return{criteria:Gi(t,(function(t){return t(e)})),index:++i,value:e}})),(function(e,t){return function(e,t,n){for(var i=-1,r=e.criteria,o=t.criteria,s=r.length,a=n.length;++i<s;){var c=Zg(r[i],o[i]);if(c)return i>=a?c:c*("desc"==n[i]?-1:1)}return e.index-t.index}(e,t,n)}))}function Pg(e,t,n,i){return null==e?[]:(Ti(t)||(t=null==t?[]:[t]),Ti(n=i?void 0:n)||(n=null==n?[]:[n]),Vg(e,t,n))}function Fg(e){return Vs((function(t){return t=Gi(t,jo(Hl)),xo((function(n){var i=this;return e(t,(function(e){return br(e,i,n)}))}))}))}var Kg=Fg(Gi),jg=xo,Dg=Math.min,zg=jg((function(e,t){var n=(t=1==t.length&&Ti(t[0])?Gi(t[0],jo(Hl)):Gi(Hs(t,1),jo(Hl))).length;return xo((function(i){for(var r=-1,o=Dg(i.length,n);++r<o;)i[r]=t[r].call(this,i[r]);return br(e,this,i)}))})),Xg=Fg(Qu),Jg=Fg(fl),Yg=Math.floor;function Ug(e,t){var n="";if(!e||t<1||t>9007199254740991)return n;do{t%2&&(n+=e),(t=Yg(t/2))&&(e+=e)}while(t);return n}var Qg=Ol("length"),qg="[\\ud800-\\udfff]",ef="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",tf="\\ud83c[\\udffb-\\udfff]",nf="[^\\ud800-\\udfff]",rf="(?:\\ud83c[\\udde6-\\uddff]){2}",of="[\\ud800-\\udbff][\\udc00-\\udfff]",sf="(?:"+ef+"|"+tf+")"+"?",af="[\\ufe0e\\ufe0f]?",cf=af+sf+("(?:\\u200d(?:"+[nf,rf,of].join("|")+")"+af+sf+")*"),lf="(?:"+[nf+ef+"?",ef,rf,of,qg].join("|")+")",uf=RegExp(tf+"(?="+tf+")|"+lf+cf,"g");function hf(e){return oa(e)?function(e){for(var t=uf.lastIndex=0;uf.test(e);)++t;return t}(e):Qg(e)}var df=Math.ceil;function gf(e,t){var n=(t=void 0===t?" ":Ni(t)).length;if(n<2)return n?Ug(t,e):t;var i=Ug(t,df(e/hf(t)));return oa(t)?ia(Ca(i),0,e).join(""):i.slice(0,e)}var ff=Math.ceil,pf=Math.floor;function mf(e,t,n){e=Bs(e);var i=(t=qi(t))?hf(e):0;if(!t||i>=t)return e;var r=(t-i)/2;return gf(pf(r),n)+e+gf(ff(r),n)}function Cf(e,t,n){e=Bs(e);var i=(t=qi(t))?hf(e):0;return t&&i<t?e+gf(t-i,n):e}function If(e,t,n){e=Bs(e);var i=(t=qi(t))?hf(e):0;return t&&i<t?gf(t-i,n)+e:e}var vf=/^\s+/,Af=bi.parseInt;function yf(e,t,n){return n||null==t?t=0:t&&(t=+t),Af(Bs(e).replace(vf,""),t||0)}var bf=xo((function(e,t){return Co(e,32,void 0,t,uo(t,ro(bf)))}));bf.placeholder={};var wf=xo((function(e,t){return Co(e,64,void 0,t,uo(t,ro(wf)))}));wf.placeholder={};var $f=Ul((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var Sf=Vs((function(e,t){return null==e?{}:function(e,t){return Mg(e,t,(function(t,n){return Tl(e,n)}))}(e,t)}));function xf(e){for(var t,n=this;n instanceof Rr;){var i=Or(n);i.__index__=0,i.__values__=void 0,t?r.__wrapped__=i:t=i;var r=i;n=n.__wrapped__}return r.__wrapped__=e,t}function kf(e){return function(t){return null==e?void 0:Ws(e,t)}}function Rf(e,t,n,i){for(var r=n-1,o=e.length;++r<o;)if(i(e[r],t))return r;return-1}var _f=Array.prototype.splice;function Bf(e,t,n,i){var r=i?Rf:qr,o=-1,s=t.length,a=e;for(e===t&&(t=Mr(t)),n&&(a=Gi(e,jo(n)));++o<s;)for(var c=0,l=t[o],u=n?n(l):l;(c=r(a,u,c,i))>-1;)a!==e&&_f.call(a,c,1),_f.call(e,c,1);return e}function Ef(e,t){return e&&e.length&&t&&t.length?Bf(e,t):e}var Lf=xo(Ef);function Wf(e,t,n){return e&&e.length&&t&&t.length?Bf(e,t,Hl(n)):e}function Gf(e,t,n){return e&&e.length&&t&&t.length?Bf(e,t,void 0,n):e}var Tf=Array.prototype.splice;function Mf(e,t){for(var n=e?t.length:0,i=n-1;n--;){var r=t[n];if(n==i||r!==o){var o=r;so(r)?Tf.call(e,r,1):Lg(e,r)}}return e}var Of=Vs((function(e,t){var n=null==e?0:e.length,i=Ts(e,t);return Mf(e,Gi(t,(function(e){return so(e,n)?+e:e})).sort(Zg)),i})),Nf=Math.floor,Hf=Math.random;function Zf(e,t){return e+Nf(Hf()*(t-e+1))}var Vf=parseFloat,Pf=Math.min,Ff=Math.random;function Kf(e,t,n){if(n&&"boolean"!=typeof n&&_o(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=Qi(e),void 0===t?(t=e,e=0):t=Qi(t)),e>t){var i=e;e=t,t=i}if(n||e%1||t%1){var r=Ff();return Pf(e+r*(t-e+Vf("1e-"+((r+"").length-1))),t)}return Zf(e,t)}var jf=Math.ceil,Df=Math.max;function zf(e){return function(t,n,i){return i&&"number"!=typeof i&&_o(t,n,i)&&(n=i=void 0),t=Qi(t),void 0===n?(n=t,t=0):n=Qi(n),function(e,t,n,i){for(var r=-1,o=Df(jf((t-e)/(n||1)),0),s=Array(o);o--;)s[i?o:++r]=e,e+=n;return s}(t,n,i=void 0===i?t<n?1:-1:Qi(i),e)}}var Xf=zf(),Jf=zf(!0),Yf=Vs((function(e,t){return Co(e,256,void 0,void 0,void 0,t)}));function Uf(e,t,n,i,r){return r(e,(function(e,r,o){n=i?(i=!1,e):t(n,e,r,o)})),n}function Qf(e,t,n){var i=Ti(e)?ya:Uf,r=arguments.length<3;return i(e,Hl(t),n,r,Jl)}function qf(e,t,n,i){var r=null==e?0:e.length;for(i&&r&&(n=e[--r]);r--;)n=t(n,e[r],r,e);return n}function ep(e,t,n){var i=Ti(e)?qf:Uf,r=arguments.length<3;return i(e,Hl(t),n,r,Hu)}function tp(e,t){return(Ti(e)?Ic:ih)(e,Sg(Hl(t)))}function np(e,t){var n=[];if(!e||!e.length)return n;var i=-1,r=[],o=e.length;for(t=Hl(t);++i<o;){var s=e[i];t(s,i,e)&&(n.push(s),r.push(i))}return Mf(e,r),n}function ip(e,t,n){return t=(n?_o(e,t,n):void 0===t)?1:qi(t),Ug(Bs(e),t)}function rp(){var e=arguments,t=Bs(e[0]);return e.length<3?t:t.replace(e[1],e[2])}function op(e,t){if("function"!=typeof e)throw new TypeError("Expected a function");return xo(e,t=void 0===t?t:qi(t))}function sp(e,t,n){var i=-1,r=(t=Es(t,e)).length;for(r||(r=1,e=void 0);++i<r;){var o=null==e?void 0:e[Ls(t[i])];void 0===o&&(i=r,o=n),e=nr(o)?o.call(e):o}return e}var ap=Array.prototype.reverse;function cp(e){return null==e?e:ap.call(e)}var lp=ic("round");function up(e){var t=e.length;return t?e[Zf(0,t-1)]:void 0}function hp(e){return up(Uh(e))}function dp(e){return(Ti(e)?up:hp)(e)}function gp(e,t){var n=-1,i=e.length,r=i-1;for(t=void 0===t?i:t;++n<t;){var o=Zf(n,r),s=e[o];e[o]=e[n],e[n]=s}return e.length=t,e}function fp(e,t){return gp(Mr(e),lc(t,0,e.length))}function pp(e,t){var n=Uh(e);return gp(n,lc(t,0,n.length))}function mp(e,t,n){return t=(n?_o(e,t,n):void 0===t)?1:qi(t),(Ti(e)?fp:pp)(e,t)}function Cp(e,t,n){return null==e?e:Tg(e,t,n)}function Ip(e,t,n,i){return i="function"==typeof i?i:void 0,null==e?e:Tg(e,t,n,i)}function vp(e){return gp(Mr(e))}function Ap(e){return gp(Uh(e))}function yp(e){return(Ti(e)?vp:Ap)(e)}function bp(e){if(null==e)return 0;if(Ro(e))return Jh(e)?hf(e):e.length;var t=Vc(e);return"[object Map]"==t||"[object Set]"==t?e.size:is(e).length}function wp(e,t,n){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&_o(e,t,n)?(t=0,n=i):(t=null==t?0:qi(t),n=void 0===n?i:qi(n)),na(e,t,n)):[]}var $p=Qa((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));function Sp(e,t){var n;return Jl(e,(function(e,i,r){return!(n=t(e,i,r))})),!!n}function xp(e,t,n){var i=Ti(e)?fl:Sp;return n&&_o(e,t,n)&&(t=void 0),i(e,Hl(t))}var kp=xo((function(e,t){if(null==e)return[];var n=t.length;return n>1&&_o(e,t[0],t[1])?t=[]:n>2&&_o(t[0],t[1],t[2])&&(t=[t[0]]),Vg(e,Hs(t,1),[])})),Rp=Math.floor,_p=Math.min;function Bp(e,t,n,i){var r=0,o=null==e?0:e.length;if(0===o)return 0;for(var s=(t=n(t))!=t,a=null===t,c=Li(t),l=void 0===t;r<o;){var u=Rp((r+o)/2),h=n(e[u]),d=void 0!==h,g=null===h,f=h==h,p=Li(h);if(s)var m=i||f;else m=l?f&&(i||d):a?f&&d&&(i||!g):c?f&&d&&!g&&(i||!p):!g&&!p&&(i?h<=t:h<t);m?r=u+1:o=u}return _p(o,4294967294)}function Ep(e,t,n){var i=0,r=null==e?i:e.length;if("number"==typeof t&&t==t&&r<=2147483647){for(;i<r;){var o=i+r>>>1,s=e[o];null!==s&&!Li(s)&&(n?s<=t:s<t)?i=o+1:r=o}return r}return Bp(e,t,tr,n)}function Lp(e,t){return Ep(e,t)}function Wp(e,t,n){return Bp(e,t,Hl(n))}function Gp(e,t){var n=null==e?0:e.length;if(n){var i=Ep(e,t);if(i<n&&Ao(e[i],t))return i}return-1}function Tp(e,t){return Ep(e,t,!0)}function Mp(e,t,n){return Bp(e,t,Hl(n),!0)}function Op(e,t){if(null==e?0:e.length){var n=Ep(e,t,!0)-1;if(Ao(e[n],t))return n}return-1}function Np(e,t){for(var n=-1,i=e.length,r=0,o=[];++n<i;){var s=e[n],a=t?t(s):s;if(!n||!Ao(a,c)){var c=a;o[r++]=0===s?0:s}}return o}function Hp(e){return e&&e.length?Np(e):[]}function Zp(e,t){return e&&e.length?Np(e,Hl(t)):[]}function Vp(e,t,n){return n&&"number"!=typeof n&&_o(e,t,n)&&(t=n=void 0),(n=void 0===n?4294967295:n>>>0)?(e=Bs(e))&&("string"==typeof t||null!=t&&!Pd(t))&&!(t=Ni(t))&&oa(e)?ia(Ca(e),0,n):e.split(t,n):[]}var Pp=Math.max;function Fp(e,t){if("function"!=typeof e)throw new TypeError("Expected a function");return t=null==t?0:Pp(qi(t),0),xo((function(n){var i=n[t],r=ia(n,0,t);return i&&Ms(r,i),br(e,this,r)}))}var Kp=Qa((function(e,t,n){return e+(n?" ":"")+va(t)}));function jp(e,t,n){return e=Bs(e),n=null==n?0:lc(qi(n),0,e.length),t=Ni(t),e.slice(n,n+t.length)==t}function Dp(){return{}}function zp(){return""}function Xp(){return!0}var Jp=Hi((function(e,t){return e-t}),0);function Yp(e){return e&&e.length?fg(e,tr):0}function Up(e,t){return e&&e.length?fg(e,Hl(t)):0}function Qp(e){var t=null==e?0:e.length;return t?na(e,1,t):[]}function qp(e,t,n){return e&&e.length?na(e,0,(t=n||void 0===t?1:qi(t))<0?0:t):[]}function em(e,t,n){var i=null==e?0:e.length;return i?na(e,(t=i-(t=n||void 0===t?1:qi(t)))<0?0:t,i):[]}function tm(e,t){return e&&e.length?Eu(e,Hl(t),!1,!0):[]}function nm(e,t){return e&&e.length?Eu(e,Hl(t)):[]}function im(e,t){return t(e),e}var rm=Object.prototype,om=rm.hasOwnProperty;function sm(e,t,n,i){return void 0===e||Ao(e,rm[n])&&!om.call(i,n)?t:e}var am={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function cm(e){return"\\"+am[e]}var lm=/<%=([\s\S]+?)%>/g,um={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:lm,variable:"",imports:{_:{escape:Xu}}},hm=/\b__p \+= '';/g,dm=/\b(__p \+=) '' \+/g,gm=/(__e\(.*?\)|\b__t\)) \+\n'';/g,fm=/[()=,{}\[\]\/\s]/,pm=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,mm=/($^)/,Cm=/['\n\r\u2028\u2029\\]/g,Im=Object.prototype.hasOwnProperty;function vm(e,t,n){var i=um.imports._.templateSettings||um;n&&_o(e,t,n)&&(t=void 0),e=Bs(e),t=hs({},t,i,sm);var r,o,s=hs({},t.imports,i.imports,sm),a=rs(s),c=Yh(s,a),l=0,u=t.interpolate||mm,h="__p += '",d=RegExp((t.escape||mm).source+"|"+u.source+"|"+(u===lm?pm:mm).source+"|"+(t.evaluate||mm).source+"|$","g"),g=Im.call(t,"sourceURL")?"//# sourceURL="+(t.sourceURL+"").replace(/\s/g," ")+"\n":"";e.replace(d,(function(t,n,i,s,a,c){return i||(i=s),h+=e.slice(l,c).replace(Cm,cm),n&&(r=!0,h+="' +\n__e("+n+") +\n'"),a&&(o=!0,h+="';\n"+a+";\n__p += '"),i&&(h+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),l=c+t.length,t})),h+="';\n";var f=Im.call(t,"variable")&&t.variable;if(f){if(fm.test(f))throw new Error("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(o?h.replace(hm,""):h).replace(dm,"$1").replace(gm,"$1;"),h="function("+(f||"obj")+") {\n"+(f?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var p=Us((function(){return Function(a,g+"return "+h).apply(void 0,c)}));if(p.source=h,Ys(p))throw p;return p}function Am(e,t,n){var i=!0,r=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return ji(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),su(e,t,{leading:i,maxWait:t,trailing:r})}function ym(e,t){return t(e)}var bm=4294967295,wm=Math.min;function $m(e,t){if((e=qi(e))<1||e>9007199254740991)return[];var n=bm,i=wm(e,bm);t=Gu(t),e-=bm;for(var r=Wo(i,t);++n<e;)t(n);return r}function Sm(){return this}function xm(e,t){var n=e;return n instanceof _r&&(n=n.value()),ya(t,(function(e,t){return t.func.apply(t.thisArg,Ms([e],t.args))}),n)}function km(){return xm(this.__wrapped__,this.__actions__)}function Rm(e){return Bs(e).toLowerCase()}function _m(e){return Ti(e)?Gi(e,Ls):Li(e)?[e]:Mr(_s(Bs(e)))}var Bm=9007199254740991;function Em(e){return e?lc(qi(e),-9007199254740991,Bm):0===e?e:0}function Lm(e){return Bs(e).toUpperCase()}function Wm(e,t,n){var i=Ti(e),r=i||Fo(e)||Uo(e);if(t=Hl(t),null==n){var o=e&&e.constructor;n=r?i?new o:[]:ji(e)&&nr(o)?Ar(Fs(e)):{}}return(r?Yr:zl)(e,(function(e,i,r){return t(n,e,i,r)})),n}function Gm(e,t){for(var n=e.length;n--&&qr(t,e[n],0)>-1;);return n}function Tm(e,t){for(var n=-1,i=e.length;++n<i&&qr(t,e[n],0)>-1;);return n}function Mm(e,t,n){if((e=Bs(e))&&(n||void 0===t))return Ki(e);if(!e||!(t=Ni(t)))return e;var i=Ca(e),r=Ca(t);return ia(i,Tm(i,r),Gm(i,r)+1).join("")}function Om(e,t,n){if((e=Bs(e))&&(n||void 0===t))return e.slice(0,Pi(e)+1);if(!e||!(t=Ni(t)))return e;var i=Ca(e);return ia(i,0,Gm(i,Ca(t))+1).join("")}var Nm=/^\s+/;function Hm(e,t,n){if((e=Bs(e))&&(n||void 0===t))return e.replace(Nm,"");if(!e||!(t=Ni(t)))return e;var i=Ca(e);return ia(i,Tm(i,Ca(t))).join("")}var Zm=/\w*$/;function Vm(e,t){var n=30,i="...";if(ji(t)){var r="separator"in t?t.separator:r;n="length"in t?qi(t.length):n,i="omission"in t?Ni(t.omission):i}var o=(e=Bs(e)).length;if(oa(e)){var s=Ca(e);o=s.length}if(n>=o)return e;var a=n-hf(i);if(a<1)return i;var c=s?ia(s,0,a).join(""):e.slice(0,a);if(void 0===r)return c+i;if(s&&(a+=c.length-a),Pd(r)){if(e.slice(a).search(r)){var l,u=c;for(r.global||(r=RegExp(r.source,Bs(Zm.exec(r))+"g")),r.lastIndex=0;l=r.exec(u);)var h=l.index;c=c.slice(0,void 0===h?a:h)}}else if(e.indexOf(Ni(r),a)!=a){var d=c.lastIndexOf(r);d>-1&&(c=c.slice(0,d))}return c+i}function Pm(e){return Io(e,1)}var Fm=ba({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Km=/&(?:amp|lt|gt|quot|#39);/g,jm=RegExp(Km.source);function Dm(e){return(e=Bs(e))&&jm.test(e)?e.replace(Km,Fm):e}var zm=_c&&1/Il(new _c([,-0]))[1]==1/0?function(e){return new _c(e)}:Br;function Xm(e,t,n){var i=-1,r=eo,o=e.length,s=!0,a=[],c=a;if(n)s=!1,r=bu;else if(o>=200){var l=t?null:zm(e);if(l)return Il(l);s=!1,r=pl,c=new gl}else c=t?[]:a;e:for(;++i<o;){var u=e[i],h=t?t(u):u;if(u=n||0!==u?u:0,s&&h==h){for(var d=c.length;d--;)if(c[d]===h)continue e;t&&c.push(h),a.push(u)}else r(c,h,n)||(c!==a&&c.push(h),a.push(u))}return a}var Jm=xo((function(e){return Xm(Hs(e,1,du,!0))})),Ym=xo((function(e){var t=Su(e);return du(t)&&(t=void 0),Xm(Hs(e,1,du,!0),Hl(t))})),Um=xo((function(e){var t=Su(e);return t="function"==typeof t?t:void 0,Xm(Hs(e,1,du,!0),void 0,t)}));function Qm(e){return e&&e.length?Xm(e):[]}function qm(e,t){return e&&e.length?Xm(e,Hl(t)):[]}function eC(e,t){return t="function"==typeof t?t:void 0,e&&e.length?Xm(e,void 0,t):[]}var tC=0;function nC(e){var t=++tC;return Bs(e)+t}function iC(e,t){return null==e||Lg(e,t)}var rC=Math.max;function oC(e){if(!e||!e.length)return[];var t=0;return e=Ic(e,(function(e){if(du(e))return t=rC(e.length,t),!0})),Wo(t,(function(t){return Gi(e,Ol(t))}))}function sC(e,t){if(!e||!e.length)return[];var n=oC(e);return null==t?n:Gi(n,(function(e){return br(t,void 0,e)}))}function aC(e,t,n,i){return Tg(e,t,n(Ws(e,t)),i)}function cC(e,t,n){return null==e?e:aC(e,t,Gu(n))}function lC(e,t,n,i){return i="function"==typeof i?i:void 0,null==e?e:aC(e,t,Gu(n),i)}var uC=Qa((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}));function hC(e){return null==e?[]:Yh(e,ls(e))}var dC=xo((function(e,t){return du(e)?wu(e,t):[]}));function gC(e,t){return bf(Gu(t),e)}var fC=Vs((function(e){var t=e.length,n=t?e[0]:0,i=this.__wrapped__,r=function(t){return Ts(t,e)};return!(t>1||this.__actions__.length)&&i instanceof _r&&so(n)?((i=i.slice(n,+n+(t?1:0))).__actions__.push({func:ym,args:[r],thisArg:void 0}),new Tr(i,this.__chain__).thru((function(e){return t&&!e.length&&e.push(void 0),e}))):this.thru(r)}));function pC(){return oc(this)}function mC(){var e=this.__wrapped__;if(e instanceof _r){var t=e;return this.__actions__.length&&(t=new _r(this)),(t=t.reverse()).__actions__.push({func:ym,args:[cp],thisArg:void 0}),new Tr(t,this.__chain__)}return this.thru(cp)}function CC(e,t,n){var i=e.length;if(i<2)return i?Xm(e[0]):[];for(var r=-1,o=Array(i);++r<i;)for(var s=e[r],a=-1;++a<i;)a!=r&&(o[r]=wu(o[r]||s,e[a],t,n));return Xm(Hs(o,1),t,n)}var IC=xo((function(e){return CC(Ic(e,du))})),vC=xo((function(e){var t=Su(e);return du(t)&&(t=void 0),CC(Ic(e,du),Hl(t))})),AC=xo((function(e){var t=Su(e);return t="function"==typeof t?t:void 0,CC(Ic(e,du),void 0,t)})),yC=xo(oC);function bC(e,t,n){for(var i=-1,r=e.length,o=t.length,s={};++i<r;){var a=i<o?t[i]:void 0;n(s,e[i],a)}return s}function wC(e,t){return bC(e||[],t||[],bo)}function $C(e,t){return bC(e||[],t||[],Tg)}var SC=xo((function(e){var t=e.length,n=t>1?e[t-1]:void 0;return n="function"==typeof n?(e.pop(),n):void 0,sC(e,n)})),xC={chunk:cc,compact:hl,concat:dl,difference:$u,differenceBy:xu,differenceWith:ku,drop:_u,dropRight:Bu,dropRightWhile:Lu,dropWhile:Wu,fill:nh,findIndex:ah,findLastIndex:gh,first:mh,flatten:Zs,flattenDeep:bh,flattenDepth:wh,fromPairs:Wh,head:mh,indexOf:td,initial:nd,intersection:sd,intersectionBy:ad,intersectionWith:cd,join:Yd,last:Su,lastIndexOf:tg,nth:Bg,pull:Lf,pullAll:Ef,pullAllBy:Wf,pullAllWith:Gf,pullAt:Of,remove:np,reverse:cp,slice:wp,sortedIndex:Lp,sortedIndexBy:Wp,sortedIndexOf:Gp,sortedLastIndex:Tp,sortedLastIndexBy:Mp,sortedLastIndexOf:Op,sortedUniq:Hp,sortedUniqBy:Zp,tail:Qp,take:qp,takeRight:em,takeRightWhile:tm,takeWhile:nm,union:Jm,unionBy:Ym,unionWith:Um,uniq:Qm,uniqBy:qm,uniqWith:eC,unzip:oC,unzipWith:sC,without:dC,xor:IC,xorBy:vC,xorWith:AC,zip:yC,zipObject:wC,zipObjectDeep:$C,zipWith:SC},kC={countBy:ql,each:Tu,eachRight:Zu,every:eh,filter:rh,find:ch,findLast:fh,flatMap:vh,flatMapDeep:Ah,flatMapDepth:yh,forEach:Tu,forEachRight:Zu,groupBy:Nh,includes:qh,invokeMap:vd,keyBy:Qd,map:Ih,orderBy:Pg,partition:$f,reduce:Qf,reduceRight:ep,reject:tp,sample:dp,sampleSize:mp,shuffle:yp,size:bp,some:xp,sortBy:kp},RC=iu,_C={after:er,ary:Io,before:Qs,bind:qs,bindKey:ta,curry:tu,curryRight:nu,debounce:su,defer:Au,delay:yu,flip:$h,memoize:xs,negate:Sg,once:Hg,overArgs:zg,partial:bf,partialRight:wf,rearg:Yf,rest:op,spread:Fp,throttle:Am,unary:Pm,wrap:gC},BC={castArray:ec,clone:sl,cloneDeep:al,cloneDeepWith:cl,cloneWith:ll,conformsTo:Fl,eq:Ao,gt:Vh,gte:Ph,isArguments:No,isArray:Ti,isArrayBuffer:yd,isArrayLike:Ro,isArrayLikeObject:du,isBoolean:bd,isBuffer:Fo,isDate:$d,isElement:Sd,isEmpty:kd,isEqual:Rd,isEqualWith:_d,isError:Ys,isFinite:Ed,isFunction:nr,isInteger:Ld,isLength:ko,isMap:Qc,isMatch:Wd,isMatchWith:Gd,isNaN:Md,isNative:Nd,isNil:Hd,isNull:Zd,isNumber:Td,isObject:ji,isObjectLike:Ei,isPlainObject:Js,isRegExp:Pd,isSafeInteger:Kd,isSet:el,isString:Jh,isSymbol:Li,isTypedArray:Uo,isUndefined:jd,isWeakMap:Dd,isWeakSet:zd,lt:og,lte:sg,toArray:kg,toFinite:Qi,toInteger:qi,toLength:th,toNumber:Yi,toPlainObject:fu,toSafeInteger:Em,toString:Bs},EC={add:Zi,ceil:rc,divide:Ru,floor:Sh,max:dg,maxBy:gg,mean:mg,meanBy:Cg,min:yg,minBy:bg,multiply:$g,round:lp,subtract:Jp,sum:Yp,sumBy:Up},LC=uc,WC=Xh,GC=Kf,TC={assign:ss,assignIn:us,assignInWith:hs,assignWith:ds,at:Ps,create:eu,defaults:uu,defaultsDeep:Iu,entries:Fu,entriesIn:Ku,extend:us,extendWith:hs,findKey:uh,findLastKey:ph,forIn:_h,forInRight:Bh,forOwn:Eh,forOwnRight:Lh,functions:Th,functionsIn:Mh,get:Gs,has:jh,hasIn:Tl,invert:hd,invertBy:pd,invoke:Id,keys:rs,keysIn:ls,mapKeys:ag,mapValues:cg,merge:Ig,mergeWith:Cu,omit:Gg,omitBy:Ng,pick:Sf,pickBy:Og,result:sp,set:Cp,setWith:Ip,toPairs:Fu,toPairsIn:Ku,transform:Wm,unset:iC,update:cC,updateWith:lC,values:Uh,valuesIn:hC},MC={at:fC,chain:oc,commit:ul,lodash:Hr,next:Rg,plant:xf,reverse:mC,tap:im,thru:ym,toIterator:Sm,toJSON:km,value:km,valueOf:km,wrapperChain:pC},OC={camelCase:qa,capitalize:Aa,deburr:xa,endsWith:Vu,escape:Xu,escapeRegExp:Uu,kebabCase:Ud,lowerCase:ng,lowerFirst:ig,pad:mf,padEnd:Cf,padStart:If,parseInt:yf,repeat:ip,replace:rp,snakeCase:$p,split:Vp,startCase:Kp,startsWith:jp,template:vm,templateSettings:um,toLower:Rm,toUpper:Lm,trim:Mm,trimEnd:Om,trimStart:Hm,truncate:Vm,unescape:Dm,upperCase:uC,upperFirst:va,words:Ya},NC={attempt:Us,bindAll:ea,cond:Zl,conforms:Pl,constant:zr,defaultTo:au,flow:kh,flowRight:Rh,identity:tr,iteratee:Xd,matches:lg,matchesProperty:ug,method:vg,methodOf:Ag,mixin:wg,noop:Br,nthArg:Eg,over:Kg,overEvery:Xg,overSome:Jg,property:Nl,propertyOf:kf,range:Xf,rangeRight:Jf,stubArray:vc,stubFalse:Ho,stubObject:Dp,stubString:zp,stubTrue:Xp,times:$m,toPath:_m,uniqueId:nC};var HC=Math.max,ZC=Math.min;var VC=Math.min;
/**
     * @license
     * Lodash (Custom Build) <https://lodash.com/>
     * Build: `lodash modularize exports="es" -o ./`
     * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
     * Released under MIT license <https://lodash.com/license>
     * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
     * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
     */
var PC,FC=4294967295,KC=Array.prototype,jC=Object.prototype.hasOwnProperty,DC=wi?wi.iterator:void 0,zC=Math.max,XC=Math.min,JC=function(e){return function(t,n,i){if(null==i){var r=ji(n),o=r&&rs(n),s=o&&o.length&&Gh(n,o);(s?s.length:r)||(i=n,n=t,t=this)}return e(t,n,i)}}(wg);Hr.after=_C.after,Hr.ary=_C.ary,Hr.assign=TC.assign,Hr.assignIn=TC.assignIn,Hr.assignInWith=TC.assignInWith,Hr.assignWith=TC.assignWith,Hr.at=TC.at,Hr.before=_C.before,Hr.bind=_C.bind,Hr.bindAll=NC.bindAll,Hr.bindKey=_C.bindKey,Hr.castArray=BC.castArray,Hr.chain=MC.chain,Hr.chunk=xC.chunk,Hr.compact=xC.compact,Hr.concat=xC.concat,Hr.cond=NC.cond,Hr.conforms=NC.conforms,Hr.constant=NC.constant,Hr.countBy=kC.countBy,Hr.create=TC.create,Hr.curry=_C.curry,Hr.curryRight=_C.curryRight,Hr.debounce=_C.debounce,Hr.defaults=TC.defaults,Hr.defaultsDeep=TC.defaultsDeep,Hr.defer=_C.defer,Hr.delay=_C.delay,Hr.difference=xC.difference,Hr.differenceBy=xC.differenceBy,Hr.differenceWith=xC.differenceWith,Hr.drop=xC.drop,Hr.dropRight=xC.dropRight,Hr.dropRightWhile=xC.dropRightWhile,Hr.dropWhile=xC.dropWhile,Hr.fill=xC.fill,Hr.filter=kC.filter,Hr.flatMap=kC.flatMap,Hr.flatMapDeep=kC.flatMapDeep,Hr.flatMapDepth=kC.flatMapDepth,Hr.flatten=xC.flatten,Hr.flattenDeep=xC.flattenDeep,Hr.flattenDepth=xC.flattenDepth,Hr.flip=_C.flip,Hr.flow=NC.flow,Hr.flowRight=NC.flowRight,Hr.fromPairs=xC.fromPairs,Hr.functions=TC.functions,Hr.functionsIn=TC.functionsIn,Hr.groupBy=kC.groupBy,Hr.initial=xC.initial,Hr.intersection=xC.intersection,Hr.intersectionBy=xC.intersectionBy,Hr.intersectionWith=xC.intersectionWith,Hr.invert=TC.invert,Hr.invertBy=TC.invertBy,Hr.invokeMap=kC.invokeMap,Hr.iteratee=NC.iteratee,Hr.keyBy=kC.keyBy,Hr.keys=rs,Hr.keysIn=TC.keysIn,Hr.map=kC.map,Hr.mapKeys=TC.mapKeys,Hr.mapValues=TC.mapValues,Hr.matches=NC.matches,Hr.matchesProperty=NC.matchesProperty,Hr.memoize=_C.memoize,Hr.merge=TC.merge,Hr.mergeWith=TC.mergeWith,Hr.method=NC.method,Hr.methodOf=NC.methodOf,Hr.mixin=JC,Hr.negate=Sg,Hr.nthArg=NC.nthArg,Hr.omit=TC.omit,Hr.omitBy=TC.omitBy,Hr.once=_C.once,Hr.orderBy=kC.orderBy,Hr.over=NC.over,Hr.overArgs=_C.overArgs,Hr.overEvery=NC.overEvery,Hr.overSome=NC.overSome,Hr.partial=_C.partial,Hr.partialRight=_C.partialRight,Hr.partition=kC.partition,Hr.pick=TC.pick,Hr.pickBy=TC.pickBy,Hr.property=NC.property,Hr.propertyOf=NC.propertyOf,Hr.pull=xC.pull,Hr.pullAll=xC.pullAll,Hr.pullAllBy=xC.pullAllBy,Hr.pullAllWith=xC.pullAllWith,Hr.pullAt=xC.pullAt,Hr.range=NC.range,Hr.rangeRight=NC.rangeRight,Hr.rearg=_C.rearg,Hr.reject=kC.reject,Hr.remove=xC.remove,Hr.rest=_C.rest,Hr.reverse=xC.reverse,Hr.sampleSize=kC.sampleSize,Hr.set=TC.set,Hr.setWith=TC.setWith,Hr.shuffle=kC.shuffle,Hr.slice=xC.slice,Hr.sortBy=kC.sortBy,Hr.sortedUniq=xC.sortedUniq,Hr.sortedUniqBy=xC.sortedUniqBy,Hr.split=OC.split,Hr.spread=_C.spread,Hr.tail=xC.tail,Hr.take=xC.take,Hr.takeRight=xC.takeRight,Hr.takeRightWhile=xC.takeRightWhile,Hr.takeWhile=xC.takeWhile,Hr.tap=MC.tap,Hr.throttle=_C.throttle,Hr.thru=ym,Hr.toArray=BC.toArray,Hr.toPairs=TC.toPairs,Hr.toPairsIn=TC.toPairsIn,Hr.toPath=NC.toPath,Hr.toPlainObject=BC.toPlainObject,Hr.transform=TC.transform,Hr.unary=_C.unary,Hr.union=xC.union,Hr.unionBy=xC.unionBy,Hr.unionWith=xC.unionWith,Hr.uniq=xC.uniq,Hr.uniqBy=xC.uniqBy,Hr.uniqWith=xC.uniqWith,Hr.unset=TC.unset,Hr.unzip=xC.unzip,Hr.unzipWith=xC.unzipWith,Hr.update=TC.update,Hr.updateWith=TC.updateWith,Hr.values=TC.values,Hr.valuesIn=TC.valuesIn,Hr.without=xC.without,Hr.words=OC.words,Hr.wrap=_C.wrap,Hr.xor=xC.xor,Hr.xorBy=xC.xorBy,Hr.xorWith=xC.xorWith,Hr.zip=xC.zip,Hr.zipObject=xC.zipObject,Hr.zipObjectDeep=xC.zipObjectDeep,Hr.zipWith=xC.zipWith,Hr.entries=TC.toPairs,Hr.entriesIn=TC.toPairsIn,Hr.extend=TC.assignIn,Hr.extendWith=TC.assignInWith,JC(Hr,Hr),Hr.add=EC.add,Hr.attempt=NC.attempt,Hr.camelCase=OC.camelCase,Hr.capitalize=OC.capitalize,Hr.ceil=EC.ceil,Hr.clamp=LC,Hr.clone=BC.clone,Hr.cloneDeep=BC.cloneDeep,Hr.cloneDeepWith=BC.cloneDeepWith,Hr.cloneWith=BC.cloneWith,Hr.conformsTo=BC.conformsTo,Hr.deburr=OC.deburr,Hr.defaultTo=NC.defaultTo,Hr.divide=EC.divide,Hr.endsWith=OC.endsWith,Hr.eq=BC.eq,Hr.escape=OC.escape,Hr.escapeRegExp=OC.escapeRegExp,Hr.every=kC.every,Hr.find=kC.find,Hr.findIndex=xC.findIndex,Hr.findKey=TC.findKey,Hr.findLast=kC.findLast,Hr.findLastIndex=xC.findLastIndex,Hr.findLastKey=TC.findLastKey,Hr.floor=EC.floor,Hr.forEach=kC.forEach,Hr.forEachRight=kC.forEachRight,Hr.forIn=TC.forIn,Hr.forInRight=TC.forInRight,Hr.forOwn=TC.forOwn,Hr.forOwnRight=TC.forOwnRight,Hr.get=TC.get,Hr.gt=BC.gt,Hr.gte=BC.gte,Hr.has=TC.has,Hr.hasIn=TC.hasIn,Hr.head=xC.head,Hr.identity=tr,Hr.includes=kC.includes,Hr.indexOf=xC.indexOf,Hr.inRange=WC,Hr.invoke=TC.invoke,Hr.isArguments=BC.isArguments,Hr.isArray=Ti,Hr.isArrayBuffer=BC.isArrayBuffer,Hr.isArrayLike=BC.isArrayLike,Hr.isArrayLikeObject=BC.isArrayLikeObject,Hr.isBoolean=BC.isBoolean,Hr.isBuffer=BC.isBuffer,Hr.isDate=BC.isDate,Hr.isElement=BC.isElement,Hr.isEmpty=BC.isEmpty,Hr.isEqual=BC.isEqual,Hr.isEqualWith=BC.isEqualWith,Hr.isError=BC.isError,Hr.isFinite=BC.isFinite,Hr.isFunction=BC.isFunction,Hr.isInteger=BC.isInteger,Hr.isLength=BC.isLength,Hr.isMap=BC.isMap,Hr.isMatch=BC.isMatch,Hr.isMatchWith=BC.isMatchWith,Hr.isNaN=BC.isNaN,Hr.isNative=BC.isNative,Hr.isNil=BC.isNil,Hr.isNull=BC.isNull,Hr.isNumber=BC.isNumber,Hr.isObject=ji,Hr.isObjectLike=BC.isObjectLike,Hr.isPlainObject=BC.isPlainObject,Hr.isRegExp=BC.isRegExp,Hr.isSafeInteger=BC.isSafeInteger,Hr.isSet=BC.isSet,Hr.isString=BC.isString,Hr.isSymbol=BC.isSymbol,Hr.isTypedArray=BC.isTypedArray,Hr.isUndefined=BC.isUndefined,Hr.isWeakMap=BC.isWeakMap,Hr.isWeakSet=BC.isWeakSet,Hr.join=xC.join,Hr.kebabCase=OC.kebabCase,Hr.last=Su,Hr.lastIndexOf=xC.lastIndexOf,Hr.lowerCase=OC.lowerCase,Hr.lowerFirst=OC.lowerFirst,Hr.lt=BC.lt,Hr.lte=BC.lte,Hr.max=EC.max,Hr.maxBy=EC.maxBy,Hr.mean=EC.mean,Hr.meanBy=EC.meanBy,Hr.min=EC.min,Hr.minBy=EC.minBy,Hr.stubArray=NC.stubArray,Hr.stubFalse=NC.stubFalse,Hr.stubObject=NC.stubObject,Hr.stubString=NC.stubString,Hr.stubTrue=NC.stubTrue,Hr.multiply=EC.multiply,Hr.nth=xC.nth,Hr.noop=NC.noop,Hr.now=RC,Hr.pad=OC.pad,Hr.padEnd=OC.padEnd,Hr.padStart=OC.padStart,Hr.parseInt=OC.parseInt,Hr.random=GC,Hr.reduce=kC.reduce,Hr.reduceRight=kC.reduceRight,Hr.repeat=OC.repeat,Hr.replace=OC.replace,Hr.result=TC.result,Hr.round=EC.round,Hr.sample=kC.sample,Hr.size=kC.size,Hr.snakeCase=OC.snakeCase,Hr.some=kC.some,Hr.sortedIndex=xC.sortedIndex,Hr.sortedIndexBy=xC.sortedIndexBy,Hr.sortedIndexOf=xC.sortedIndexOf,Hr.sortedLastIndex=xC.sortedLastIndex,Hr.sortedLastIndexBy=xC.sortedLastIndexBy,Hr.sortedLastIndexOf=xC.sortedLastIndexOf,Hr.startCase=OC.startCase,Hr.startsWith=OC.startsWith,Hr.subtract=EC.subtract,Hr.sum=EC.sum,Hr.sumBy=EC.sumBy,Hr.template=OC.template,Hr.times=NC.times,Hr.toFinite=BC.toFinite,Hr.toInteger=qi,Hr.toLength=BC.toLength,Hr.toLower=OC.toLower,Hr.toNumber=BC.toNumber,Hr.toSafeInteger=BC.toSafeInteger,Hr.toString=BC.toString,Hr.toUpper=OC.toUpper,Hr.trim=OC.trim,Hr.trimEnd=OC.trimEnd,Hr.trimStart=OC.trimStart,Hr.truncate=OC.truncate,Hr.unescape=OC.unescape,Hr.uniqueId=NC.uniqueId,Hr.upperCase=OC.upperCase,Hr.upperFirst=OC.upperFirst,Hr.each=kC.forEach,Hr.eachRight=kC.forEachRight,Hr.first=xC.head,JC(Hr,(PC={},zl(Hr,(function(e,t){jC.call(Hr.prototype,t)||(PC[t]=e)})),PC),{chain:!1}),Hr.VERSION="4.17.21",(Hr.templateSettings=OC.templateSettings).imports._=Hr,Yr(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Hr[e].placeholder=Hr})),Yr(["drop","take"],(function(e,t){_r.prototype[e]=function(n){n=void 0===n?1:zC(qi(n),0);var i=this.__filtered__&&!t?new _r(this):this.clone();return i.__filtered__?i.__takeCount__=XC(n,i.__takeCount__):i.__views__.push({size:XC(n,FC),type:e+(i.__dir__<0?"Right":"")}),i},_r.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Yr(["filter","map","takeWhile"],(function(e,t){var n=t+1,i=1==n||3==n;_r.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Hl(e),type:n}),t.__filtered__=t.__filtered__||i,t}})),Yr(["head","last"],(function(e,t){var n="take"+(t?"Right":"");_r.prototype[e]=function(){return this[n](1).value()[0]}})),Yr(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");_r.prototype[e]=function(){return this.__filtered__?new _r(this):this[n](1)}})),_r.prototype.compact=function(){return this.filter(tr)},_r.prototype.find=function(e){return this.filter(e).head()},_r.prototype.findLast=function(e){return this.reverse().find(e)},_r.prototype.invokeMap=xo((function(e,t){return"function"==typeof e?new _r(this):this.map((function(n){return Cd(n,e,t)}))})),_r.prototype.reject=function(e){return this.filter(Sg(Hl(e)))},_r.prototype.slice=function(e,t){e=qi(e);var n=this;return n.__filtered__&&(e>0||t<0)?new _r(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),void 0!==t&&(n=(t=qi(t))<0?n.dropRight(-t):n.take(t-e)),n)},_r.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},_r.prototype.toArray=function(){return this.take(FC)},zl(_r.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),r=Hr[i?"take"+("last"==t?"Right":""):t],o=i||/^find/.test(t);r&&(Hr.prototype[t]=function(){var t=this.__wrapped__,s=i?[1]:arguments,a=t instanceof _r,c=s[0],l=a||Ti(t),u=function(e){var t=r.apply(Hr,Ms([e],s));return i&&h?t[0]:t};l&&n&&"function"==typeof c&&1!=c.length&&(a=l=!1);var h=this.__chain__,d=!!this.__actions__.length,g=o&&!h,f=a&&!d;if(!o&&l){t=f?t:new _r(this);var p=e.apply(t,s);return p.__actions__.push({func:ym,args:[u],thisArg:void 0}),new Tr(p,h)}return g&&f?e.apply(this,s):(p=this.thru(u),g?i?p.value()[0]:p.value():p)})})),Yr(["pop","push","shift","sort","splice","unshift"],(function(e){var t=KC[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|shift)$/.test(e);Hr.prototype[e]=function(){var e=arguments;if(i&&!this.__chain__){var r=this.value();return t.apply(Ti(r)?r:[],e)}return this[n]((function(n){return t.apply(Ti(n)?n:[],e)}))}})),zl(_r.prototype,(function(e,t){var n=Hr[t];if(n){var i=n.name+"";jC.call(Lr,i)||(Lr[i]=[]),Lr[i].push({name:t,func:n})}})),Lr[ho(void 0,2).name]=[{name:"wrapper",func:void 0}],_r.prototype.clone=function(){var e=new _r(this.__wrapped__);return e.__actions__=Mr(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Mr(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Mr(this.__views__),e},_r.prototype.reverse=function(){if(this.__filtered__){var e=new _r(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},_r.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ti(e),i=t<0,r=n?e.length:0,o=function(e,t,n){for(var i=-1,r=n.length;++i<r;){var o=n[i],s=o.size;switch(o.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=ZC(t,e+s);break;case"takeRight":e=HC(e,t-s)}}return{start:e,end:t}}(0,r,this.__views__),s=o.start,a=o.end,c=a-s,l=i?a:s-1,u=this.__iteratees__,h=u.length,d=0,g=VC(c,this.__takeCount__);if(!n||!i&&r==c&&g==c)return xm(e,this.__actions__);var f=[];e:for(;c--&&d<g;){for(var p=-1,m=e[l+=t];++p<h;){var C=u[p],I=C.iteratee,v=C.type,A=I(m);if(2==v)m=A;else if(!A){if(1==v)continue e;break e}}f[d++]=m}return f},Hr.prototype.at=MC.at,Hr.prototype.chain=MC.wrapperChain,Hr.prototype.commit=MC.commit,Hr.prototype.next=MC.next,Hr.prototype.plant=MC.plant,Hr.prototype.reverse=MC.reverse,Hr.prototype.toJSON=Hr.prototype.valueOf=Hr.prototype.value=MC.value,Hr.prototype.first=Hr.prototype.head,DC&&(Hr.prototype[DC]=MC.toIterator)
/**
     * @license
     * Lodash (Custom Build) <https://lodash.com/>
     * Build: `lodash modularize exports="es" -o ./`
     * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
     * Released under MIT license <https://lodash.com/license>
     * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
     * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
     */;var YC=Object.freeze({__proto__:null,add:Zi,after:er,ary:Io,assign:ss,assignIn:us,assignInWith:hs,assignWith:ds,at:Ps,attempt:Us,before:Qs,bind:qs,bindAll:ea,bindKey:ta,camelCase:qa,capitalize:Aa,castArray:ec,ceil:rc,chain:oc,chunk:cc,clamp:uc,clone:sl,cloneDeep:al,cloneDeepWith:cl,cloneWith:ll,commit:ul,compact:hl,concat:dl,cond:Zl,conforms:Pl,conformsTo:Fl,constant:zr,countBy:ql,create:eu,curry:tu,curryRight:nu,debounce:su,deburr:xa,defaultTo:au,defaults:uu,defaultsDeep:Iu,defer:Au,delay:yu,difference:$u,differenceBy:xu,differenceWith:ku,divide:Ru,drop:_u,dropRight:Bu,dropRightWhile:Lu,dropWhile:Wu,each:Tu,eachRight:Zu,endsWith:Vu,entries:Fu,entriesIn:Ku,eq:Ao,escape:Xu,escapeRegExp:Uu,every:eh,extend:us,extendWith:hs,fill:nh,filter:rh,find:ch,findIndex:ah,findKey:uh,findLast:fh,findLastIndex:gh,findLastKey:ph,first:mh,flatMap:vh,flatMapDeep:Ah,flatMapDepth:yh,flatten:Zs,flattenDeep:bh,flattenDepth:wh,flip:$h,floor:Sh,flow:kh,flowRight:Rh,forEach:Tu,forEachRight:Zu,forIn:_h,forInRight:Bh,forOwn:Eh,forOwnRight:Lh,fromPairs:Wh,functions:Th,functionsIn:Mh,get:Gs,groupBy:Nh,gt:Vh,gte:Ph,has:jh,hasIn:Tl,head:mh,identity:tr,inRange:Xh,includes:qh,indexOf:td,initial:nd,intersection:sd,intersectionBy:ad,intersectionWith:cd,invert:hd,invertBy:pd,invoke:Id,invokeMap:vd,isArguments:No,isArray:Ti,isArrayBuffer:yd,isArrayLike:Ro,isArrayLikeObject:du,isBoolean:bd,isBuffer:Fo,isDate:$d,isElement:Sd,isEmpty:kd,isEqual:Rd,isEqualWith:_d,isError:Ys,isFinite:Ed,isFunction:nr,isInteger:Ld,isLength:ko,isMap:Qc,isMatch:Wd,isMatchWith:Gd,isNaN:Md,isNative:Nd,isNil:Hd,isNull:Zd,isNumber:Td,isObject:ji,isObjectLike:Ei,isPlainObject:Js,isRegExp:Pd,isSafeInteger:Kd,isSet:el,isString:Jh,isSymbol:Li,isTypedArray:Uo,isUndefined:jd,isWeakMap:Dd,isWeakSet:zd,iteratee:Xd,join:Yd,kebabCase:Ud,keyBy:Qd,keys:rs,keysIn:ls,last:Su,lastIndexOf:tg,lodash:Hr,lowerCase:ng,lowerFirst:ig,lt:og,lte:sg,map:Ih,mapKeys:ag,mapValues:cg,matches:lg,matchesProperty:ug,max:dg,maxBy:gg,mean:mg,meanBy:Cg,memoize:xs,merge:Ig,mergeWith:Cu,method:vg,methodOf:Ag,min:yg,minBy:bg,mixin:wg,multiply:$g,negate:Sg,next:Rg,noop:Br,now:iu,nth:Bg,nthArg:Eg,omit:Gg,omitBy:Ng,once:Hg,orderBy:Pg,over:Kg,overArgs:zg,overEvery:Xg,overSome:Jg,pad:mf,padEnd:Cf,padStart:If,parseInt:yf,partial:bf,partialRight:wf,partition:$f,pick:Sf,pickBy:Og,plant:xf,property:Nl,propertyOf:kf,pull:Lf,pullAll:Ef,pullAllBy:Wf,pullAllWith:Gf,pullAt:Of,random:Kf,range:Xf,rangeRight:Jf,rearg:Yf,reduce:Qf,reduceRight:ep,reject:tp,remove:np,repeat:ip,replace:rp,rest:op,result:sp,reverse:cp,round:lp,sample:dp,sampleSize:mp,set:Cp,setWith:Ip,shuffle:yp,size:bp,slice:wp,snakeCase:$p,some:xp,sortBy:kp,sortedIndex:Lp,sortedIndexBy:Wp,sortedIndexOf:Gp,sortedLastIndex:Tp,sortedLastIndexBy:Mp,sortedLastIndexOf:Op,sortedUniq:Hp,sortedUniqBy:Zp,split:Vp,spread:Fp,startCase:Kp,startsWith:jp,stubArray:vc,stubFalse:Ho,stubObject:Dp,stubString:zp,stubTrue:Xp,subtract:Jp,sum:Yp,sumBy:Up,tail:Qp,take:qp,takeRight:em,takeRightWhile:tm,takeWhile:nm,tap:im,template:vm,templateSettings:um,throttle:Am,thru:ym,times:$m,toArray:kg,toFinite:Qi,toInteger:qi,toIterator:Sm,toJSON:km,toLength:th,toLower:Rm,toNumber:Yi,toPairs:Fu,toPairsIn:Ku,toPath:_m,toPlainObject:fu,toSafeInteger:Em,toString:Bs,toUpper:Lm,transform:Wm,trim:Mm,trimEnd:Om,trimStart:Hm,truncate:Vm,unary:Pm,unescape:Dm,union:Jm,unionBy:Ym,unionWith:Um,uniq:Qm,uniqBy:qm,uniqWith:eC,uniqueId:nC,unset:iC,unzip:oC,unzipWith:sC,update:cC,updateWith:lC,upperCase:uC,upperFirst:va,value:km,valueOf:km,values:Uh,valuesIn:hC,without:dC,words:Ya,wrap:gC,wrapperAt:fC,wrapperChain:pC,wrapperCommit:ul,wrapperLodash:Hr,wrapperNext:Rg,wrapperPlant:xf,wrapperReverse:mC,wrapperToIterator:Sm,wrapperValue:km,xor:IC,xorBy:vC,xorWith:AC,zip:yC,zipObject:wC,zipObjectDeep:$C,zipWith:SC,default:Hr});const UC={TREE:"tree",CODE:"code"},QC=Symbol("id"),qC=Symbol("expanded"),eI=Symbol("visible sections"),tI=Symbol("keys"),nI=Symbol("search:property"),iI=Symbol("search:value"),rI=Symbol("search:result"),oI=Symbol("search:active-result"),sI=Symbol("validation:error"),aI=1e3,cI=100,lI=[{start:0,end:cI}],uI=10485760,hI={closeButton:!1,styleBg:{top:0,left:0,background:"rgba(0, 0, 0, 0.3)",justifyContent:"normal"},styleWindow:{borderRadius:"2px"},styleContent:{padding:"0px",overflow:"visible"}},dI={...hI,styleWindow:{...hI.styleWindow,width:"400px"}},gI={...hI,styleWindow:{...hI.styleWindow,width:"600px"},styleContent:{overflow:"auto",padding:0}},fI="Insert or paste contents, enter [ insert a new array, enter { to insert a new object, or start typing to insert a new value",pI="Open context menu (Click here, right click on the selection, or use the context menu button or Ctrl+Q)",mI="hover-insert-inside",CI="hover-insert-after",II="hover-collection",vI="valid",AI="repairable",yI=336,bI=260;function wI(e,t){const n=vi.parseJSONPointer(t);for(let t=0;t<n.length;t++){const i=n[t];if($I.exec(i)){const r=n.slice(0,t),o=vi.getIn(e,r);Array.isArray(o)&&(n[t]=parseInt(i))}}return n}const $I=/^\d+$/;function SI(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function xI(e){return"object"==typeof e&&null!==e}function kI(e){return null===e?"null":void 0===e?"undefined":"number"==typeof e?"number":"string"==typeof e?"string":"boolean"==typeof e?"boolean":e instanceof RegExp?"regexp":Array.isArray(e)?"array":"object"}const RI=/^https?:\/\/\S+$/;function _I(e){return"string"==typeof e&&RI.test(e)}const BI=[];function EI(e,t=!1){const n={};if(!Array.isArray(e))throw new TypeError("Array expected");function i(e,r){(!Array.isArray(e)&&!SI(e)||t)&&(n[vi.compileJSONPointer(r)]=!0),SI(e)&&Object.keys(e).forEach((t=>{i(e[t],r.concat(t))}))}const r=Math.min(e.length,1e4);for(let t=0;t<r;t++){i(e[t],BI)}return Object.keys(n).sort().map(vi.parseJSONPointer)}function LI(e,t,n){if(!(t<=e))for(let i=e;i<t;i++)n(i)}function WI(e){const t=kp(e,(e=>e.start)),n=[t[0]];for(let e=0;e<t.length;e++){const i=n.length-1,r=n[i],o=t[e];o.start<=r.end?n[i]={start:Math.min(r.start,o.start),end:Math.max(r.end,o.end)}:n.push(o)}return n}function GI(e,t){return e.some((e=>t>=e.start&&t<e.end))}function TI(e){return MI(e)+cI}function MI(e){return Math.floor(e/cI)*cI}const OI=Qe("jsoneditor:documentState");function NI(e,t,n,i,r=!1){const o=Array.isArray(e)?[]:{};return o[QC]=t&&t[QC]?t[QC]:nC(),SI(e)?(o[tI]=function(e,t){if(!t)return Object.keys(e);const n=t.filter((t=>void 0!==e[t])),i=new Set(n);return Object.keys(e).filter((e=>!i.has(e))).forEach((e=>n.push(e))),n}(e,t&&t[tI]),o[qC]=t&&!r?t[qC]:i(n),o[qC]&&Object.keys(e).forEach((s=>{const a=e[s],c=t&&t[s];o[s]=NI(a,c,n.concat(s),i,r)}))):Array.isArray(e)&&(o[qC]=t&&!r?t[qC]:i(n),o[eI]=t&&o[qC]&&t[eI]||lI,o[qC]&&o[eI].forEach((({start:s,end:a})=>{LI(s,Math.min(e.length,a),(s=>{const a=e[s],c=t&&t[s];o[s]=NI(a,c,n.concat(s),i,r)}))}))),o}function HI(e){if(Array.isArray(e)){const e=[];return e[QC]=nC(),e[qC]=!1,e[eI]=lI,e}if(SI(e)){const t={};return t[QC]=nC(),t[qC]=!1,t[tI]=Object.keys(e),t}return{[QC]:nC()}}function ZI(e,t,n){t[eI].forEach((({start:t,end:i})=>{LI(t,Math.min(e.length,i),n)}))}function VI(e,t){e[tI].forEach((e=>t(e)))}function PI(e,t,n){let i=t;for(let t=0;t<n.length;t++){const r=n.slice(0,t),o=r.concat(qC);if(i=vi.setIn(i,o,!0,!0),Array.isArray(vi.getIn(i,r))){const e=n[t],o=r.concat(eI),s=vi.getIn(i,o)||lI;if(!GI(s,e)){const t=MI(e),n={start:t,end:TI(t)},r=WI(s.concat(n));i=vi.setIn(i,o,r)}}const s=vi.getIn(e,r);i=vi.updateIn(i,r,(e=>NI(s,e,[],(()=>!1))))}return i}function FI(e,t,n){OI("documentStatePatch",e,t,n);const i=vi.immutableJSONPatch(e,n),r=function(e,t,n){let i=t;function r(e,t,n){let i=t;return vi.existsIn(e,n)&&!vi.existsIn(i,n)&&(n.length>0&&(i=r(e,i,nd(n))),i=vi.setIn(i,n,HI(vi.getIn(e,n)))),i}return n.forEach((t=>{const n="string"==typeof t.from?wI(e,t.from):null,o="string"==typeof t.path?wI(e,t.path):null;"add"===t.op&&(i=r(e,i,nd(o))),"copy"!==t.op&&"move"!==t.op||(i=r(e,i,n),i=r(e,i,nd(o))),"remove"!==t.op&&"replace"!==t.op&&"test"!==t.op||(i=r(e,i,o))})),i}(e,t,n);return{json:i,state:vi.immutableJSONPatch(r,n,{before:function(e,t){const{op:n,path:i,from:r}=t,o=nd(i);let s=e,a=t;if(void 0!==t.value&&(a={...a,value:HI(t.value)}),"add"===n||"copy"===n){const t=jI(e,o);if(t){const e=Su(i);t.includes(e)||(s=zI(s,o,e))}s=KI(s,i,1)}if("move"===n){const t=nd(i),n=jI(s,t),o=Su(r),c=Su(i);if(Rd(nd(r),nd(i)))n&&(o!==c?(s=DI(s,t,c),s=function(e,t,n,i){return vi.updateIn(e,t.concat([tI]),(e=>{const t=e.indexOf(n);if(-1===t)return e;const r=e.slice(0);return r.splice(t,1,i),r}))}(s,t,o,c)):(s=DI(s,t,c),s=zI(s,t,c)));else{const e=nd(r);jI(s,e)&&(s=DI(s,e,o)),n&&(s=zI(s,t,c))}s=KI(s,r,-1),s=KI(s,i,1);const l=vi.getIn(e,r);a={...a,value:l}}if("remove"===n){const e=nd(i);if(jI(s,e)){s=DI(s,e,Su(i))}else s=KI(s,i,-1)}if("replace"===n){const e=nd(i),t=jI(s,e);if(t){const n=Su(i);t.includes(n)||(s=zI(s,e,n))}}return{json:s,operation:a}},after:function(e,t){const{op:n,path:i}=t;let r=e;return"copy"===n&&vi.existsIn(r,i.concat([QC]))&&(r=vi.setIn(r,i.concat([QC]),nC())),r}})}}function KI(e,t,n){const i=nd(t).concat([eI]),r=vi.getIn(e,i);if(!r)return e;const o=parseInt(Su(t),10),s=r.map((e=>({start:e.start>o?e.start+n:e.start,end:e.end>=o?e.end+n:e.end})));return vi.setIn(e,i,s)}function jI(e,t){return vi.getIn(e,t.concat([tI]))}function DI(e,t,n){return vi.updateIn(e,t.concat([tI]),(e=>{const t=e.indexOf(n);if(-1===t)return e;const i=e.slice(0);return i.splice(t,1),i}))}function zI(e,t,n){return vi.updateIn(e,t.concat([tI]),(e=>e.concat(n)))}function XI(e,t,n=!1){const i=e.indexOf(t);return-1!==i?n?e.slice(i):e.slice(i+1):[]}function JI(e,t){const n=[];return function e(t,i,r){n.push(r),t&&i&&!0===i[qC]&&(Array.isArray(t)?ZI(t,i,(n=>{e(t[n],i[n],r.concat(n))})):VI(i,(n=>{e(t[n],i[n],r.concat(n))})))}(e,t,[]),n}const YI="inside",UI="after",QI="key",qI="value";function ev(e,t){const n=[];return function e(t,i,r){n.push({path:r,type:qI}),t&&i&&!0===i[qC]&&(n.push({path:r,type:YI}),Array.isArray(t)?ZI(t,i,(o=>{const s=r.concat(o);e(t[o],i[o],s),n.push({path:s,type:UI})})):VI(i,(o=>{const s=r.concat(o);n.push({path:s,type:QI}),e(t[o],i[o],s),n.push({path:s,type:UI})})))}(e,t,[]),n}function tv(e,t,n){const i=JI(e,t),r=i.map(vi.compileJSONPointer).indexOf(vi.compileJSONPointer(n));return-1!==r&&r<i.length-1?i[r+1]:null}const nv="after",iv="inside",rv="key",ov="value",sv="multi";function av(e){return e.type===iv?e.focusPath:nd(e.focusPath)}function cv(e,t,n,i=!1){const r=function(e,t,n){const i=JI(e,t),r=i.map(vi.compileJSONPointer),o=vi.compileJSONPointer(n),s=r.indexOf(o);return-1!==s&&s>0?i[s-1]:null}(e,t,n.focusPath),o=r,s=r;if(null===r)return null;if(i)return n.type===nv||n.type===iv?Cv(e,t,{type:sv,anchorPath:n.anchorPath,focusPath:n.anchorPath}):Cv(e,t,{type:sv,anchorPath:n.anchorPath,focusPath:s});if(n.type===rv){const t=nd(r),n=vi.getIn(e,t);return Array.isArray(n)||kd(r)?{type:ov,anchorPath:o,focusPath:s}:{type:rv,anchorPath:o,focusPath:s}}return n.type===ov?{type:ov,anchorPath:o,focusPath:s}:n.type===nv||n.type===iv?Cv(e,t,{type:sv,anchorPath:n.focusPath,focusPath:n.focusPath}):Cv(e,t,{type:sv,anchorPath:o,focusPath:s})}function lv(e,t,n,i=!1){const r=tv(e,t,n.focusPath),o=r,s=r;if(null===r)return null;if(i){const i=tv(e,xI(vi.getIn(e,n.focusPath))?vi.setIn(t,n.focusPath.concat(qC),!1,!0):t,n.focusPath);return null===i?null:n.type===nv?Cv(e,t,{type:sv,anchorPath:i,focusPath:i}):n.type===iv?Cv(e,t,{type:sv,anchorPath:o,focusPath:s}):Cv(e,t,{type:sv,anchorPath:n.anchorPath,focusPath:i})}if(n.type===rv){const t=nd(r),n=vi.getIn(e,t);return Array.isArray(n)?{type:ov,anchorPath:o,focusPath:s}:{type:rv,anchorPath:o,focusPath:s}}return n.type===ov?{type:ov,anchorPath:o,focusPath:s}:n.type===iv?Cv(e,t,{type:sv,anchorPath:o,focusPath:s}):Cv(e,t,{type:sv,anchorPath:r,focusPath:r})}function uv(e,t,n){const i=ev(e,t),r=i.findIndex((e=>Rd(e.path,n.focusPath)&&e.type===n.type));return{caret:-1!==r?i[r]:null,previous:-1!==r&&r>0?i[r-1]:null,next:-1!==r&&r<i.length-1?i[r+1]:null}}function hv(e,t){const n=JI(e,t);let i=0;for(;i<n.length-1&&n[i+1].length>n[i].length;)i++;const r=n[i];return 0===r.length||Array.isArray(vi.getIn(e,nd(r)))?{type:ov,anchorPath:r,focusPath:r}:{type:rv,anchorPath:r,focusPath:r}}function dv(e,t){if(1===t.length){const n=mh(t);if("replace"===n.op||"move"===n.op){const t=wI(e,n.path);return{type:ov,anchorPath:t,focusPath:t,edit:!1}}}if(!kd(t)&&t.every((e=>"move"===e.op))){const n=mh(t),i=t.slice(1);if(n.from!==n.path&&i.every((e=>e.from===e.path))){const t=wI(e,n.path);return{type:rv,anchorPath:t,focusPath:t,edit:!1}}}const n=t.filter((e=>"test"!==e.op&&"remove"!==e.op&&("move"!==e.op||e.from!==e.path)&&"string"==typeof e.path)).map((t=>wI(e,t.path)));return kd(n)?null:{type:sv,paths:n,anchorPath:mh(n),focusPath:Su(n),pathsMap:gv(n)}}function gv(e){const t={};return e.forEach((e=>{t[vi.compileJSONPointer(e)]=!0})),t}function fv(e,t){return t.type===ov&&xI(vi.getIn(e,t.focusPath))?t.focusPath:nd(t.focusPath)}function pv(e,t){if(e.length<t.length)return!1;for(let n=0;n<t.length;n++)if(e[n]!==t[n])return!1;return!0}function mv(e){return e&&e.edit?{...e,edit:!1}:e}function Cv(e,t,n){const{type:i,anchorPath:r,focusPath:o,path:s,edit:a=!1,next:c=!1,nextInside:l=!1}=n;if(i===rv){let e={type:i,anchorPath:s,focusPath:s,edit:a};return c&&(e={...e,type:ov}),e}if(i===ov){let n={type:ov,anchorPath:s,focusPath:s,edit:a};return c&&(n=lv(e,t,n)||n),l&&(n=function(e,t,n){const i=n.focusPath,r=nd(i),o=[Su(i)],s=tv(vi.getIn(e,r),vi.getIn(t,r),o);return Cv(e,t,s?{type:ov,path:r.concat(s)}:{type:nv,path:i})}(e,t,n)||n),n}if(i===nv)return{type:i,anchorPath:s,focusPath:s};if(i===iv)return{type:i,anchorPath:s,focusPath:s};if(r&&o){const n=function(e,t,n,i){if(Rd(n,i))return[n];{const r=function(e,t){let n=0;for(;n<e.length&&e[n]===t[n];)n++;return e.slice(0,n)}(n,i);if(n.length===r.length||i.length===r.length)return[r];const o=n[r.length],s=i[r.length],a=vi.getIn(e,r);if(SI(a)){const e=vi.getIn(t,r.concat(tI)),n=e.indexOf(o),i=e.indexOf(s);if(-1!==n&&-1!==i){const t=Math.min(n,i),o=Math.max(n,i),s=[];for(let n=t;n<=o;n++)s.push(r.concat(e[n]));return s}}if(Array.isArray(a)){const e=Math.min(o,s),t=Math.max(o,s),n=[];for(let i=e;i<=t;i++)n.push(r.concat(i));return n}}throw new Error("Failed to create selection")}(e,t,r,o),i=Rd(o,Su(n))||Rd(r,mh(n));return{type:sv,anchorPath:i?mh(n):Su(n),focusPath:i?Su(n):mh(n),paths:n,pathsMap:gv(n)}}throw new TypeError(`Unknown type of selection ${JSON.stringify(n)}`)}function Iv(e,t,n=2){if(t.type===rv)return Su(t.focusPath);if(t.type===ov){const i=vi.getIn(e,t.focusPath);return"string"==typeof i?i:JSON.stringify(i,null,n)}if(t.type===sv){if(kd(t.focusPath))return JSON.stringify(e,null,n);const i=av(t),r=vi.getIn(e,i);if(Array.isArray(r)){if(1===t.paths.length){const i=vi.getIn(e,mh(t.paths));return JSON.stringify(i,null,n)}return t.paths.map((t=>{const i=vi.getIn(e,t);return`${JSON.stringify(i,null,n)},`})).join("\n")}return t.paths.map((t=>{const i=Su(t),r=vi.getIn(e,t);return`${JSON.stringify(i)}: ${JSON.stringify(r,null,n)},`})).join("\n")}return null}function vv(e){return function(e){const t='"'+function(e){let t="",n=0;for(;n<e.length;){let i=e.charAt(n);"\n"===i?t+="\\n":"\\"===i?(t+=i,n++,i=e.charAt(n),""!==i&&-1!=='"\\/bfnrtu'.indexOf(i)||(t+="\\"),t+=i):t+='"'===i?'\\"':i,n++}return t}(e)+'"';return JSON.parse(t).replace(/&nbsp;/g," ")}(yv(e))}function Av(e,t){e.innerHTML=function(e){if("string"!=typeof e)return String(e);{const t=String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/ {2}/g," &nbsp;").replace(/^ /,"&nbsp;").replace(/ $/,"&nbsp;"),n=JSON.stringify(t);return n.substring(1,n.length-1)}}(t)}function yv(e,t){if(void 0===t&&(t={_text:"",flush:function(){const e=this._text;return this._text="",e},set:function(e){this._text=e}}),e.nodeValue){const n=e.nodeValue.replace(/\s*\n\s*/g,"");return""!==n?t.flush()+n:""}if(e.hasChildNodes()){const n=e.childNodes;let i="";for(let e=0,r=n.length;e<r;e++){const r=n[e];if("DIV"===r.nodeName||"P"===r.nodeName){const o=n[e-1],s=o?o.nodeName:void 0;s&&"DIV"!==s&&"P"!==s&&"BR"!==s&&(""!==i&&(i+="\n"),t.flush()),i+=yv(r,t),t.set("\n")}else"BR"===r.nodeName?(i+=t.flush(),t.set("\n")):i+=yv(r,t)}return i}return""}function bv(e,t){return $v(e,(e=>e.nodeName.toUpperCase()===t.toUpperCase()))}function wv(e,t,n){return $v(e,(e=>function(e,t,n){return"function"==typeof e.getAttribute&&e.getAttribute(t)===n}(e,t,n)))}function $v(e,t){let n=e;for(;n&&!t(n);)n=n.parentNode;return n&&t(n)}function Sv(e){if(null==e.firstChild)return void e.focus();const t=document.createRange(),n=window.getSelection();t.setStart(e,1),t.collapse(!0),n.removeAllRanges(),n.addRange(t)}function xv(e){return e.ownerDocument.defaultView}function kv(e){return $v(xv(e).document.activeElement,(t=>t===e))}function Rv(e,t){let n=e;for(;n&&n.nodeName!==t;)n=n.parentNode;return n}function _v(e){return wv(e,"data-type","selectable-key")?rv:wv(e,"data-type","selectable-value")?ov:wv(e,"data-type","insert-selection-area-inside")?iv:wv(e,"data-type","insert-selection-area-after")?nv:sv}const Bv=navigator.platform.toUpperCase().indexOf("MAC")>=0;function Ev(e){const t=[];e.ctrlKey&&t.push("Ctrl"),e.metaKey&&t.push("Command"),e.altKey&&t.push(Bv?"Option":"Alt"),e.shiftKey&&t.push("Shift");const n=function(e){return Wv[e]||""}(e.which);return Lv[n]||t.push(n),t.join("+")}const Lv={Ctrl:!0,Command:!0,Alt:!0,Option:!0,Shift:!0},Wv={8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause_Break",20:"Caps_Lock",27:"Escape",33:"Page_Up",34:"Page_Down",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",45:"Insert",46:"Delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",91:"Left_Window_Key",92:"Right_Window_Key",93:"Select_Key",96:"Numpad_0",97:"Numpad_1",98:"Numpad_2",99:"Numpad_3",100:"Numpad_4",101:"Numpad_5",102:"Numpad_6",103:"Numpad_7",104:"Numpad_8",105:"Numpad_9",106:"Numpad_*",107:"Numpad_+",109:"Numpad_-",110:"Numpad_.",111:"Numpad_/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Num_Lock",145:"Scroll_Lock",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},{window:Gv}=ke;function Tv(e){let t,i,r,o,s;const a=[e[1]];var c=e[0];function l(e){let t={};for(let e=0;e<a.length;e+=1)t=n(t,a[e]);return{props:t}}return c&&(o=new c(l())),{c(){t=S("div"),i=S("input"),r=R(),o&&We(o.$$.fragment),E(i,"class","hidden-input svelte-1g8ebt0"),E(t,"class","absolute-popup-content svelte-1g8ebt0"),E(t,"style",e[7]())},m(n,a){b(n,t,a),y(t,i),e[10](i),y(t,r),o&&Ge(o,t,null),s=!0},p(e,n){const i=2&n?Be(a,[Ee(e[1])]):{};if(c!==(c=e[0])){if(o){ye();const e=o;$e(e.$$.fragment,1,0,(()=>{Te(e,1)})),be()}c?(o=new c(l()),We(o.$$.fragment),we(o.$$.fragment,1),Ge(o,t,null)):o=null}else c&&o.$set(i)},i(e){s||(o&&we(o.$$.fragment,e),s=!0)},o(e){o&&$e(o.$$.fragment,e),s=!1},d(n){n&&w(t),e[10](null),o&&Te(o)}}}function Mv(e){let t,n,i,r,s,a=e[0]&&e[1]&&Tv(e);const c=e[9].default,l=u(c,e,e[8],null);return{c(){t=S("div"),a&&a.c(),n=R(),l&&l.c(),E(t,"class","absolute-popup svelte-1g8ebt0")},m(o,c){b(o,t,c),a&&a.m(t,null),e[11](t),b(o,n,c),l&&l.m(o,c),i=!0,r||(s=[B(Gv,"mousedown",e[4],!0),B(Gv,"keydown",e[5],!0),B(Gv,"wheel",e[6],!0),B(t,"mousedown",Ov),B(t,"keydown",e[5])],r=!0)},p(e,[n]){e[0]&&e[1]?a?(a.p(e,n),3&n&&we(a,1)):(a=Tv(e),a.c(),we(a,1),a.m(t,null)):a&&(ye(),$e(a,1,1,(()=>{a=null})),be()),l&&l.p&&(!i||256&n)&&d(l,c,e,e[8],n,null,null)},i(e){i||(we(a),we(l,e),i=!0)},o(e){$e(a),$e(l,e),i=!1},d(i){i&&w(t),a&&a.d(),e[11](null),i&&w(n),l&&l.d(i),r=!1,o(s)}}}function Ov(e){e.stopPropagation()}function Nv(e,t,n){let{$$slots:i={},$$scope:r}=t;const o=Qe("jsoneditor:AbsolutePopup");let s,a,c=null,l=null,u={};function h(){if(c){const e=u.onClose;n(0,c=null),n(1,l=null),u={},e&&e()}}function d(){a&&a.focus()}return te("absolute-popup",{openAbsolutePopup:function(e,t,i){o("open...",i),n(0,c=e),n(1,l=t||{}),u=i||{},ue().then(d)},closeAbsolutePopup:h}),e.$$set=e=>{"$$scope"in e&&n(8,r=e.$$scope)},[c,l,s,a,function(e){u&&u.closeOnOuterClick&&!$v(e.target,(e=>e===s))&&h()},function(e){"Escape"===Ev(e)&&h()},function(){h()},function(){const e=s.getBoundingClientRect(),{left:t,top:n,positionAbove:i,positionLeft:r}=function(){if(u.anchor){const{anchor:e,width:t,height:n}=u,{left:i,top:r,bottom:o,right:s}=e.getBoundingClientRect(),a=r+n>window.innerHeight&&r>n,c=i+t>window.innerWidth&&i>t;return{left:c?s:i,top:a?r-2:o+2,positionAbove:a,positionLeft:c}}if("number"==typeof u.left&&"number"==typeof u.top){const{left:e,top:t,width:n,height:i}=u;return{left:e,top:t,positionAbove:t+i>window.innerHeight&&t>i,positionLeft:e+n>window.innerWidth&&e>n}}throw new Error('Invalid config: pass either "left" and "top", or pass "anchor"')}();return(i?`bottom: ${e.top-n}px;`:`top: ${n-e.top}px;`)+(r?`right: ${e.left-t}px;`:`left: ${t-e.left}px;`)},r,i,function(e){re[e?"unshift":"push"]((()=>{a=e,n(3,a)}))},function(e){re[e?"unshift":"push"]((()=>{s=e,n(2,s)}))}]}class Hv extends Oe{constructor(e){super(),Me(this,e,Nv,Mv,c,{})}}function Zv(e,{delay:n=0,duration:i=400,easing:r=t}={}){const o=+getComputedStyle(e).opacity;return{delay:n,duration:i,easing:r,css:e=>"opacity: "+e*o}}const{window:Vv}=ke;function Pv(e){let t,n,i,r,a,c,l,u,h,d,g,f=e[0].closeButton&&Fv(e);var p=e[1];return p&&(c=new p({})),{c(){t=S("div"),n=S("div"),i=S("div"),f&&f.c(),r=R(),a=S("div"),c&&We(c.$$.fragment),E(a,"class","content svelte-2wx9ab"),E(a,"style",e[8]),E(i,"class","window svelte-2wx9ab"),E(i,"role","dialog"),E(i,"aria-modal","true"),E(i,"style",e[7]),E(n,"class","window-wrap svelte-2wx9ab"),E(n,"style",e[6]),E(t,"class","bg svelte-2wx9ab"),E(t,"style",e[5])},m(o,l){b(o,t,l),y(t,n),y(n,i),f&&f.m(i,null),y(i,r),y(i,a),c&&Ge(c,a,null),e[37](i),e[38](n),e[39](t),h=!0,d||(g=[B(i,"introstart",(function(){s(e[12])&&e[12].apply(this,arguments)})),B(i,"outrostart",(function(){s(e[13])&&e[13].apply(this,arguments)})),B(i,"introend",(function(){s(e[14])&&e[14].apply(this,arguments)})),B(i,"outroend",(function(){s(e[15])&&e[15].apply(this,arguments)})),B(t,"click",e[19])],d=!0)},p(o,s){if((e=o)[0].closeButton?f?(f.p(e,s),1&s[0]&&we(f,1)):(f=Fv(e),f.c(),we(f,1),f.m(i,r)):f&&(ye(),$e(f,1,1,(()=>{f=null})),be()),p!==(p=e[1])){if(c){ye();const e=c;$e(e.$$.fragment,1,0,(()=>{Te(e,1)})),be()}p?(c=new p({}),We(c.$$.fragment),we(c.$$.fragment,1),Ge(c,a,null)):c=null}(!h||256&s[0])&&E(a,"style",e[8]),(!h||128&s[0])&&E(i,"style",e[7]),(!h||64&s[0])&&E(n,"style",e[6]),(!h||32&s[0])&&E(t,"style",e[5])},i(n){h||(we(f),c&&we(c.$$.fragment,n),he((()=>{l||(l=xe(i,e[11],e[0].transitionWindowProps,!0)),l.run(1)})),he((()=>{u||(u=xe(t,e[10],e[0].transitionBgProps,!0)),u.run(1)})),h=!0)},o(n){$e(f),c&&$e(c.$$.fragment,n),l||(l=xe(i,e[11],e[0].transitionWindowProps,!1)),l.run(0),u||(u=xe(t,e[10],e[0].transitionBgProps,!1)),u.run(0),h=!1},d(n){n&&w(t),f&&f.d(),c&&Te(c),e[37](null),n&&l&&l.end(),e[38](null),e[39](null),n&&u&&u.end(),d=!1,o(g)}}}function Fv(e){let t,n,i,r,o;const s=[jv,Kv],a=[];function c(e,n){return 1&n[0]&&(t=!!e[16](e[0].closeButton)),t?0:1}return n=c(e,[-1]),i=a[n]=s[n](e),{c(){i.c(),r=_()},m(e,t){a[n].m(e,t),b(e,r,t),o=!0},p(e,t){let o=n;n=c(e,t),n===o?a[n].p(e,t):(ye(),$e(a[o],1,1,(()=>{a[o]=null})),be(),i=a[n],i?i.p(e,t):(i=a[n]=s[n](e),i.c()),we(i,1),i.m(r.parentNode,r))},i(e){o||(we(i),o=!0)},o(e){$e(i),o=!1},d(e){a[n].d(e),e&&w(r)}}}function Kv(t){let n,i,r;return{c(){n=S("button"),E(n,"class","close svelte-2wx9ab"),E(n,"style",t[9])},m(e,o){b(e,n,o),i||(r=B(n,"click",t[17]),i=!0)},p(e,t){512&t[0]&&E(n,"style",e[9])},i:e,o:e,d(e){e&&w(n),i=!1,r()}}}function jv(e){let t,n,i;var r=e[0].closeButton;function o(e){return{props:{onClose:e[17]}}}return r&&(t=new r(o(e))),{c(){t&&We(t.$$.fragment),n=_()},m(e,r){t&&Ge(t,e,r),b(e,n,r),i=!0},p(e,i){if(r!==(r=e[0].closeButton)){if(t){ye();const e=t;$e(e.$$.fragment,1,0,(()=>{Te(e,1)})),be()}r?(t=new r(o(e)),We(t.$$.fragment),we(t.$$.fragment,1),Ge(t,n.parentNode,n)):t=null}},i(e){i||(t&&we(t.$$.fragment,e),i=!0)},o(e){t&&$e(t.$$.fragment,e),i=!1},d(e){e&&w(n),t&&Te(t,e)}}}function Dv(e){let t,n,i,r,o=e[1]&&Pv(e);const s=e[36].default,a=u(s,e,e[35],null);return{c(){o&&o.c(),t=R(),a&&a.c()},m(s,c){o&&o.m(s,c),b(s,t,c),a&&a.m(s,c),n=!0,i||(r=B(Vv,"keydown",e[18]),i=!0)},p(e,i){e[1]?o?(o.p(e,i),2&i[0]&&we(o,1)):(o=Pv(e),o.c(),we(o,1),o.m(t.parentNode,t)):o&&(ye(),$e(o,1,1,(()=>{o=null})),be()),a&&a.p&&(!n||16&i[1])&&d(a,s,e,e[35],i,null,null)},i(e){n||(we(o),we(a,e),n=!0)},o(e){$e(o),$e(a,e),n=!1},d(e){o&&o.d(e),e&&w(t),a&&a.d(e),i=!1,r()}}}function zv(e,t,n){let{$$slots:i={},$$scope:r}=t;const o=ee(),s=te;let{show:a=null}=t,{key:c="simple-modal"}=t,{closeButton:l=!0}=t,{closeOnEsc:u=!0}=t,{closeOnOuterClick:h=!0}=t,{styleBg:d={}}=t,{styleWindowWrap:g={}}=t,{styleWindow:f={}}=t,{styleContent:p={}}=t,{styleCloseButton:m={}}=t,{setContext:C=s}=t,{transitionBg:I=Zv}=t,{transitionBgProps:v={duration:250}}=t,{transitionWindow:A=I}=t,{transitionWindowProps:y=v}=t;const b={closeButton:l,closeOnEsc:u,closeOnOuterClick:h,styleBg:d,styleWindowWrap:g,styleWindow:f,styleContent:p,styleCloseButton:m,transitionBg:I,transitionBgProps:v,transitionWindow:A,transitionWindowProps:y};let w,$,S,x,k,R,_,B,E,L,W,G,T,M={...b},O=null;const N=e=>Object.keys(e).reduce(((t,n)=>`${t}; ${(e=>e.replace(/([a-zA-Z])(?=[A-Z])/g,"$1-").toLowerCase())(n)}: ${e[n]}`),""),H=e=>!!(e&&e.constructor&&e.call&&e.apply),Z=()=>{};let V=Z,P=Z,F=Z,K=Z;const j=(e,t={},i={},r={})=>{n(1,O=function(e,t={}){return function(n){return new e({...n,props:{...t,...n.props}})}}(e,t)),n(0,M={...b,...i}),n(5,k=N(M.styleBg)),n(6,R=N(M.styleWindowWrap)),n(7,_=N(M.styleWindow)),n(8,B=N(M.styleContent)),n(9,E=N(M.styleCloseButton)),n(10,L=M.transitionBg),n(11,W=M.transitionWindow),z(),n(12,V=e=>{r.onOpen&&r.onOpen(e),o("open"),o("opening")}),n(13,P=e=>{r.onClose&&r.onClose(e),o("close"),o("closing")}),n(14,F=e=>{r.onOpened&&r.onOpened(e),o("opened")}),n(15,K=e=>{r.onClosed&&r.onClosed(e),o("closed")})},D=(e={})=>{n(13,P=e.onClose||P),n(15,K=e.onClosed||K),n(1,O=null),X()},z=()=>{x=window.scrollY,G=document.body.style.position,T=document.body.style.overflow,document.body.style.position="fixed",document.body.style.top=`-${x}px`,document.body.style.overflow="hidden"},X=()=>{document.body.style.position=G||"",document.body.style.top="",document.body.style.overflow=T||"",window.scrollTo(0,x)};return C(c,{open:j,close:D}),q((()=>{D()})),e.$$set=e=>{"show"in e&&n(20,a=e.show),"key"in e&&n(21,c=e.key),"closeButton"in e&&n(22,l=e.closeButton),"closeOnEsc"in e&&n(23,u=e.closeOnEsc),"closeOnOuterClick"in e&&n(24,h=e.closeOnOuterClick),"styleBg"in e&&n(25,d=e.styleBg),"styleWindowWrap"in e&&n(26,g=e.styleWindowWrap),"styleWindow"in e&&n(27,f=e.styleWindow),"styleContent"in e&&n(28,p=e.styleContent),"styleCloseButton"in e&&n(29,m=e.styleCloseButton),"setContext"in e&&n(30,C=e.setContext),"transitionBg"in e&&n(31,I=e.transitionBg),"transitionBgProps"in e&&n(32,v=e.transitionBgProps),"transitionWindow"in e&&n(33,A=e.transitionWindow),"transitionWindowProps"in e&&n(34,y=e.transitionWindowProps),"$$scope"in e&&n(35,r=e.$$scope)},e.$$.update=()=>{1048576&e.$$.dirty[0]&&(H(a)?j(a):D())},[M,O,w,$,S,k,R,_,B,E,L,W,V,P,F,K,H,D,e=>{if(M.closeOnEsc&&O&&"Escape"===e.key&&(e.preventDefault(),D()),O&&"Tab"===e.key){const t=S.querySelectorAll("*"),n=Array.from(t).filter((e=>e.tabIndex>=0));let i=n.indexOf(document.activeElement);-1===i&&e.shiftKey&&(i=0),i+=n.length+(e.shiftKey?-1:1),i%=n.length,n[i].focus(),e.preventDefault()}},e=>{!M.closeOnOuterClick||e.target!==w&&e.target!==$||(e.preventDefault(),D())},a,c,l,u,h,d,g,f,p,m,C,I,v,A,y,r,i,function(e){re[e?"unshift":"push"]((()=>{S=e,n(4,S)}))},function(e){re[e?"unshift":"push"]((()=>{$=e,n(3,$)}))},function(e){re[e?"unshift":"push"]((()=>{w=e,n(2,w)}))}]}class Xv extends Oe{constructor(e){super(),Me(this,e,zv,Dv,a,{show:20,key:21,closeButton:22,closeOnEsc:23,closeOnOuterClick:24,styleBg:25,styleWindowWrap:26,styleWindow:27,styleContent:28,styleCloseButton:29,setContext:30,transitionBg:31,transitionBgProps:32,transitionWindow:33,transitionWindowProps:34},[-1,-1])}}const Jv=Qe("jsoneditor:FocusTracker");function Yv({onMount:e,onDestroy:t,getWindow:n,hasFocus:i,onFocus:r,onBlur:o}){let s,a=!1;function c(){const e=i();e&&(clearTimeout(s),a||(Jv("focus"),r(),a=e))}function l(){a&&(clearTimeout(s),s=setTimeout((()=>{Jv("blur"),a=!1,o()})))}e((()=>{Jv("mount FocusTracker");const e=n();e.addEventListener("focusin",c,!0),e.addEventListener("focusout",l,!0)})),t((()=>{Jv("destroy FocusTracker");const e=n();e.removeEventListener("focusin",c,!0),e.removeEventListener("focusout",l,!0)}))}function Uv(t){let i,r,o=[{key:r="path-"+t[0]},t[1]],s={};for(let e=0;e<o.length;e+=1)s=n(s,o[e]);return{c(){i=x("path"),W(i,s)},m(e,t){b(e,i,t)},p(e,[t]){W(i,s=Be(o,[1&t&&r!==(r="path-"+e[0])&&{key:r},2&t&&e[1]]))},i:e,o:e,d(e){e&&w(i)}}}function Qv(e,t,n){let{id:i=""}=t,{data:r={}}=t;return e.$$set=e=>{"id"in e&&n(0,i=e.id),"data"in e&&n(1,r=e.data)},[i,r]}class qv extends Oe{constructor(e){super(),Me(this,e,Qv,Uv,a,{id:0,data:1})}}function eA(t){let i,r,o=[{key:r="polygon-"+t[0]},t[1]],s={};for(let e=0;e<o.length;e+=1)s=n(s,o[e]);return{c(){i=x("polygon"),W(i,s)},m(e,t){b(e,i,t)},p(e,[t]){W(i,s=Be(o,[1&t&&r!==(r="polygon-"+e[0])&&{key:r},2&t&&e[1]]))},i:e,o:e,d(e){e&&w(i)}}}function tA(e,t,n){let{id:i=""}=t,{data:r={}}=t;return e.$$set=e=>{"id"in e&&n(0,i=e.id),"data"in e&&n(1,r=e.data)},[i,r]}class nA extends Oe{constructor(e){super(),Me(this,e,tA,eA,a,{id:0,data:1})}}function iA(t){let n;return{c(){n=x("g")},m(e,i){b(e,n,i),n.innerHTML=t[0]},p(e,[t]){1&t&&(n.innerHTML=e[0])},i:e,o:e,d(e){e&&w(n)}}}function rA(e,t,n){let i,r=870711;let{data:o}=t;function s(e){if(!e||!e.raw)return null;let t=e.raw;const n={};return t=t.replace(/\s(?:xml:)?id=["']?([^"')\s]+)/g,((e,t)=>{const i=(r+=1,`fa-${r.toString(16)}`);return n[t]=i,` id="${i}"`})),t=t.replace(/#(?:([^'")\s]+)|xpointer\(id\((['"]?)([^')]+)\2\)\))/g,((e,t,i,r)=>{const o=t||r;return o&&n[o]?`#${n[o]}`:e})),t}return e.$$set=e=>{"data"in e&&n(1,o=e.data)},e.$$.update=()=>{2&e.$$.dirty&&n(0,i=s(o))},[i,o]}class oA extends Oe{constructor(e){super(),Me(this,e,rA,iA,a,{data:1})}}function sA(e){let t,n,i,r;const o=e[13].default,s=u(o,e,e[12],null);return{c(){t=x("svg"),s&&s.c(),E(t,"version","1.1"),E(t,"class",n="fa-icon "+e[0]+" svelte-1dof0an"),E(t,"x",e[8]),E(t,"y",e[9]),E(t,"width",e[1]),E(t,"height",e[2]),E(t,"aria-label",e[11]),E(t,"role",i=e[11]?"img":"presentation"),E(t,"viewBox",e[3]),E(t,"style",e[10]),V(t,"fa-spin",e[4]),V(t,"fa-pulse",e[6]),V(t,"fa-inverse",e[5]),V(t,"fa-flip-horizontal","horizontal"===e[7]),V(t,"fa-flip-vertical","vertical"===e[7])},m(e,n){b(e,t,n),s&&s.m(t,null),r=!0},p(e,[a]){s&&s.p&&(!r||4096&a)&&d(s,o,e,e[12],a,null,null),(!r||1&a&&n!==(n="fa-icon "+e[0]+" svelte-1dof0an"))&&E(t,"class",n),(!r||256&a)&&E(t,"x",e[8]),(!r||512&a)&&E(t,"y",e[9]),(!r||2&a)&&E(t,"width",e[1]),(!r||4&a)&&E(t,"height",e[2]),(!r||2048&a)&&E(t,"aria-label",e[11]),(!r||2048&a&&i!==(i=e[11]?"img":"presentation"))&&E(t,"role",i),(!r||8&a)&&E(t,"viewBox",e[3]),(!r||1024&a)&&E(t,"style",e[10]),17&a&&V(t,"fa-spin",e[4]),65&a&&V(t,"fa-pulse",e[6]),33&a&&V(t,"fa-inverse",e[5]),129&a&&V(t,"fa-flip-horizontal","horizontal"===e[7]),129&a&&V(t,"fa-flip-vertical","vertical"===e[7])},i(e){r||(we(s,e),r=!0)},o(e){$e(s,e),r=!1},d(e){e&&w(t),s&&s.d(e)}}}function aA(e,t,n){let{$$slots:i={},$$scope:r}=t,{class:o}=t,{width:s}=t,{height:a}=t,{box:c}=t,{spin:l=!1}=t,{inverse:u=!1}=t,{pulse:h=!1}=t,{flip:d=null}=t,{x:g}=t,{y:f}=t,{style:p}=t,{label:m}=t;return e.$$set=e=>{"class"in e&&n(0,o=e.class),"width"in e&&n(1,s=e.width),"height"in e&&n(2,a=e.height),"box"in e&&n(3,c=e.box),"spin"in e&&n(4,l=e.spin),"inverse"in e&&n(5,u=e.inverse),"pulse"in e&&n(6,h=e.pulse),"flip"in e&&n(7,d=e.flip),"x"in e&&n(8,g=e.x),"y"in e&&n(9,f=e.y),"style"in e&&n(10,p=e.style),"label"in e&&n(11,m=e.label),"$$scope"in e&&n(12,r=e.$$scope)},[o,s,a,c,l,u,h,d,g,f,p,m,r,i]}class cA extends Oe{constructor(e){super(),Me(this,e,aA,sA,a,{class:0,width:1,height:2,box:3,spin:4,inverse:5,pulse:6,flip:7,x:8,y:9,style:10,label:11})}}function lA(e,t,n){const i=e.slice();return i[24]=t[n],i[26]=n,i}function uA(e,t,n){const i=e.slice();return i[27]=t[n],i[26]=n,i}function hA(e){let t,n,i,r,o=e[0].paths&&dA(e),s=e[0].polygons&&fA(e),a=e[0].raw&&mA(e);return{c(){o&&o.c(),t=R(),s&&s.c(),n=R(),a&&a.c(),i=_()},m(e,c){o&&o.m(e,c),b(e,t,c),s&&s.m(e,c),b(e,n,c),a&&a.m(e,c),b(e,i,c),r=!0},p(e,r){e[0].paths?o?(o.p(e,r),1&r&&we(o,1)):(o=dA(e),o.c(),we(o,1),o.m(t.parentNode,t)):o&&(ye(),$e(o,1,1,(()=>{o=null})),be()),e[0].polygons?s?(s.p(e,r),1&r&&we(s,1)):(s=fA(e),s.c(),we(s,1),s.m(n.parentNode,n)):s&&(ye(),$e(s,1,1,(()=>{s=null})),be()),e[0].raw?a?(a.p(e,r),1&r&&we(a,1)):(a=mA(e),a.c(),we(a,1),a.m(i.parentNode,i)):a&&(ye(),$e(a,1,1,(()=>{a=null})),be())},i(e){r||(we(o),we(s),we(a),r=!0)},o(e){$e(o),$e(s),$e(a),r=!1},d(e){o&&o.d(e),e&&w(t),s&&s.d(e),e&&w(n),a&&a.d(e),e&&w(i)}}}function dA(e){let t,n,i=e[0].paths,r=[];for(let t=0;t<i.length;t+=1)r[t]=gA(uA(e,i,t));const o=e=>$e(r[e],1,1,(()=>{r[e]=null}));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=_()},m(e,i){for(let t=0;t<r.length;t+=1)r[t].m(e,i);b(e,t,i),n=!0},p(e,n){if(1&n){let s;for(i=e[0].paths,s=0;s<i.length;s+=1){const o=uA(e,i,s);r[s]?(r[s].p(o,n),we(r[s],1)):(r[s]=gA(o),r[s].c(),we(r[s],1),r[s].m(t.parentNode,t))}for(ye(),s=i.length;s<r.length;s+=1)o(s);be()}},i(e){if(!n){for(let e=0;e<i.length;e+=1)we(r[e]);n=!0}},o(e){r=r.filter(Boolean);for(let e=0;e<r.length;e+=1)$e(r[e]);n=!1},d(e){$(r,e),e&&w(t)}}}function gA(e){let t,n;return t=new qv({props:{id:e[26],data:e[27]}}),{c(){We(t.$$.fragment)},m(e,i){Ge(t,e,i),n=!0},p(e,n){const i={};1&n&&(i.data=e[27]),t.$set(i)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){$e(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function fA(e){let t,n,i=e[0].polygons,r=[];for(let t=0;t<i.length;t+=1)r[t]=pA(lA(e,i,t));const o=e=>$e(r[e],1,1,(()=>{r[e]=null}));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=_()},m(e,i){for(let t=0;t<r.length;t+=1)r[t].m(e,i);b(e,t,i),n=!0},p(e,n){if(1&n){let s;for(i=e[0].polygons,s=0;s<i.length;s+=1){const o=lA(e,i,s);r[s]?(r[s].p(o,n),we(r[s],1)):(r[s]=pA(o),r[s].c(),we(r[s],1),r[s].m(t.parentNode,t))}for(ye(),s=i.length;s<r.length;s+=1)o(s);be()}},i(e){if(!n){for(let e=0;e<i.length;e+=1)we(r[e]);n=!0}},o(e){r=r.filter(Boolean);for(let e=0;e<r.length;e+=1)$e(r[e]);n=!1},d(e){$(r,e),e&&w(t)}}}function pA(e){let t,n;return t=new nA({props:{id:e[26],data:e[24]}}),{c(){We(t.$$.fragment)},m(e,i){Ge(t,e,i),n=!0},p(e,n){const i={};1&n&&(i.data=e[24]),t.$set(i)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){$e(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function mA(e){let t,n,i;function r(t){e[15](t)}let o={};return void 0!==e[0]&&(o.data=e[0]),t=new oA({props:o}),re.push((()=>Le(t,"data",r))),{c(){We(t.$$.fragment)},m(e,n){Ge(t,e,n),i=!0},p(e,i){const r={};!n&&1&i&&(n=!0,r.data=e[0],de((()=>n=!1))),t.$set(r)},i(e){i||(we(t.$$.fragment,e),i=!0)},o(e){$e(t.$$.fragment,e),i=!1},d(e){Te(t,e)}}}function CA(e){let t;const n=e[14].default,i=u(n,e,e[16],null),r=i||function(e){let t,n,i=e[0]&&hA(e);return{c(){i&&i.c(),t=_()},m(e,r){i&&i.m(e,r),b(e,t,r),n=!0},p(e,n){e[0]?i?(i.p(e,n),1&n&&we(i,1)):(i=hA(e),i.c(),we(i,1),i.m(t.parentNode,t)):i&&(ye(),$e(i,1,1,(()=>{i=null})),be())},i(e){n||(we(i),n=!0)},o(e){$e(i),n=!1},d(e){i&&i.d(e),e&&w(t)}}}(e);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){i?i.p&&(!t||65536&o)&&d(i,n,e,e[16],o,null,null):r&&r.p&&1&o&&r.p(e,o)},i(e){t||(we(r,e),t=!0)},o(e){$e(r,e),t=!1},d(e){r&&r.d(e)}}}function IA(e){let t,n;return t=new cA({props:{label:e[6],width:e[7],height:e[8],box:e[10],style:e[9],spin:e[2],flip:e[5],inverse:e[3],pulse:e[4],class:e[1],$$slots:{default:[CA]},$$scope:{ctx:e}}}),{c(){We(t.$$.fragment)},m(e,i){Ge(t,e,i),n=!0},p(e,[n]){const i={};64&n&&(i.label=e[6]),128&n&&(i.width=e[7]),256&n&&(i.height=e[8]),1024&n&&(i.box=e[10]),512&n&&(i.style=e[9]),4&n&&(i.spin=e[2]),32&n&&(i.flip=e[5]),8&n&&(i.inverse=e[3]),16&n&&(i.pulse=e[4]),2&n&&(i.class=e[1]),65537&n&&(i.$$scope={dirty:n,ctx:e}),t.$set(i)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){$e(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function vA(e,t,n){let i,r,o,s,{$$slots:a={},$$scope:c}=t,{class:l=""}=t,{data:u}=t,{scale:h=1}=t,{spin:d=!1}=t,{inverse:g=!1}=t,{pulse:f=!1}=t,{flip:p=null}=t,{label:m=null}=t,{self:C=null}=t,{style:I=null}=t;function v(){let e=1;return void 0!==h&&(e=Number(h)),isNaN(e)||e<=0?(console.warn('Invalid prop: prop "scale" should be a number over 0.'),1):1*e}function A(){return C?Math.max(C.width,C.height)/16:1}return e.$$set=e=>{"class"in e&&n(1,l=e.class),"data"in e&&n(11,u=e.data),"scale"in e&&n(12,h=e.scale),"spin"in e&&n(2,d=e.spin),"inverse"in e&&n(3,g=e.inverse),"pulse"in e&&n(4,f=e.pulse),"flip"in e&&n(5,p=e.flip),"label"in e&&n(6,m=e.label),"self"in e&&n(0,C=e.self),"style"in e&&n(13,I=e.style),"$$scope"in e&&n(16,c=e.$$scope)},e.$$.update=()=>{14336&e.$$.dirty&&(!function(){if(void 0===u)return;const e=function(e){if("iconName"in e&&"icon"in e){let t={},n=e.icon,i=e.iconName,r={width:n[0],height:n[1],paths:[{d:n[4]}]};return t[i]=r,t}return e}(u),[t]=Object.keys(e),i=e[t];i.paths||(i.paths=[]),i.d&&i.paths.push({d:i.d}),i.polygons||(i.polygons=[]),i.points&&i.polygons.push({points:i.points}),n(0,C=i)}(),n(7,i=C?C.width/A()*v():0),n(8,r=C?C.height/A()*v():0),n(9,o=function(){let e="";null!==I&&(e+=I);let t=v();if(1===t){if(0===e.length)return;return e}return""===e||e.endsWith(";")||(e+="; "),`${e}font-size: ${t}em`}()),n(10,s=C?`0 0 ${C.width} ${C.height}`:`0 0 ${i} ${r}`))},[C,l,d,g,f,p,m,i,r,o,s,u,h,I,a,function(e){C=e,n(0,C)},c]}class AA extends Oe{constructor(e){super(),Me(this,e,vA,IA,a,{class:1,data:11,scale:12,spin:2,inverse:3,pulse:4,flip:5,label:6,self:0,style:13})}}function yA(e,t,n){const i=e.slice();return i[10]=t[n],i}const bA=e=>({}),wA=e=>({});function $A(e){let t,n,i,r,o,s,a,c,l=e[10].text+"";function u(){return e[8](e[10])}return{c(){t=S("li"),n=S("button"),i=k(l),s=R(),E(n,"title",r=e[10].title),n.disabled=o=e[10].disabled,E(n,"class","svelte-1el16cg"),E(t,"class","svelte-1el16cg")},m(e,r){b(e,t,r),y(t,n),y(n,i),y(t,s),a||(c=B(n,"click",u),a=!0)},p(t,s){e=t,2&s&&l!==(l=e[10].text+"")&&T(i,l),2&s&&r!==(r=e[10].title)&&E(n,"title",r),2&s&&o!==(o=e[10].disabled)&&(n.disabled=o)},d(e){e&&w(t),a=!1,c()}}}function SA(e){let t,n,i,r,s,a,c,l,h,g;const f=e[7].defaultItem,p=u(f,e,e[6],wA);r=new AA({props:{data:Xn}});let m=e[1],C=[];for(let t=0;t<m.length;t+=1)C[t]=$A(yA(e,m,t));return{c(){t=S("div"),p&&p.c(),n=R(),i=S("button"),We(r.$$.fragment),s=R(),a=S("div"),c=S("ul");for(let e=0;e<C.length;e+=1)C[e].c();E(i,"class","open-dropdown svelte-1el16cg"),E(c,"class","svelte-1el16cg"),E(a,"class","items svelte-1el16cg"),O(a,"width",e[3]),V(a,"visible",e[0]),E(t,"class","menu-dropdown svelte-1el16cg"),E(t,"title",e[2])},m(o,u){b(o,t,u),p&&p.m(t,null),y(t,n),y(t,i),Ge(r,i,null),y(t,s),y(t,a),y(a,c);for(let e=0;e<C.length;e+=1)C[e].m(c,null);l=!0,h||(g=[B(i,"click",e[4]),B(t,"click",e[5])],h=!0)},p(e,[n]){if(p&&p.p&&(!l||64&n)&&d(p,f,e,e[6],n,bA,wA),2&n){let t;for(m=e[1],t=0;t<m.length;t+=1){const i=yA(e,m,t);C[t]?C[t].p(i,n):(C[t]=$A(i),C[t].c(),C[t].m(c,null))}for(;t<C.length;t+=1)C[t].d(1);C.length=m.length}(!l||8&n)&&O(a,"width",e[3]),1&n&&V(a,"visible",e[0]),(!l||4&n)&&E(t,"title",e[2])},i(e){l||(we(p,e),we(r.$$.fragment,e),l=!0)},o(e){$e(p,e),$e(r.$$.fragment,e),l=!1},d(e){e&&w(t),p&&p.d(e),Te(r),$(C,e),h=!1,o(g)}}}function xA(e,t,n){let{$$slots:i={},$$scope:r}=t,{items:o=[]}=t,{title:s=null}=t,{width:a="120px"}=t,{visible:c=!1}=t;function l(){n(0,c=!1)}function u(e){"Escape"===Ev(e)&&(e.preventDefault(),n(0,c=!1))}Q((()=>{document.addEventListener("click",l),document.addEventListener("keydown",u)})),q((()=>{document.removeEventListener("click",l),document.removeEventListener("keydown",u)}));return e.$$set=e=>{"items"in e&&n(1,o=e.items),"title"in e&&n(2,s=e.title),"width"in e&&n(3,a=e.width),"visible"in e&&n(0,c=e.visible),"$$scope"in e&&n(6,r=e.$$scope)},[c,o,s,a,function(e){e.stopPropagation(),n(0,c=!c)},l,r,i,e=>e.onClick()]}class kA extends Oe{constructor(e){super(),Me(this,e,xA,SA,c,{items:1,title:2,width:3,visible:0})}}const RA=e=>({}),_A=e=>({});function BA(e,t,n){const i=e.slice();return i[3]=t[n],i}const EA=e=>({}),LA=e=>({});function WA(e){let t,n,i,r,o,a,c,l,u=e[3].icon&&OA(e),h=e[3].text&&NA(e);return{c(){t=S("button"),u&&u.c(),n=R(),h&&h.c(),E(t,"class",i="button "+e[3].className+" svelte-1qkgmuk"),E(t,"title",r=e[3].title),t.disabled=o=e[3].disabled||!1},m(i,r){b(i,t,r),u&&u.m(t,null),y(t,n),h&&h.m(t,null),a=!0,c||(l=B(t,"click",(function(){s(e[3].onClick)&&e[3].onClick.apply(this,arguments)})),c=!0)},p(s,c){(e=s)[3].icon?u?(u.p(e,c),1&c&&we(u,1)):(u=OA(e),u.c(),we(u,1),u.m(t,n)):u&&(ye(),$e(u,1,1,(()=>{u=null})),be()),e[3].text?h?h.p(e,c):(h=NA(e),h.c(),h.m(t,null)):h&&(h.d(1),h=null),(!a||1&c&&i!==(i="button "+e[3].className+" svelte-1qkgmuk"))&&E(t,"class",i),(!a||1&c&&r!==(r=e[3].title))&&E(t,"title",r),(!a||1&c&&o!==(o=e[3].disabled||!1))&&(t.disabled=o)},i(e){a||(we(u),a=!0)},o(e){$e(u),a=!1},d(e){e&&w(t),u&&u.d(),h&&h.d(),c=!1,l()}}}function GA(e){let t,n;return t=new kA({props:{items:e[3].items,title:e[3].title,$$slots:{defaultItem:[HA]},$$scope:{ctx:e}}}),{c(){We(t.$$.fragment)},m(e,i){Ge(t,e,i),n=!0},p(e,n){const i={};1&n&&(i.items=e[3].items),1&n&&(i.title=e[3].title),5&n&&(i.$$scope={dirty:n,ctx:e}),t.$set(i)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){$e(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function TA(t){let n;return{c(){n=S("div"),E(n,"class","space svelte-1qkgmuk")},m(e,t){b(e,n,t)},p:e,i:e,o:e,d(e){e&&w(n)}}}function MA(t){let n;return{c(){n=S("div"),E(n,"class","separator svelte-1qkgmuk")},m(e,t){b(e,n,t)},p:e,i:e,o:e,d(e){e&&w(n)}}}function OA(e){let t,n;return t=new AA({props:{data:e[3].icon}}),{c(){We(t.$$.fragment)},m(e,i){Ge(t,e,i),n=!0},p(e,n){const i={};1&n&&(i.data=e[3].icon),t.$set(i)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){$e(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function NA(e){let t,n=e[3].text+"";return{c(){t=k(n)},m(e,n){b(e,t,n)},p(e,i){1&i&&n!==(n=e[3].text+"")&&T(t,n)},d(e){e&&w(t)}}}function HA(e){let t,n,i,r,o,a,c;return n=new AA({props:{data:e[3].icon}}),{c(){t=S("button"),We(n.$$.fragment),E(t,"class",i="button "+e[3].className+" svelte-1qkgmuk"),E(t,"slot","defaultItem"),t.disabled=r=e[3].disabled},m(i,r){b(i,t,r),Ge(n,t,null),o=!0,a||(c=B(t,"click",(function(){s(e[3].onClick)&&e[3].onClick.apply(this,arguments)})),a=!0)},p(s,a){e=s;const c={};1&a&&(c.data=e[3].icon),n.$set(c),(!o||1&a&&i!==(i="button "+e[3].className+" svelte-1qkgmuk"))&&E(t,"class",i),(!o||1&a&&r!==(r=e[3].disabled))&&(t.disabled=r)},i(e){o||(we(n.$$.fragment,e),o=!0)},o(e){$e(n.$$.fragment,e),o=!1},d(e){e&&w(t),Te(n),a=!1,c()}}}function ZA(e){let t,n,i,r;const o=[MA,TA,GA,WA],s=[];function a(e,t){return!0===e[3].separator?0:!0===e[3].space?1:e[3].items?2:3}return t=a(e),n=s[t]=o[t](e),{c(){n.c(),i=_()},m(e,n){s[t].m(e,n),b(e,i,n),r=!0},p(e,r){let c=t;t=a(e),t===c?s[t].p(e,r):(ye(),$e(s[c],1,1,(()=>{s[c]=null})),be(),n=s[t],n?n.p(e,r):(n=s[t]=o[t](e),n.c()),we(n,1),n.m(i.parentNode,i))},i(e){r||(we(n),r=!0)},o(e){$e(n),r=!1},d(e){s[t].d(e),e&&w(i)}}}function VA(e){let t,n,i,r;const o=e[1].left,s=u(o,e,e[2],LA);let a=e[0],c=[];for(let t=0;t<a.length;t+=1)c[t]=ZA(BA(e,a,t));const l=e=>$e(c[e],1,1,(()=>{c[e]=null})),h=e[1].right,g=u(h,e,e[2],_A);return{c(){t=S("div"),s&&s.c(),n=R();for(let e=0;e<c.length;e+=1)c[e].c();i=R(),g&&g.c(),E(t,"class","menu svelte-1qkgmuk")},m(e,o){b(e,t,o),s&&s.m(t,null),y(t,n);for(let e=0;e<c.length;e+=1)c[e].m(t,null);y(t,i),g&&g.m(t,null),r=!0},p(e,[n]){if(s&&s.p&&(!r||4&n)&&d(s,o,e,e[2],n,EA,LA),1&n){let r;for(a=e[0],r=0;r<a.length;r+=1){const o=BA(e,a,r);c[r]?(c[r].p(o,n),we(c[r],1)):(c[r]=ZA(o),c[r].c(),we(c[r],1),c[r].m(t,i))}for(ye(),r=a.length;r<c.length;r+=1)l(r);be()}g&&g.p&&(!r||4&n)&&d(g,h,e,e[2],n,RA,_A)},i(e){if(!r){we(s,e);for(let e=0;e<a.length;e+=1)we(c[e]);we(g,e),r=!0}},o(e){$e(s,e),c=c.filter(Boolean);for(let e=0;e<c.length;e+=1)$e(c[e]);$e(g,e),r=!1},d(e){e&&w(t),s&&s.d(e),$(c,e),g&&g.d(e)}}}function PA(e,t,n){let{$$slots:i={},$$scope:r}=t,{items:o=[]}=t;return e.$$set=e=>{"items"in e&&n(0,o=e.items),"$$scope"in e&&n(2,r=e.$$scope)},[o,i,r]}class FA extends Oe{constructor(e){super(),Me(this,e,PA,VA,a,{items:0})}}function KA(e){let t,n,i,r,o,s,a,c,l;return s=new AA({props:{data:mi}}),{c(){t=S("div"),n=S("div"),i=k(e[0]),r=R(),o=S("button"),We(s.$$.fragment),E(n,"class","title svelte-1l2fnw9"),E(o,"class","close svelte-1l2fnw9"),E(t,"class","header svelte-1l2fnw9")},m(u,h){b(u,t,h),y(t,n),y(n,i),y(t,r),y(t,o),Ge(s,o,null),a=!0,c||(l=B(o,"click",e[1]),c=!0)},p(e,[t]){(!a||1&t)&&T(i,e[0])},i(e){a||(we(s.$$.fragment,e),a=!0)},o(e){$e(s.$$.fragment,e),a=!1},d(e){e&&w(t),Te(s),c=!1,l()}}}function jA(e,t,n){let{title:i="Modal"}=t;const{close:r}=ne("simple-modal");return e.$$set=e=>{"title"in e&&n(0,i=e.title)},[i,r]}class DA extends Oe{constructor(e){super(),Me(this,e,jA,KA,c,{title:0})}}function zA(t){let n,i,r,o,s,a,c,l,u,h,d,g,f,p,m,C,I,v,A,$,x,_,L,W;return i=new DA({props:{title:"Copying and pasting"}}),{c(){n=S("div"),We(i.$$.fragment),r=R(),o=S("div"),s=S("div"),s.textContent="These actions are unavailable via the menu. Please use:",a=R(),c=S("div"),l=S("div"),u=S("div"),u.textContent=`${t[1]}+C`,h=k("\n        for copy"),d=R(),g=S("div"),f=S("div"),f.textContent=`${t[1]}+X`,p=k("\n        for cut"),m=R(),C=S("div"),I=S("div"),I.textContent=`${t[1]}+V`,v=k("\n        for paste"),A=R(),$=S("div"),x=S("button"),x.textContent="Close",E(u,"class","key svelte-1wohto6"),E(l,"class","shortcut"),E(f,"class","key svelte-1wohto6"),E(g,"class","shortcut"),E(I,"class","key svelte-1wohto6"),E(C,"class","shortcut"),E(c,"class","shortcuts svelte-1wohto6"),E(x,"class","primary svelte-1wohto6"),E($,"class","actions svelte-1wohto6"),E(o,"class","contents svelte-1wohto6"),E(n,"class","jsoneditor-modal copy-paste svelte-1wohto6")},m(e,w){b(e,n,w),Ge(i,n,null),y(n,r),y(n,o),y(o,s),y(o,a),y(o,c),y(c,l),y(l,u),y(l,h),y(c,d),y(c,g),y(g,f),y(g,p),y(c,m),y(c,C),y(C,I),y(C,v),y(o,A),y(o,$),y($,x),_=!0,L||(W=B(x,"click",t[0]),L=!0)},p:e,i(e){_||(we(i.$$.fragment,e),_=!0)},o(e){$e(i.$$.fragment,e),_=!1},d(e){e&&w(n),Te(i),L=!1,W()}}}function XA(e){const{close:t}=ne("simple-modal");return[t,Bv?"":"Ctrl"]}class JA extends Oe{constructor(e){super(),Me(this,e,XA,zA,c,{})}}function YA(e){let t,n,i,r,s,a,c,l,u,h;return n=new FA({props:{items:e[2]}}),{c(){t=S("div"),We(n.$$.fragment),i=R(),r=S("label"),s=S("input"),a=R(),c=S("div"),c.innerHTML='<div class="space before svelte-1ienj8w"></div> \n    <div class="contents svelte-1ienj8w">New document\n      <ul class="svelte-1ienj8w"><li class="svelte-1ienj8w">Click inside the editor</li> \n        <li class="svelte-1ienj8w">Paste clipboard data using <span class="bold svelte-1ienj8w">Ctrl+V</span></li> \n        <li class="svelte-1ienj8w">Create a new object by typing <span class="bold svelte-1ienj8w">{</span></li> \n        <li class="svelte-1ienj8w">Create a new array by typing <span class="bold svelte-1ienj8w">[</span></li></ul></div> \n    <div class="space after svelte-1ienj8w"></div>',E(s,"class","hidden-input svelte-1ienj8w"),E(s,"tabindex","-1"),E(r,"class","hidden-input-label svelte-1ienj8w"),E(c,"class","welcome svelte-1ienj8w"),E(t,"class","welcome-mode svelte-1ienj8w")},m(o,d){b(o,t,d),Ge(n,t,null),y(t,i),y(t,r),y(r,s),e[12](s),y(t,a),y(t,c),e[13](t),l=!0,u||(h=[B(s,"paste",e[5]),B(t,"keydown",e[3]),B(t,"mousedown",e[4])],u=!0)},p(e,[t]){const i={};4&t&&(i.items=e[2]),n.$set(i)},i(e){l||(we(n.$$.fragment,e),l=!0)},o(e){$e(n.$$.fragment,e),l=!1},d(i){i&&w(t),Te(n),e[12](null),e[13](null),u=!1,o(h)}}}function UA(e,t,n){let i;const{open:r}=ne("simple-modal");let o,s,{onChange:a}=t,{onFocus:c}=t,{onBlur:l}=t,{onRenderMenu:u=(()=>{})}=t,{readOnly:h=!1}=t,d=!1;function g(){a("{}")}function f(){a("[]")}function p(){s.focus(),s.select()}Yv({onMount:Q,onDestroy:q,getWindow:()=>xv(o),hasFocus:()=>kv(o),onFocus:()=>{d=!0,c&&c()},onBlur:()=>{d=!1,l&&l()}});const m=[{icon:ui,title:"Paste (Ctrl+V)",className:"paste",onClick:function(){r(JA,{},{...hI,styleWindow:{...hI.styleWindow,width:"450px"}},{onClose:()=>setTimeout(c)})},disabled:h},{separator:!0},{icon:di,title:"Insert new structure (Insert)",className:"insert",onClick:g,disabled:h,items:[{text:"Insert value",title:"Insert a new value",onClick:function(){a('""')},disabled:h,default:!0},{text:"Insert object",title:"Insert a new object",onClick:g,disabled:h},{text:"Insert array",title:"Insert a new array",onClick:f,disabled:h}]}];return e.$$set=e=>{"onChange"in e&&n(6,a=e.onChange),"onFocus"in e&&n(7,c=e.onFocus),"onBlur"in e&&n(8,l=e.onBlur),"onRenderMenu"in e&&n(9,u=e.onRenderMenu),"readOnly"in e&&n(10,h=e.readOnly)},e.$$.update=()=>{512&e.$$.dirty&&n(2,i=u("tree",m)||m)},[o,s,i,function(e){const t=Ev(e).replace(/^Command\+/,"Ctrl+");"{"===t?g():"["===t&&f()},function(e){setTimeout((()=>{setTimeout((()=>{d||bv(e.target,"BUTTON")||p()}))}))},function(e){a(e.clipboardData.getData("text/plain"))},a,c,l,u,h,p,function(e){re[e?"unshift":"push"]((()=>{s=e,n(1,s)}))},function(e){re[e?"unshift":"push"]((()=>{o=e,n(0,o)}))}]}class QA extends Oe{constructor(e){super(),Me(this,e,UA,YA,a,{onChange:6,onFocus:7,onBlur:8,onRenderMenu:9,readOnly:10,focus:11})}get focus(){return this.$$.ctx[11]}}let qA=0;function ey(){return qA++,qA}var ty=He((function(e,t){e.exports=function(){function e(t,n){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");this.message=t+" (char "+n+")",this.char=n,this.stack=(new Error).stack}(e.prototype=new Error).constructor=Error;var t={"'":!0,"":!0,"":!0,"`":!0,"":!0},n={'"':!0,"":!0,"":!0};function i(e){return r.test(e)}var r=/^[a-zA-Z_]$/,o=/^[0-9a-fA-F]$/;function s(e){return a.test(e)}var a=/^[0-9]$/;function c(e){return" "===e||"\t"===e||"\n"===e||"\r"===e}function l(e){return""===e||""<=e&&e<=""||""===e||""===e||""===e}function u(e){return!0===t[e]}function h(e){return!0===n[e]}function d(e){return!0===t[e]?"'":!0===n[e]?'"':e}function g(e,t){return-1!==(t=e.lastIndexOf(t))?e.substring(0,t)+e.substring(t+1):e}function f(e,t){var n=e.length;if(!c(e[n-1]))return e+t;for(;c(e[n-1]);)n--;return e.substring(0,n)+t+e.substring(n)}var p=0,m=1,C=2,I=3,v=4,A=5,y=6,b={"":!0,"{":!0,"}":!0,"[":!0,"]":!0,":":!0,",":!0,"(":!0,")":!0,";":!0,"+":!0},w={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},$={"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"},S={null:"null",true:"true",false:"false"},x={None:"null",True:"true",False:"false"},k="",R="",_=0,B="",E="",L=y;function W(){_++,B=k.charAt(_)}function G(){W(),"\\"===B&&W()}function T(){return L===p&&("["===E||"{"===E)||L===C||L===m||L===I}function M(){R+=E,L=y,E="",b[B]?(L=p,E=B,W()):function(){if(s(B)||"-"===B){if(L=m,"-"===B){if(E+=B,W(),!s(B))throw new e("Invalid number, digit expected",_)}else"0"===B&&(E+=B,W());for(;s(B);)E+=B,W();if("."===B){if(E+=B,W(),!s(B))throw new e("Invalid number, digit expected",_);for(;s(B);)E+=B,W()}if("e"===B||"E"===B){if(E+=B,W(),"+"!==B&&"-"!==B||(E+=B,W()),!s(B))throw new e("Invalid number, digit expected",_);for(;s(B);)E+=B,W()}}else"\\"===B&&'"'===k.charAt(_+1)?(W(),O(G)):O(W)}(),L===v&&(E=function(e){for(var t="",n=0;n<e.length;n++){var i=e[n];t+=l(i)?" ":i}return t}(E),M()),L===A&&(L=y,E="",M())}function O(r){if(!0===t[a=B]||!0===n[a]){var a=d(B),g=u(B)?u:h;for(E+='"',L=C,r();""!==B&&!g(B);)if("\\"===B)if(r(),void 0!==w[B])E+="\\"+B,r();else if("u"===B){E+="\\u",r();for(var f=0;f<4;f++){if(p=B,!o.test(p))throw new e("Invalid unicode character",_-E.length);E+=B,r()}}else{if("'"!==B)throw new e('Invalid escape character "\\'+B+'"',_);E+="'",r()}else $[B]?E+=$[B]:E+='"'===B?'\\"':B,r();if(d(B)!==a)throw new e("End of string expected",_-E.length);return E+='"',void r()}var p;!function(){if(i(B))for(L=I;i(B)||s(B)||"$"===B;)E+=B,W();else!function(){if(c(B)||l(B))for(L=v;c(B)||l(B);)E+=B,W();else!function(){if("/"!==B||"*"!==k[_+1])if("/"!==B||"/"!==k[_+1])!function(){for(L=y;""!==B;)E+=B,W();throw new e('Syntax error in part "'+E+'"',_-E.length)}();else for(L=A;""!==B&&"\n"!==B;)E+=B,W();else{for(L=A;""!==B&&("*"!==B||"*"===B&&"/"!==k[_+1]);)E+=B,W();"*"===B&&"/"===k[_+1]&&(E+=B,W(),E+=B,W())}}()}()}()}function N(){if(L!==p||"{"!==E)!function(){if(L!==p||"["!==E)!function(){if(L!==C)(L!==m?function(){if(L!==I)!function(){throw new e(""===E?"Unexpected end of json string":"Value expected",_-E.length)}();else if(S[E])M();else{if(x[E])return E=x[E],M();var t=E,n=R.length;if(E="",M(),L===p&&"("===E)return E="",M(),N(),L===p&&")"===E&&(E="",M(),L===p&&";"===E&&(E="",M()));for(R=function(e,t,n){return e.substring(0,n)+t+e.substring(n)}(R,'"'.concat(t),n);L===I||L===m;)M();R+='"'}}:M)();else for(M();L===p&&"+"===E;){var t;E="",M(),L===C&&(t=R.lastIndexOf('"'),R=R.substring(0,t)+E.substring(1),E="",M())}}();else if(M(),L!==p||"]"!==E){for(;;)if(N(),L===p&&","===E){if(M(),L===p&&"]"===E){R=g(R,",");break}}else{if(!T())break;R=f(R,",")}L===p&&"]"===E?M():R=f(R,"]")}else M()}();else if(M(),L!==p||"}"!==E){for(;;){if(L!==I&&L!==m||(L=C,E='"'.concat(E,'"')),L!==C)throw new e("Object key expected",_-E.length);if(M(),L===p&&":"===E)M();else{if(!T())throw new e("Colon expected",_-E.length);R=f(R,":")}if(N(),L===p&&","===E){if(M(),L===p&&"}"===E){R=g(R,",");break}}else{if(L!==C&&L!==m&&L!==I)break;R=f(R,",")}}L===p&&"}"===E?M():R=f(R,"}")}else M()}return function(t){if(R="",_=0,B=(k=t).charAt(0),E="",L=y,M(),t=L===p&&"{"===E,N(),""===E)return R;if(t&&T()){for(var n="";T();)n+=R=f(R,","),R="",N();return"[\n".concat(n).concat(R,"\n]")}throw new e("Unexpected characters",_-E.length)}}()}));function ny(e,t=1e3){if(e<.9*t)return e.toFixed()+" B";const n=e/t;if(n<.9*t)return n.toFixed(1)+" KB";const i=n/t;if(i<.9*t)return i.toFixed(1)+" MB";const r=i/t;if(r<.9*t)return r.toFixed(1)+" GB";return(r/t).toFixed(1)+" TB"}var iy={b:"\b",f:"\f",n:"\n",r:"\r",t:"\t",'"':'"',"/":"/","\\":"\\"},ry="a".charCodeAt();var oy=/~/g,sy=/\//g;function ay(e){return e.replace(oy,"~0").replace(sy,"~1")}var cy=function(e,t,n){var i={},r=0,o=0,s=0,a=n&&n.bigint&&"undefined"!=typeof BigInt;return{data:c("",!0),pointers:i};function c(t,n){var i;l(),m(t,"value");var r=d();switch(r){case"t":h("rue"),i=!0;break;case"f":h("alse"),i=!1;break;case"n":h("ull"),i=null;break;case'"':i=u();break;case"[":i=function(e){l();var t=[],n=0;if("]"==d())return t;g();for(;;){var i=e+"/"+n;t.push(c(i)),l();var r=d();if("]"==r)break;","!=r&&A(),l(),n++}return t}(t);break;case"{":i=function(e){l();var t={};if("}"==d())return t;g();for(;;){var n=I();'"'!=d()&&A();var i=u(),r=e+"/"+ay(i);C(r,"key",n),m(r,"keyEnd"),l(),":"!=d()&&A(),l(),t[i]=c(r),l();var o=d();if("}"==o)break;","!=o&&A(),l()}return t}(t);break;default:g(),"-0123456789".indexOf(r)>=0?i=function(){var t="",n=!0;"-"==e[s]&&(t+=d());t+="0"==e[s]?d():p(),"."==e[s]&&(t+=d()+p(),n=!1);"e"!=e[s]&&"E"!=e[s]||(t+=d(),"+"!=e[s]&&"-"!=e[s]||(t+=d()),t+=p(),n=!1);var i=+t;return a&&n&&(i>Number.MAX_SAFE_INTEGER||i<Number.MIN_SAFE_INTEGER)?BigInt(t):i}():v()}return m(t,"valueEnd"),l(),n&&s<e.length&&v(),i}function l(){e:for(;s<e.length;){switch(e[s]){case" ":o++;break;case"\t":o+=4;break;case"\r":o=0;break;case"\n":o=0,r++;break;default:break e}s++}}function u(){for(var e,t="";'"'!=(e=d());)"\\"==e?(e=d())in iy?t+=iy[e]:"u"==e?t+=f():A():t+=e;return t}function h(e){for(var t=0;t<e.length;t++)d()!==e[t]&&A()}function d(){y();var t=e[s];return s++,o++,t}function g(){s--,o--}function f(){for(var e=4,t=0;e--;){t<<=4;var n=d().toLowerCase();n>="a"&&n<="f"?t+=n.charCodeAt()-ry+10:n>="0"&&n<="9"?t+=+n:A()}return String.fromCharCode(t)}function p(){for(var t="";e[s]>="0"&&e[s]<="9";)t+=d();if(t.length)return t;y(),v()}function m(e,t){C(e,t,I())}function C(e,t,n){i[e]=i[e]||{},i[e][t]=n}function I(){return{line:r,column:o,pos:s}}function v(){throw new SyntaxError("Unexpected token "+e[s]+" in JSON at position "+s)}function A(){g(),v()}function y(){if(s>=e.length)throw new SyntaxError("Unexpected end of JSON input")}};function ly(e){try{return JSON.parse(e)}catch(t){return JSON.parse(ty(e))}}function uy(e){try{return ly(e)}catch(e){return}}function hy(e,t=JSON.parse){e=e.replace(gy,"");try{return t(e)}catch(e){}try{return t("["+e+"]")}catch(e){}try{return t("{"+e+"}")}catch(e){}throw new Error("Failed to parse partial JSON")}function dy(e){e=e.replace(gy,"");try{return ty(e)}catch(e){}try{const t=ty("["+e+"]");return t.substring(1,t.length-1)}catch(e){}try{const t=ty("{"+e+"}");return t.substring(1,t.length-1)}catch(e){}throw new Error("Failed to repair partial JSON")}const gy=/,\s*$/;const fy=/(position|char) (\d+)/,py=/line (\d+)/,my=/column (\d+)/;function Cy(e,t,n){const i=e.slice();return i[4]=t[n],i}function Iy(e){let t,n;return t=new AA({props:{data:e[1]}}),{c(){We(t.$$.fragment)},m(e,i){Ge(t,e,i),n=!0},p(e,n){const i={};2&n&&(i.data=e[1]),t.$set(i)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){$e(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function vy(e){let t,n;return t=new AA({props:{data:e[4].icon}}),{c(){We(t.$$.fragment)},m(e,i){Ge(t,e,i),n=!0},p(e,n){const i={};8&n&&(i.data=e[4].icon),t.$set(i)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){$e(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function Ay(e){let t,n,i,r,o,a,c,l,u,h=e[4].text+"",d=e[4].icon&&vy(e);return{c(){t=S("button"),d&&d.c(),n=R(),i=k(h),r=R(),E(t,"class","button action primary svelte-1gnfkfb"),E(t,"title",o=e[4].title),t.disabled=a=e[4].disabled},m(o,a){b(o,t,a),d&&d.m(t,null),y(t,n),y(t,i),y(t,r),c=!0,l||(u=B(t,"click",(function(){s(e[4].onClick)&&e[4].onClick.apply(this,arguments)})),l=!0)},p(r,s){(e=r)[4].icon?d?(d.p(e,s),8&s&&we(d,1)):(d=vy(e),d.c(),we(d,1),d.m(t,n)):d&&(ye(),$e(d,1,1,(()=>{d=null})),be()),(!c||8&s)&&h!==(h=e[4].text+"")&&T(i,h),(!c||8&s&&o!==(o=e[4].title))&&E(t,"title",o),(!c||8&s&&a!==(a=e[4].disabled))&&(t.disabled=a)},i(e){c||(we(d),c=!0)},o(e){$e(d),c=!1},d(e){e&&w(t),d&&d.d(),l=!1,u()}}}function yy(e){let t,n,i,r,o,s,a,c,l=e[1]&&Iy(e),u=e[3],h=[];for(let t=0;t<u.length;t+=1)h[t]=Ay(Cy(e,u,t));const d=e=>$e(h[e],1,1,(()=>{h[e]=null}));return{c(){t=S("div"),n=S("div"),l&&l.c(),i=R(),r=k(e[2]),o=R(),s=S("div");for(let e=0;e<h.length;e+=1)h[e].c();E(n,"class","text svelte-1gnfkfb"),E(s,"class","actions svelte-1gnfkfb"),E(t,"class",a="message "+e[0]+" svelte-1gnfkfb")},m(e,a){b(e,t,a),y(t,n),l&&l.m(n,null),y(n,i),y(n,r),y(t,o),y(t,s);for(let e=0;e<h.length;e+=1)h[e].m(s,null);c=!0},p(e,[o]){if(e[1]?l?(l.p(e,o),2&o&&we(l,1)):(l=Iy(e),l.c(),we(l,1),l.m(n,i)):l&&(ye(),$e(l,1,1,(()=>{l=null})),be()),(!c||4&o)&&T(r,e[2]),8&o){let t;for(u=e[3],t=0;t<u.length;t+=1){const n=Cy(e,u,t);h[t]?(h[t].p(n,o),we(h[t],1)):(h[t]=Ay(n),h[t].c(),we(h[t],1),h[t].m(s,null))}for(ye(),t=u.length;t<h.length;t+=1)d(t);be()}(!c||1&o&&a!==(a="message "+e[0]+" svelte-1gnfkfb"))&&E(t,"class",a)},i(e){if(!c){we(l);for(let e=0;e<u.length;e+=1)we(h[e]);c=!0}},o(e){$e(l),h=h.filter(Boolean);for(let e=0;e<h.length;e+=1)$e(h[e]);c=!1},d(e){e&&w(t),l&&l.d(),$(h,e)}}}function by(e,t,n){let{type:i="success"}=t,{icon:r=null}=t,{message:o=null}=t,{actions:s=[]}=t;return e.$$set=e=>{"type"in e&&n(0,i=e.type),"icon"in e&&n(1,r=e.icon),"message"in e&&n(2,o=e.message),"actions"in e&&n(3,s=e.actions)},[i,r,o,s]}class wy extends Oe{constructor(e){super(),Me(this,e,by,yy,a,{type:0,icon:1,message:2,actions:3})}}function $y(e){return e.map((e=>"number"==typeof e?`[${e}]`:`.${e}`)).join("")}function Sy(e,t,n){const i=e.slice();return i[7]=t[n],i[9]=n,i}function xy(e){let t,n,i,r;const o=[Ry,ky],s=[];function a(e,t){return e[2]||1===e[0].length?0:1}return n=a(e),i=s[n]=o[n](e),{c(){t=S("div"),i.c(),E(t,"class","validation-errors-overview svelte-1flrdq6")},m(e,i){b(e,t,i),s[n].m(t,null),r=!0},p(e,r){let c=n;n=a(e),n===c?s[n].p(e,r):(ye(),$e(s[c],1,1,(()=>{s[c]=null})),be(),i=s[n],i?i.p(e,r):(i=s[n]=o[n](e),i.c()),we(i,1),i.m(t,null))},i(e){r||(we(i),r=!0)},o(e){$e(i),r=!1},d(e){e&&w(t),s[n].d()}}}function ky(e){let t,n,i,r,o,s,a,c,l,u,h,d,g,f,p=e[0].length+"";return o=new AA({props:{data:ci}}),h=new AA({props:{data:Dn}}),{c(){t=S("table"),n=S("tbody"),i=S("tr"),r=S("td"),We(o.$$.fragment),s=R(),a=S("td"),c=k(p),l=k(" validation errors\n             "),u=S("div"),We(h.$$.fragment),E(r,"class","validation-error-icon svelte-1flrdq6"),E(u,"class","validation-errors-expand svelte-1flrdq6"),E(a,"class","svelte-1flrdq6"),E(i,"class","validation-error svelte-1flrdq6"),E(t,"class","svelte-1flrdq6")},m(p,m){b(p,t,m),y(t,n),y(n,i),y(i,r),Ge(o,r,null),y(i,s),y(i,a),y(a,c),y(a,l),y(a,u),Ge(h,u,null),d=!0,g||(f=B(i,"click",e[4]),g=!0)},p(e,t){(!d||1&t)&&p!==(p=e[0].length+"")&&T(c,p)},i(e){d||(we(o.$$.fragment,e),we(h.$$.fragment,e),d=!0)},o(e){$e(o.$$.fragment,e),$e(h.$$.fragment,e),d=!1},d(e){e&&w(t),Te(o),Te(h),g=!1,f()}}}function Ry(e){let t,n,i,r=e[0],o=[];for(let t=0;t<r.length;t+=1)o[t]=By(Sy(e,r,t));const s=e=>$e(o[e],1,1,(()=>{o[e]=null}));return{c(){t=S("table"),n=S("tbody");for(let e=0;e<o.length;e+=1)o[e].c();E(t,"class","svelte-1flrdq6")},m(e,r){b(e,t,r),y(t,n);for(let e=0;e<o.length;e+=1)o[e].m(n,null);i=!0},p(e,t){if(11&t){let i;for(r=e[0],i=0;i<r.length;i+=1){const s=Sy(e,r,i);o[i]?(o[i].p(s,t),we(o[i],1)):(o[i]=By(s),o[i].c(),we(o[i],1),o[i].m(n,null))}for(ye(),i=r.length;i<o.length;i+=1)s(i);be()}},i(e){if(!i){for(let e=0;e<r.length;e+=1)we(o[e]);i=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)$e(o[e]);i=!1},d(e){e&&w(t),$(o,e)}}}function _y(t){let n,i,r,o,s;return i=new AA({props:{data:jn}}),{c(){n=S("button"),We(i.$$.fragment),E(n,"class","validation-errors-collapse svelte-1flrdq6"),E(n,"title","Collapse validation errors")},m(e,a){var c;b(e,n,a),Ge(i,n,null),r=!0,o||(s=B(n,"click",(c=t[3],function(e){return e.stopPropagation(),c.call(this,e)})),o=!0)},p:e,i(e){r||(we(i.$$.fragment,e),r=!0)},o(e){$e(i.$$.fragment,e),r=!1},d(e){e&&w(n),Te(i),o=!1,s()}}}function By(e){let t,n,i,r,o,s,a,c,l,u,h,d,g,f,p,m=$y(e[7].path)+"",C=e[7].message+"";i=new AA({props:{data:ci}});let I=0===e[9]&&e[0].length>1&&_y(e);function v(){return e[5](e[7])}return{c(){t=S("tr"),n=S("td"),We(i.$$.fragment),r=R(),o=S("td"),s=k(m),a=R(),c=S("td"),l=k(C),u=R(),h=S("td"),I&&I.c(),d=R(),E(n,"class","validation-error-icon svelte-1flrdq6"),E(o,"class","svelte-1flrdq6"),E(c,"class","svelte-1flrdq6"),E(h,"class","validation-error-action svelte-1flrdq6"),E(t,"class","validation-error svelte-1flrdq6")},m(e,m){b(e,t,m),y(t,n),Ge(i,n,null),y(t,r),y(t,o),y(o,s),y(t,a),y(t,c),y(c,l),y(t,u),y(t,h),I&&I.m(h,null),y(t,d),g=!0,f||(p=B(t,"click",v),f=!0)},p(t,n){e=t,(!g||1&n)&&m!==(m=$y(e[7].path)+"")&&T(s,m),(!g||1&n)&&C!==(C=e[7].message+"")&&T(l,C),0===e[9]&&e[0].length>1?I?(I.p(e,n),1&n&&we(I,1)):(I=_y(e),I.c(),we(I,1),I.m(h,null)):I&&(ye(),$e(I,1,1,(()=>{I=null})),be())},i(e){g||(we(i.$$.fragment,e),we(I),g=!0)},o(e){$e(i.$$.fragment,e),$e(I),g=!1},d(e){e&&w(t),Te(i),I&&I.d(),f=!1,p()}}}function Ey(e){let t,n,i=!kd(e[0]),r=i&&xy(e);return{c(){r&&r.c(),t=_()},m(e,i){r&&r.m(e,i),b(e,t,i),n=!0},p(e,[n]){1&n&&(i=!kd(e[0])),i?r?(r.p(e,n),1&n&&we(r,1)):(r=xy(e),r.c(),we(r,1),r.m(t.parentNode,t)):r&&(ye(),$e(r,1,1,(()=>{r=null})),be())},i(e){n||(we(r),n=!0)},o(e){$e(r),n=!1},d(e){r&&r.d(e),e&&w(t)}}}function Ly(e,t,n){let{validationErrorsList:i}=t,{selectError:r}=t,o=!0;return e.$$set=e=>{"validationErrorsList"in e&&n(0,i=e.validationErrorsList),"selectError"in e&&n(1,r=e.selectError)},e.$$.update=()=>{1&e.$$.dirty&&i.filter((e=>!e.isChildError))},[i,r,o,function(){n(2,o=!1)},function(){n(2,o=!0)},e=>{setTimeout((()=>r(e)))}]}class Wy extends Oe{constructor(e){super(),Me(this,e,Ly,Ey,c,{validationErrorsList:0,selectError:1})}}function Gy(t){let n,i,r=t[0](t[1],t[2])+"";return{c(){n=S("div"),E(n,"class",i="item "+t[3]+" svelte-bdnybl")},m(e,t){b(e,n,t),n.innerHTML=r},p(e,[t]){7&t&&r!==(r=e[0](e[1],e[2])+"")&&(n.innerHTML=r),8&t&&i!==(i="item "+e[3]+" svelte-bdnybl")&&E(n,"class",i)},i:e,o:e,d(e){e&&w(n)}}}function Ty(e,t,n){let{isActive:i=!1}=t,{isFirst:r=!1}=t,{isHover:o=!1}=t,{getOptionLabel:s}=t,{item:a}=t,{filterText:c=""}=t,l="";return e.$$set=e=>{"isActive"in e&&n(4,i=e.isActive),"isFirst"in e&&n(5,r=e.isFirst),"isHover"in e&&n(6,o=e.isHover),"getOptionLabel"in e&&n(0,s=e.getOptionLabel),"item"in e&&n(1,a=e.item),"filterText"in e&&n(2,c=e.filterText)},e.$$.update=()=>{if(114&e.$$.dirty){const e=[];i&&e.push("active"),r&&e.push("first"),o&&e.push("hover"),a.isGroupHeader&&e.push("groupHeader"),a.isGroupItem&&e.push("groupItem"),n(3,l=e.join(" "))}},[s,a,c,l,i,r,o]}class My extends Oe{constructor(e){super(),Me(this,e,Ty,Gy,a,{isActive:4,isFirst:5,isHover:6,getOptionLabel:0,item:1,filterText:2})}}function Oy(e,t,n){const i=e.slice();return i[23]=t[n],i}const Ny=e=>({item:32&e,i:32&e,hoverItemIndex:2&e}),Hy=e=>({item:e[23].data,i:e[23].index,hoverItemIndex:e[1]});function Zy(e,t){let n,i,r;const o=t[15].default,s=u(o,t,t[14],Hy),a=s||function(e){let t;return{c(){t=k("Missing template")},m(e,n){b(e,t,n)},d(e){e&&w(t)}}}();return{key:e,first:null,c(){n=S("svelte-virtual-list-row"),a&&a.c(),i=R(),G(n,"class","svelte-p6ehlv"),this.first=n},m(e,t){b(e,n,t),a&&a.m(n,null),y(n,i),r=!0},p(e,n){t=e,s&&s.p&&(!r||16418&n)&&d(s,o,t,t[14],n,Ny,Hy)},i(e){r||(we(a,e),r=!0)},o(e){$e(a,e),r=!1},d(e){e&&w(n),a&&a.d(e)}}}function Vy(e){let t,n,i,r,o,s,a=[],c=new Map,l=e[5];const u=e=>e[23].index;for(let t=0;t<l.length;t+=1){let n=Oy(e,l,t),i=u(n);c.set(i,a[t]=Zy(i,n))}return{c(){t=S("svelte-virtual-list-viewport"),n=S("svelte-virtual-list-contents");for(let e=0;e<a.length;e+=1)a[e].c();O(n,"padding-top",e[6]+"px"),O(n,"padding-bottom",e[7]+"px"),G(n,"class","svelte-p6ehlv"),O(t,"height",e[0]),G(t,"class","svelte-p6ehlv"),he((()=>e[18].call(t)))},m(c,l){b(c,t,l),y(t,n);for(let e=0;e<a.length;e+=1)a[e].m(n,null);e[16](n),e[17](t),i=function(e,t){"static"===getComputedStyle(e).position&&(e.style.position="relative");const n=S("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const i=Z();let r;return i?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",r=B(window,"message",(e=>{e.source===n.contentWindow&&t()}))):(n.src="about:blank",n.onload=()=>{r=B(n.contentWindow,"resize",t)}),y(e,n),()=>{(i||r&&n.contentWindow)&&r(),w(n)}}(t,e[18].bind(t)),r=!0,o||(s=B(t,"scroll",e[8]),o=!0)},p(e,[i]){16418&i&&(l=e[5],ye(),a=_e(a,i,u,1,e,l,c,n,Re,Zy,null,Oy),be()),(!r||64&i)&&O(n,"padding-top",e[6]+"px"),(!r||128&i)&&O(n,"padding-bottom",e[7]+"px"),(!r||1&i)&&O(t,"height",e[0])},i(e){if(!r){for(let e=0;e<l.length;e+=1)we(a[e]);r=!0}},o(e){for(let e=0;e<a.length;e+=1)$e(a[e]);r=!1},d(n){n&&w(t);for(let e=0;e<a.length;e+=1)a[e].d();e[16](null),e[17](null),i(),o=!1,s()}}}function Py(e,t,n){let i,r,o,s,a,c,{$$slots:l={},$$scope:u}=t,{items:h}=t,{height:d="100%"}=t,{itemHeight:g=40}=t,{hoverItemIndex:f=0}=t,{start:p=0}=t,{end:m=0}=t,C=[],I=0,v=0,A=0;return Q((()=>{i=o.getElementsByTagName("svelte-virtual-list-row"),n(13,a=!0)})),e.$$set=e=>{"items"in e&&n(11,h=e.items),"height"in e&&n(0,d=e.height),"itemHeight"in e&&n(12,g=e.itemHeight),"hoverItemIndex"in e&&n(1,f=e.hoverItemIndex),"start"in e&&n(9,p=e.start),"end"in e&&n(10,m=e.end),"$$scope"in e&&n(14,u=e.$$scope)},e.$$.update=()=>{3584&e.$$.dirty&&n(5,s=h.slice(p,m).map(((e,t)=>({index:t+p,data:e})))),14340&e.$$.dirty&&a&&async function(e,t,o){const{scrollTop:s}=r;await ue();let a=v-s,l=p;for(;a<t&&l<e.length;){let e=i[l-p];e||(n(10,m=l+1),await ue(),e=i[l-p]),a+=C[l]=o||e.offsetHeight,l+=1}n(10,m=l);const u=e.length-m;c=(v+a)/m,n(7,A=u*c),C.length=e.length,n(3,r.scrollTop=0,r)}(h,I,g)},[d,f,I,r,o,s,v,A,async function(){const{scrollTop:e}=r,t=p;for(let e=0;e<i.length;e+=1)C[p+e]=g||i[e].offsetHeight;let o=0,s=0;for(;o<h.length;){const t=C[o]||c;if(s+t>e){n(9,p=o),n(6,v=s);break}s+=t,o+=1}for(;o<h.length&&(s+=C[o]||c,o+=1,!(s>e+I)););n(10,m=o);const a=h.length-m;for(c=s/m;o<h.length;)C[o++]=c;if(n(7,A=a*c),p<t){await ue();let n=0,o=0;for(let e=p;e<t;e+=1)i[e-p]&&(n+=C[e],o+=g||i[e-p].offsetHeight);const s=o-n;r.scrollTo(0,e+s)}},p,m,h,g,a,u,l,function(e){re[e?"unshift":"push"]((()=>{o=e,n(4,o)}))},function(e){re[e?"unshift":"push"]((()=>{r=e,n(3,r)}))},function(){I=this.offsetHeight,n(2,I)}]}class Fy extends Oe{constructor(e){super(),Me(this,e,Py,Vy,a,{items:11,height:0,itemHeight:12,hoverItemIndex:1,start:9,end:10})}}function Ky(e,t,n){const i=e.slice();return i[34]=t[n],i[36]=n,i}function jy(e){let t,n,i;return n=new Fy({props:{items:e[4],itemHeight:e[7],$$slots:{default:[Dy,({item:e,i:t})=>({34:e,36:t}),({item:e,i:t})=>[0,(e?8:0)|(t?32:0)]]},$$scope:{ctx:e}}}),{c(){t=S("div"),We(n.$$.fragment),E(t,"class","listContainer virtualList svelte-ux0sbr")},m(r,o){b(r,t,o),Ge(n,t,null),e[20](t),i=!0},p(e,t){const i={};16&t[0]&&(i.items=e[4]),128&t[0]&&(i.itemHeight=e[7]),4918&t[0]|104&t[1]&&(i.$$scope={dirty:t,ctx:e}),n.$set(i)},i(e){i||(we(n.$$.fragment,e),i=!0)},o(e){$e(n.$$.fragment,e),i=!1},d(i){i&&w(t),Te(n),e[20](null)}}}function Dy(e){let t,n,i,r,s;var a=e[2];function c(e){return{props:{item:e[34],filterText:e[12],getOptionLabel:e[5],isFirst:tb(e[36]),isActive:eb(e[34],e[8],e[9]),isHover:nb(e[1],e[34],e[36],e[4])}}}function l(){return e[18](e[36])}function u(...t){return e[19](e[34],e[36],...t)}return a&&(n=new a(c(e))),{c(){t=S("div"),n&&We(n.$$.fragment),E(t,"class","listItem")},m(e,o){b(e,t,o),n&&Ge(n,t,null),i=!0,r||(s=[B(t,"mouseover",l),B(t,"click",u)],r=!0)},p(i,r){e=i;const o={};if(8&r[1]&&(o.item=e[34]),4096&r[0]&&(o.filterText=e[12]),32&r[0]&&(o.getOptionLabel=e[5]),32&r[1]&&(o.isFirst=tb(e[36])),768&r[0]|8&r[1]&&(o.isActive=eb(e[34],e[8],e[9])),18&r[0]|40&r[1]&&(o.isHover=nb(e[1],e[34],e[36],e[4])),a!==(a=e[2])){if(n){ye();const e=n;$e(e.$$.fragment,1,0,(()=>{Te(e,1)})),be()}a?(n=new a(c(e)),We(n.$$.fragment),we(n.$$.fragment,1),Ge(n,t,null)):n=null}else a&&n.$set(o)},i(e){i||(n&&we(n.$$.fragment,e),i=!0)},o(e){n&&$e(n.$$.fragment,e),i=!1},d(e){e&&w(t),n&&Te(n),r=!1,o(s)}}}function zy(e){let t,n,i=e[4],r=[];for(let t=0;t<i.length;t+=1)r[t]=Qy(Ky(e,i,t));const o=e=>$e(r[e],1,1,(()=>{r[e]=null}));let s=null;return i.length||(s=Xy(e)),{c(){t=S("div");for(let e=0;e<r.length;e+=1)r[e].c();s&&s.c(),E(t,"class","listContainer svelte-ux0sbr")},m(i,o){b(i,t,o);for(let e=0;e<r.length;e+=1)r[e].m(t,null);s&&s.m(t,null),e[23](t),n=!0},p(e,n){if(32630&n[0]){let a;for(i=e[4],a=0;a<i.length;a+=1){const o=Ky(e,i,a);r[a]?(r[a].p(o,n),we(r[a],1)):(r[a]=Qy(o),r[a].c(),we(r[a],1),r[a].m(t,null))}for(ye(),a=i.length;a<r.length;a+=1)o(a);be(),!i.length&&s?s.p(e,n):i.length?s&&(s.d(1),s=null):(s=Xy(e),s.c(),s.m(t,null))}},i(e){if(!n){for(let e=0;e<i.length;e+=1)we(r[e]);n=!0}},o(e){r=r.filter(Boolean);for(let e=0;e<r.length;e+=1)$e(r[e]);n=!1},d(n){n&&w(t),$(r,n),s&&s.d(),e[23](null)}}}function Xy(e){let t,n=!e[10]&&Jy(e);return{c(){n&&n.c(),t=_()},m(e,i){n&&n.m(e,i),b(e,t,i)},p(e,i){e[10]?n&&(n.d(1),n=null):n?n.p(e,i):(n=Jy(e),n.c(),n.m(t.parentNode,t))},d(e){n&&n.d(e),e&&w(t)}}}function Jy(e){let t,n;return{c(){t=S("div"),n=k(e[11]),E(t,"class","empty svelte-ux0sbr")},m(e,i){b(e,t,i),y(t,n)},p(e,t){2048&t[0]&&T(n,e[11])},d(e){e&&w(t)}}}function Yy(e){let t,n,i,r,s,a;var c=e[2];function l(e){return{props:{item:e[34],filterText:e[12],getOptionLabel:e[5],isFirst:tb(e[36]),isActive:eb(e[34],e[8],e[9]),isHover:nb(e[1],e[34],e[36],e[4])}}}function u(){return e[21](e[36])}function h(...t){return e[22](e[34],e[36],...t)}return c&&(n=new c(l(e))),{c(){t=S("div"),n&&We(n.$$.fragment),i=R(),E(t,"class","listItem")},m(e,o){b(e,t,o),n&&Ge(n,t,null),y(t,i),r=!0,s||(a=[B(t,"mouseover",u),B(t,"click",h)],s=!0)},p(r,o){e=r;const s={};if(16&o[0]&&(s.item=e[34]),4096&o[0]&&(s.filterText=e[12]),32&o[0]&&(s.getOptionLabel=e[5]),784&o[0]&&(s.isActive=eb(e[34],e[8],e[9])),18&o[0]&&(s.isHover=nb(e[1],e[34],e[36],e[4])),c!==(c=e[2])){if(n){ye();const e=n;$e(e.$$.fragment,1,0,(()=>{Te(e,1)})),be()}c?(n=new c(l(e)),We(n.$$.fragment),we(n.$$.fragment,1),Ge(n,t,i)):n=null}else c&&n.$set(s)},i(e){r||(n&&we(n.$$.fragment,e),r=!0)},o(e){n&&$e(n.$$.fragment,e),r=!1},d(e){e&&w(t),n&&Te(n),s=!1,o(a)}}}function Uy(t){let n,i,r=t[6](t[34])+"";return{c(){n=S("div"),i=k(r),E(n,"class","listGroupTitle svelte-ux0sbr")},m(e,t){b(e,n,t),y(n,i)},p(e,t){80&t[0]&&r!==(r=e[6](e[34])+"")&&T(i,r)},i:e,o:e,d(e){e&&w(n)}}}function Qy(e){let t,n,i,r;const o=[Uy,Yy],s=[];function a(e,t){return e[34].isGroupHeader&&!e[34].isSelectable?0:1}return t=a(e),n=s[t]=o[t](e),{c(){n.c(),i=_()},m(e,n){s[t].m(e,n),b(e,i,n),r=!0},p(e,r){let c=t;t=a(e),t===c?s[t].p(e,r):(ye(),$e(s[c],1,1,(()=>{s[c]=null})),be(),n=s[t],n?n.p(e,r):(n=s[t]=o[t](e),n.c()),we(n,1),n.m(i.parentNode,i))},i(e){r||(we(n),r=!0)},o(e){$e(n),r=!1},d(e){s[t].d(e),e&&w(i)}}}function qy(e){let t,n,i,r,o,s=e[3]&&jy(e),a=!e[3]&&zy(e);return{c(){s&&s.c(),t=R(),a&&a.c(),n=_()},m(c,l){s&&s.m(c,l),b(c,t,l),a&&a.m(c,l),b(c,n,l),i=!0,r||(o=B(window,"keydown",e[15]),r=!0)},p(e,i){e[3]?s?(s.p(e,i),8&i[0]&&we(s,1)):(s=jy(e),s.c(),we(s,1),s.m(t.parentNode,t)):s&&(ye(),$e(s,1,1,(()=>{s=null})),be()),e[3]?a&&(ye(),$e(a,1,1,(()=>{a=null})),be()):a?(a.p(e,i),8&i[0]&&we(a,1)):(a=zy(e),a.c(),we(a,1),a.m(n.parentNode,n))},i(e){i||(we(s),we(a),i=!0)},o(e){$e(s),$e(a),i=!1},d(e){s&&s.d(e),e&&w(t),a&&a.d(e),e&&w(n),r=!1,o()}}}function eb(e,t,n){return t&&t[n]===e[n]}function tb(e){return 0===e}function nb(e,t,n,i){return e===n||1===i.length}function ib(e,t,n){const i=ee();let r,{container:o}=t,{Item:s=My}=t,{isVirtualList:a=!1}=t,{items:c=[]}=t,{getOptionLabel:l=((e,t)=>{if(e)return e.isCreator?`Create "${t}"`:e.label})}=t,{getGroupHeaderLabel:u=(e=>e.label)}=t,{itemHeight:h=40}=t,{hoverItemIndex:d=0}=t,{selectedValue:g}=t,{optionIdentifier:f="value"}=t,{hideEmptyState:p=!1}=t,{noOptionsMessage:m="No options"}=t,{isMulti:C=!1}=t,{activeItemIndex:I=0}=t,{filterText:v=""}=t,A=0,y=!1;function b(e){e.isCreator||i("itemSelected",e)}function w(e){y||n(1,d=e)}function $(e){const{item:t,i:r,event:o}=e;if(o.stopPropagation(),g&&!C&&g[f]===t[f])return S();t.isCreator?i("itemCreated",v):(n(16,I=r),n(1,d=r),b(t))}function S(){i("closeList")}async function x(e){if(a)return;let t=!0;for(;t;)e>0&&d===c.length-1?n(1,d=0):n(1,e<0&&0===d?d=c.length-1:d+=e),t=c[d].isGroupHeader&&!c[d].isSelectable;await ue(),k("hover")}function k(e){if(a||!o)return;let t;const i=o.querySelector(`.listItem .${e}`);i&&(t=o.getBoundingClientRect().bottom-i.getBoundingClientRect().bottom),n(0,o.scrollTop-=t,o)}Q((()=>{if(c.length>0&&!C&&g){const e=c.findIndex((e=>e[f]===g[f]));e&&n(1,d=e)}k("active"),o.addEventListener("scroll",(()=>{clearTimeout(A),A=setTimeout((()=>{y=!1}),100)}),!1)})),q((()=>{})),U((()=>{c!==r&&c.length>0&&n(1,d=0),r=c}));return e.$$set=e=>{"container"in e&&n(0,o=e.container),"Item"in e&&n(2,s=e.Item),"isVirtualList"in e&&n(3,a=e.isVirtualList),"items"in e&&n(4,c=e.items),"getOptionLabel"in e&&n(5,l=e.getOptionLabel),"getGroupHeaderLabel"in e&&n(6,u=e.getGroupHeaderLabel),"itemHeight"in e&&n(7,h=e.itemHeight),"hoverItemIndex"in e&&n(1,d=e.hoverItemIndex),"selectedValue"in e&&n(8,g=e.selectedValue),"optionIdentifier"in e&&n(9,f=e.optionIdentifier),"hideEmptyState"in e&&n(10,p=e.hideEmptyState),"noOptionsMessage"in e&&n(11,m=e.noOptionsMessage),"isMulti"in e&&n(17,C=e.isMulti),"activeItemIndex"in e&&n(16,I=e.activeItemIndex),"filterText"in e&&n(12,v=e.filterText)},[o,d,s,a,c,l,u,h,g,f,p,m,v,w,$,function(e){switch(e.key){case"ArrowDown":e.preventDefault(),c.length&&x(1);break;case"ArrowUp":e.preventDefault(),c.length&&x(-1);break;case"Enter":if(e.preventDefault(),0===c.length)break;const t=c[d];if(g&&!C&&g[f]===t[f]){S();break}t.isCreator?i("itemCreated",v):(n(16,I=d),b(c[d]));break;case"Tab":if(e.preventDefault(),0===c.length)break;if(g&&g[f]===c[d][f])return S();n(16,I=d),b(c[d])}},I,C,e=>w(e),(e,t,n)=>$({item:e,i:t,event:n}),function(e){re[e?"unshift":"push"]((()=>{o=e,n(0,o)}))},e=>w(e),(e,t,n)=>$({item:e,i:t,event:n}),function(e){re[e?"unshift":"push"]((()=>{o=e,n(0,o)}))}]}class rb extends Oe{constructor(e){super(),Me(this,e,ib,qy,a,{container:0,Item:2,isVirtualList:3,items:4,getOptionLabel:5,getGroupHeaderLabel:6,itemHeight:7,hoverItemIndex:1,selectedValue:8,optionIdentifier:9,hideEmptyState:10,noOptionsMessage:11,isMulti:17,activeItemIndex:16,filterText:12},[-1,-1])}}function ob(t){let n,i=t[0](t[1])+"";return{c(){n=S("div"),E(n,"class","selection svelte-ch6bh7")},m(e,t){b(e,n,t),n.innerHTML=i},p(e,[t]){3&t&&i!==(i=e[0](e[1])+"")&&(n.innerHTML=i)},i:e,o:e,d(e){e&&w(n)}}}function sb(e,t,n){let{getSelectionLabel:i}=t,{item:r}=t;return e.$$set=e=>{"getSelectionLabel"in e&&n(0,i=e.getSelectionLabel),"item"in e&&n(1,r=e.item)},[i,r]}class ab extends Oe{constructor(e){super(),Me(this,e,sb,ob,a,{getSelectionLabel:0,item:1})}}function cb(e,t,n){const i=e.slice();return i[9]=t[n],i[11]=n,i}function lb(e){let t,n,i;function r(...t){return e[6](e[11],...t)}return{c(){t=S("div"),t.innerHTML='<svg width="100%" height="100%" viewBox="-2 -2 50 50" focusable="false" role="presentation" class="svelte-14r1jr2"><path d="M34.923,37.251L24,26.328L13.077,37.251L9.436,33.61l10.923-10.923L9.436,11.765l3.641-3.641L24,19.047L34.923,8.124 l3.641,3.641L27.641,22.688L38.564,33.61L34.923,37.251z"></path></svg>',E(t,"class","multiSelectItem_clear svelte-14r1jr2")},m(e,o){b(e,t,o),n||(i=B(t,"click",r),n=!0)},p(t,n){e=t},d(e){e&&w(t),n=!1,i()}}}function ub(e){let t,n,i,r,o,s,a,c=e[4](e[9])+"",l=!e[2]&&!e[3]&&lb(e);function u(...t){return e[7](e[11],...t)}return{c(){t=S("div"),n=S("div"),i=R(),l&&l.c(),r=R(),E(n,"class","multiSelectItem_label svelte-14r1jr2"),E(t,"class",o="multiSelectItem "+(e[1]===e[11]?"active":"")+" "+(e[2]?"disabled":"")+" svelte-14r1jr2")},m(e,o){b(e,t,o),y(t,n),n.innerHTML=c,y(t,i),l&&l.m(t,null),y(t,r),s||(a=B(t,"click",u),s=!0)},p(i,s){e=i,17&s&&c!==(c=e[4](e[9])+"")&&(n.innerHTML=c),e[2]||e[3]?l&&(l.d(1),l=null):l?l.p(e,s):(l=lb(e),l.c(),l.m(t,r)),6&s&&o!==(o="multiSelectItem "+(e[1]===e[11]?"active":"")+" "+(e[2]?"disabled":"")+" svelte-14r1jr2")&&E(t,"class",o)},d(e){e&&w(t),l&&l.d(),s=!1,a()}}}function hb(t){let n,i=t[0],r=[];for(let e=0;e<i.length;e+=1)r[e]=ub(cb(t,i,e));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();n=_()},m(e,t){for(let n=0;n<r.length;n+=1)r[n].m(e,t);b(e,n,t)},p(e,[t]){if(63&t){let o;for(i=e[0],o=0;o<i.length;o+=1){const s=cb(e,i,o);r[o]?r[o].p(s,t):(r[o]=ub(s),r[o].c(),r[o].m(n.parentNode,n))}for(;o<r.length;o+=1)r[o].d(1);r.length=i.length}},i:e,o:e,d(e){$(r,e),e&&w(n)}}}function db(e,t,n){const i=ee();let{selectedValue:r=[]}=t,{activeSelectedValue:o}=t,{isDisabled:s=!1}=t,{multiFullItemClearable:a=!1}=t,{getSelectionLabel:c}=t;function l(e,t){t.stopPropagation(),i("multiItemClear",{i:e})}return e.$$set=e=>{"selectedValue"in e&&n(0,r=e.selectedValue),"activeSelectedValue"in e&&n(1,o=e.activeSelectedValue),"isDisabled"in e&&n(2,s=e.isDisabled),"multiFullItemClearable"in e&&n(3,a=e.multiFullItemClearable),"getSelectionLabel"in e&&n(4,c=e.getSelectionLabel)},[r,o,s,a,c,l,(e,t)=>l(e,t),(e,t)=>a?l(e,t):{}]}class gb extends Oe{constructor(e){super(),Me(this,e,db,hb,a,{selectedValue:0,activeSelectedValue:1,isDisabled:2,multiFullItemClearable:3,getSelectionLabel:4})}}function fb(t){let n,i;return{c(){n=x("svg"),i=x("path"),E(i,"fill","currentColor"),E(i,"d","M34.923,37.251L24,26.328L13.077,37.251L9.436,33.61l10.923-10.923L9.436,11.765l3.641-3.641L24,19.047L34.923,8.124\n    l3.641,3.641L27.641,22.688L38.564,33.61L34.923,37.251z"),E(n,"width","100%"),E(n,"height","100%"),E(n,"viewBox","-2 -2 50 50"),E(n,"focusable","false"),E(n,"role","presentation")},m(e,t){b(e,n,t),y(n,i)},p:e,i:e,o:e,d(e){e&&w(n)}}}class pb extends Oe{constructor(e){super(),Me(this,e,null,fb,a,{})}}function mb(e){let t,i,r;const o=[e[18]];var s=e[17];function a(e){let t={};for(let e=0;e<o.length;e+=1)t=n(t,o[e]);return{props:t}}return s&&(t=new s(a())),{c(){t&&We(t.$$.fragment),i=_()},m(e,n){t&&Ge(t,e,n),b(e,i,n),r=!0},p(e,n){const r=262144&n[0]?Be(o,[Ee(e[18])]):{};if(s!==(s=e[17])){if(t){ye();const e=t;$e(e.$$.fragment,1,0,(()=>{Te(e,1)})),be()}s?(t=new s(a()),We(t.$$.fragment),we(t.$$.fragment,1),Ge(t,i.parentNode,i)):t=null}else s&&t.$set(r)},i(e){r||(t&&we(t.$$.fragment,e),r=!0)},o(e){t&&$e(t.$$.fragment,e),r=!1},d(e){e&&w(i),t&&Te(t,e)}}}function Cb(e){let t,n,i;var r=e[7];function o(e){return{props:{selectedValue:e[0],getSelectionLabel:e[13],activeSelectedValue:e[25],isDisabled:e[10],multiFullItemClearable:e[9]}}}return r&&(t=new r(o(e)),t.$on("multiItemClear",e[29]),t.$on("focus",e[32])),{c(){t&&We(t.$$.fragment),n=_()},m(e,r){t&&Ge(t,e,r),b(e,n,r),i=!0},p(e,i){const s={};if(1&i[0]&&(s.selectedValue=e[0]),8192&i[0]&&(s.getSelectionLabel=e[13]),33554432&i[0]&&(s.activeSelectedValue=e[25]),1024&i[0]&&(s.isDisabled=e[10]),512&i[0]&&(s.multiFullItemClearable=e[9]),r!==(r=e[7])){if(t){ye();const e=t;$e(e.$$.fragment,1,0,(()=>{Te(e,1)})),be()}r?(t=new r(o(e)),t.$on("multiItemClear",e[29]),t.$on("focus",e[32]),We(t.$$.fragment),we(t.$$.fragment,1),Ge(t,n.parentNode,n)):t=null}else r&&t.$set(s)},i(e){i||(t&&we(t.$$.fragment,e),i=!0)},o(e){t&&$e(t.$$.fragment,e),i=!1},d(e){e&&w(n),t&&Te(t,e)}}}function Ib(e){let t,i,r,s=[e[26],{placeholder:e[28]},{style:e[15]}],a={};for(let e=0;e<s.length;e+=1)a=n(a,s[e]);return{c(){t=S("input"),L(t,a),V(t,"svelte-17qb5ew",!0)},m(n,o){b(n,t,o),e[63](t),M(t,e[1]),i||(r=[B(t,"focus",e[32]),B(t,"input",e[64])],i=!0)},p(e,n){L(t,a=Be(s,[67108864&n[0]&&e[26],268435456&n[0]&&{placeholder:e[28]},32768&n[0]&&{style:e[15]}])),2&n[0]&&t.value!==e[1]&&M(t,e[1]),V(t,"svelte-17qb5ew",!0)},d(n){n&&w(t),e[63](null),i=!1,o(r)}}}function vb(e){let t,i,r,s=[e[26],{placeholder:e[28]},{style:e[15]},{disabled:!0}],a={};for(let e=0;e<s.length;e+=1)a=n(a,s[e]);return{c(){t=S("input"),L(t,a),V(t,"svelte-17qb5ew",!0)},m(n,o){b(n,t,o),e[61](t),M(t,e[1]),i||(r=[B(t,"focus",e[32]),B(t,"input",e[62])],i=!0)},p(e,n){L(t,a=Be(s,[67108864&n[0]&&e[26],268435456&n[0]&&{placeholder:e[28]},32768&n[0]&&{style:e[15]},{disabled:!0}])),2&n[0]&&t.value!==e[1]&&M(t,e[1]),V(t,"svelte-17qb5ew",!0)},d(n){n&&w(t),e[61](null),i=!1,o(r)}}}function Ab(e){let t,n,i,r,o;var s=e[6];function a(e){return{props:{item:e[0],getSelectionLabel:e[13]}}}return s&&(n=new s(a(e))),{c(){t=S("div"),n&&We(n.$$.fragment),E(t,"class","selectedItem svelte-17qb5ew")},m(s,a){b(s,t,a),n&&Ge(n,t,null),i=!0,r||(o=B(t,"focus",e[32]),r=!0)},p(e,i){const r={};if(1&i[0]&&(r.item=e[0]),8192&i[0]&&(r.getSelectionLabel=e[13]),s!==(s=e[6])){if(n){ye();const e=n;$e(e.$$.fragment,1,0,(()=>{Te(e,1)})),be()}s?(n=new s(a(e)),We(n.$$.fragment),we(n.$$.fragment,1),Ge(n,t,null)):n=null}else s&&n.$set(r)},i(e){i||(n&&we(n.$$.fragment,e),i=!0)},o(e){n&&$e(n.$$.fragment,e),i=!1},d(e){e&&w(t),n&&Te(n),r=!1,o()}}}function yb(e){let t,n,i,r,o;var s=e[23];return s&&(n=new s({})),{c(){t=S("div"),n&&We(n.$$.fragment),E(t,"class","clearSelect svelte-17qb5ew")},m(s,a){var c;b(s,t,a),n&&Ge(n,t,null),i=!0,r||(o=B(t,"click",(c=e[24],function(e){return e.preventDefault(),c.call(this,e)})),r=!0)},p(e,i){if(s!==(s=e[23])){if(n){ye();const e=n;$e(e.$$.fragment,1,0,(()=>{Te(e,1)})),be()}s?(n=new s({}),We(n.$$.fragment),we(n.$$.fragment,1),Ge(n,t,null)):n=null}},i(e){i||(n&&we(n.$$.fragment,e),i=!0)},o(e){n&&$e(n.$$.fragment,e),i=!1},d(e){e&&w(t),n&&Te(n),r=!1,o()}}}function bb(e){let t;function n(e,t){return e[22]?$b:wb}let i=n(e),r=i(e);return{c(){t=S("div"),r.c(),E(t,"class","indicator svelte-17qb5ew")},m(e,n){b(e,t,n),r.m(t,null)},p(e,o){i===(i=n(e))&&r?r.p(e,o):(r.d(1),r=i(e),r&&(r.c(),r.m(t,null)))},d(e){e&&w(t),r.d()}}}function wb(t){let n,i;return{c(){n=x("svg"),i=x("path"),E(i,"d","M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747\n            3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0\n            1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502\n            0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0\n            0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"),E(n,"width","100%"),E(n,"height","100%"),E(n,"viewBox","0 0 20 20"),E(n,"focusable","false"),E(n,"class","svelte-17qb5ew")},m(e,t){b(e,n,t),y(n,i)},p:e,d(e){e&&w(n)}}}function $b(e){let t,n;return{c(){n=_(),t=new F(n)},m(i,r){t.m(e[22],i,r),b(i,n,r)},p(e,n){4194304&n[0]&&t.p(e[22])},d(e){e&&w(n),e&&t.d()}}}function Sb(e){let t;return{c(){t=S("div"),t.innerHTML='<svg class="spinner_icon svelte-17qb5ew" viewBox="25 25 50 50"><circle class="spinner_path svelte-17qb5ew" cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="5" stroke-miterlimit="10"></circle></svg>',E(t,"class","spinner svelte-17qb5ew")},m(e,n){b(e,t,n)},d(e){e&&w(t)}}}function xb(e){let t,n,i,r,s,a,c,l,u,h,d,g=e[17]&&mb(e),f=e[8]&&e[0]&&e[0].length>0&&Cb(e);function p(e,t){return e[10]?vb:Ib}let m=p(e),C=m(e),I=!e[8]&&e[27]&&Ab(e),v=e[27]&&e[16]&&!e[10]&&!e[5]&&yb(e),A=(e[20]||e[19]&&!e[0]||!e[14]&&!e[10]&&!e[5]&&(e[27]&&!e[16]||!e[27]))&&bb(e),$=e[5]&&Sb();return{c(){t=S("div"),g&&g.c(),n=R(),f&&f.c(),i=R(),C.c(),r=R(),I&&I.c(),s=R(),v&&v.c(),a=R(),A&&A.c(),c=R(),$&&$.c(),E(t,"class",l="selectContainer "+e[21]+" svelte-17qb5ew"),E(t,"style",e[12]),V(t,"hasError",e[11]),V(t,"multiSelect",e[8]),V(t,"disabled",e[10]),V(t,"focused",e[4])},m(o,l){b(o,t,l),g&&g.m(t,null),y(t,n),f&&f.m(t,null),y(t,i),C.m(t,null),y(t,r),I&&I.m(t,null),y(t,s),v&&v.m(t,null),y(t,a),A&&A.m(t,null),y(t,c),$&&$.m(t,null),e[65](t),u=!0,h||(d=[B(window,"click",e[33]),B(window,"keydown",e[31]),B(window,"resize",e[30]),B(t,"click",e[34])],h=!0)},p(e,o){e[17]?g?(g.p(e,o),131072&o[0]&&we(g,1)):(g=mb(e),g.c(),we(g,1),g.m(t,n)):g&&(ye(),$e(g,1,1,(()=>{g=null})),be()),e[8]&&e[0]&&e[0].length>0?f?(f.p(e,o),257&o[0]&&we(f,1)):(f=Cb(e),f.c(),we(f,1),f.m(t,i)):f&&(ye(),$e(f,1,1,(()=>{f=null})),be()),m===(m=p(e))&&C?C.p(e,o):(C.d(1),C=m(e),C&&(C.c(),C.m(t,r))),!e[8]&&e[27]?I?(I.p(e,o),134217984&o[0]&&we(I,1)):(I=Ab(e),I.c(),we(I,1),I.m(t,s)):I&&(ye(),$e(I,1,1,(()=>{I=null})),be()),e[27]&&e[16]&&!e[10]&&!e[5]?v?(v.p(e,o),134284320&o[0]&&we(v,1)):(v=yb(e),v.c(),we(v,1),v.m(t,a)):v&&(ye(),$e(v,1,1,(()=>{v=null})),be()),e[20]||e[19]&&!e[0]||!e[14]&&!e[10]&&!e[5]&&(e[27]&&!e[16]||!e[27])?A?A.p(e,o):(A=bb(e),A.c(),A.m(t,c)):A&&(A.d(1),A=null),e[5]?$||($=Sb(),$.c(),$.m(t,null)):$&&($.d(1),$=null),(!u||2097152&o[0]&&l!==(l="selectContainer "+e[21]+" svelte-17qb5ew"))&&E(t,"class",l),(!u||4096&o[0])&&E(t,"style",e[12]),2099200&o[0]&&V(t,"hasError",e[11]),2097408&o[0]&&V(t,"multiSelect",e[8]),2098176&o[0]&&V(t,"disabled",e[10]),2097168&o[0]&&V(t,"focused",e[4])},i(e){u||(we(g),we(f),we(I),we(v),u=!0)},o(e){$e(g),$e(f),$e(I),$e(v),u=!1},d(n){n&&w(t),g&&g.d(),f&&f.d(),C.d(),I&&I.d(),v&&v.d(),A&&A.d(),$&&$.d(),e[65](null),h=!1,o(d)}}}function kb(e,t,n){let i,r;const o=ee();let s,a,c,l,u,h,d,g,{container:f}=t,{input:p}=t,{Item:m=My}=t,{Selection:C=ab}=t,{MultiSelection:I=gb}=t,{isMulti:v=!1}=t,{multiFullItemClearable:A=!1}=t,{isDisabled:y=!1}=t,{isCreatable:b=!1}=t,{isFocused:w=!1}=t,{selectedValue:$}=t,{filterText:S=""}=t,{placeholder:x="Select..."}=t,{items:k=[]}=t,{itemFilter:R=((e,t,n)=>e.toLowerCase().includes(t.toLowerCase()))}=t,{groupBy:_}=t,{groupFilter:B=(e=>e)}=t,{isGroupHeaderSelectable:E=!1}=t,{getGroupHeaderLabel:L=(e=>e.label)}=t,{getOptionLabel:W=((e,t)=>e.isCreator?`Create "${t}"`:e.label)}=t,{optionIdentifier:G="value"}=t,{loadOptions:T}=t,{hasError:M=!1}=t,{containerStyles:O=""}=t,{getSelectionLabel:N=(e=>{if(e)return e.label})}=t,{createGroupHeaderItem:H=(e=>({value:e,label:e}))}=t,{createItem:Z=(e=>({value:e,label:e}))}=t,{isSearchable:V=!0}=t,{inputStyles:P=""}=t,{isClearable:F=!0}=t,{isWaiting:K=!1}=t,{listPlacement:j="auto"}=t,{listOpen:D=!1}=t,{list:z}=t,{isVirtualList:X=!1}=t,{loadOptionsInterval:J=300}=t,{noOptionsMessage:Y="No options"}=t,{hideEmptyState:te=!1}=t,{filteredItems:ne=[]}=t,{inputAttributes:ie={}}=t,{listAutoWidth:oe=!0}=t,{itemHeight:se=40}=t,{Icon:ae}=t,{iconProps:ce={}}=t,{showChevron:le=!1}=t,{showIndicator:he=!1}=t,{containerClasses:de=""}=t,{indicatorSvg:ge}=t,{ClearIcon:fe=pb}=t;async function pe(){await ue(),n(1,S="")}let me=!1;const Ce=function(e,t,n){let i;return function(){let r=this,o=arguments,s=function(){i=null,n||e.apply(r,o)},a=n&&!i;clearTimeout(i),i=setTimeout(s,t),a&&e.apply(r,o)}}((async()=>{me=!0,n(5,K=!0);let e=await T(S).catch((e=>{console.warn("svelte-select loadOptions error :>> ",e),o("error",{type:"loadOptions",details:e})}));e&&!e.cancelled&&(e?(n(35,k=[...e]),o("loaded",{items:k})):n(35,k=[]),n(5,K=!1),n(4,w=!0),n(37,D=!0))}),J);let Ie={};function ve(){let e=!0;if($){const t=[],i=[];$.forEach((n=>{t.includes(n[G])?e=!1:(t.push(n[G]),i.push(n))})),e||n(0,$=i)}return e}function Ae(e){let t=e?e[G]:$[G];return k.find((e=>e[G]===t))}async function ye(e){if(await ue(),D)return z?z.$set({items:e}):void(T&&me&&e.length>0&&xe())}function be(e){const{detail:t}=e,i=$[t?t.i:$.length-1];1===$.length?n(0,$=void 0):n(0,$=$.filter((e=>e!==i))),o("clear",i),we()}async function we(){if(await ue(),!s||!f)return;const{top:e,height:t,width:n}=f.getBoundingClientRect();s.style["min-width"]=`${n}px`,s.style.width=""+(oe?"auto":"100%"),s.style.left="0","top"===j?s.style.bottom=`${t+5}px`:s.style.top=`${t+5}px`,s=s,"auto"===j&&function(e){const t=e.getBoundingClientRect(),n={};return n.top=t.top<0,n.left=t.left<0,n.bottom=t.bottom>(window.innerHeight||document.documentElement.clientHeight),n.right=t.right>(window.innerWidth||document.documentElement.clientWidth),n.any=n.top||n.left||n.bottom||n.right,n}(s).bottom&&(s.style.top="",s.style.bottom=`${t+5}px`),s.style.visibility=""}function $e(){n(4,w=!0),p&&p.focus()}function Se(){pe(),n(25,a=void 0),z&&(z.$destroy(),n(36,z=void 0),s&&(s.parentNode&&s.parentNode.removeChild(s),s=void 0,n(36,z),s=s))}async function xe(){if(await ue(),s&&z)return;const e={Item:m,filterText:S,optionIdentifier:G,noOptionsMessage:Y,hideEmptyState:te,isVirtualList:X,selectedValue:$,isMulti:v,getGroupHeaderLabel:L,items:ne,itemHeight:se};W&&(e.getOptionLabel=W),s=document.createElement("div"),Object.assign(s.style,{position:"absolute","z-index":2,visibility:"hidden"}),n(36,z),s=s,f&&f.appendChild(s),n(36,z=new rb({target:s,props:e})),z.$on("itemSelected",(e=>{const{detail:t}=e;if(t){const e=Object.assign({},t);e.isGroupHeader&&!e.isSelectable||(n(0,$=v?$?$.concat([e]):[e]:e),pe(),n(0,$),n(48,G),n(8,v),setTimeout((()=>{n(37,D=!1),n(25,a=void 0)})))}})),z.$on("itemCreated",(e=>{const{detail:t}=e;v?(n(0,$=$||[]),n(0,$=[...$,Z(t)])):n(0,$=Z(t)),o("itemCreated",t),n(1,S=""),n(37,D=!1),n(25,a=void 0),pe()})),z.$on("closeList",(()=>{n(37,D=!1)})),n(36,z),s=s,we()}return U((()=>{if(v&&$&&$.length>1&&ve(),!v&&$&&l!==$&&(l&&JSON.stringify($[G])===JSON.stringify(l[G])||o("select",$)),v&&JSON.stringify($)!==JSON.stringify(l)&&ve()&&o("select",$),f&&D!==u&&(D?xe():Se()),S!==h&&(S.length>0?(n(4,w=!0),n(37,D=!0),T?Ce():(xe(),n(37,D=!0),v&&n(25,a=void 0))):ye([]),z&&z.$set({filterText:S})),w!==d&&(w||D?$e():(pe(),p&&p.blur())),g!==ne){let e=[...ne];if(b&&S){const t=Z(S);t.isCreator=!0;const n=e.find((e=>e[G]===t[G]));let i;$&&(v?i=$.find((e=>e[G]===t[G])):$[G]===t[G]&&(i=$)),n||i||(e=[...e,t])}ye(e)}l=$,u=D,h=S,d=w,g=ne})),Q((()=>{w&&p.focus(),D&&xe(),k&&k.length>0&&n(60,c=JSON.stringify(k))})),q((()=>{Se()})),e.$$set=e=>{"container"in e&&n(2,f=e.container),"input"in e&&n(3,p=e.input),"Item"in e&&n(39,m=e.Item),"Selection"in e&&n(6,C=e.Selection),"MultiSelection"in e&&n(7,I=e.MultiSelection),"isMulti"in e&&n(8,v=e.isMulti),"multiFullItemClearable"in e&&n(9,A=e.multiFullItemClearable),"isDisabled"in e&&n(10,y=e.isDisabled),"isCreatable"in e&&n(40,b=e.isCreatable),"isFocused"in e&&n(4,w=e.isFocused),"selectedValue"in e&&n(0,$=e.selectedValue),"filterText"in e&&n(1,S=e.filterText),"placeholder"in e&&n(41,x=e.placeholder),"items"in e&&n(35,k=e.items),"itemFilter"in e&&n(42,R=e.itemFilter),"groupBy"in e&&n(43,_=e.groupBy),"groupFilter"in e&&n(44,B=e.groupFilter),"isGroupHeaderSelectable"in e&&n(45,E=e.isGroupHeaderSelectable),"getGroupHeaderLabel"in e&&n(46,L=e.getGroupHeaderLabel),"getOptionLabel"in e&&n(47,W=e.getOptionLabel),"optionIdentifier"in e&&n(48,G=e.optionIdentifier),"loadOptions"in e&&n(49,T=e.loadOptions),"hasError"in e&&n(11,M=e.hasError),"containerStyles"in e&&n(12,O=e.containerStyles),"getSelectionLabel"in e&&n(13,N=e.getSelectionLabel),"createGroupHeaderItem"in e&&n(50,H=e.createGroupHeaderItem),"createItem"in e&&n(51,Z=e.createItem),"isSearchable"in e&&n(14,V=e.isSearchable),"inputStyles"in e&&n(15,P=e.inputStyles),"isClearable"in e&&n(16,F=e.isClearable),"isWaiting"in e&&n(5,K=e.isWaiting),"listPlacement"in e&&n(52,j=e.listPlacement),"listOpen"in e&&n(37,D=e.listOpen),"list"in e&&n(36,z=e.list),"isVirtualList"in e&&n(53,X=e.isVirtualList),"loadOptionsInterval"in e&&n(54,J=e.loadOptionsInterval),"noOptionsMessage"in e&&n(55,Y=e.noOptionsMessage),"hideEmptyState"in e&&n(56,te=e.hideEmptyState),"filteredItems"in e&&n(38,ne=e.filteredItems),"inputAttributes"in e&&n(57,ie=e.inputAttributes),"listAutoWidth"in e&&n(58,oe=e.listAutoWidth),"itemHeight"in e&&n(59,se=e.itemHeight),"Icon"in e&&n(17,ae=e.Icon),"iconProps"in e&&n(18,ce=e.iconProps),"showChevron"in e&&n(19,le=e.showChevron),"showIndicator"in e&&n(20,he=e.showIndicator),"containerClasses"in e&&n(21,de=e.containerClasses),"indicatorSvg"in e&&n(22,ge=e.indicatorSvg),"ClearIcon"in e&&n(23,fe=e.ClearIcon)},e.$$.update=()=>{if(e.$$.dirty[0],16&e.$$.dirty[1]&&function(e){e&&0!==e.length&&!e.some((e=>"object"!=typeof e))&&$&&(v?!$.some((e=>!e||!e[G])):$[G])&&(Array.isArray($)?n(0,$=$.map((e=>Ae(e)||e))):n(0,$=Ae()||$))}(k),257&e.$$.dirty[0]|131072&e.$$.dirty[1]&&("string"==typeof $?n(0,$={[G]:$,label:$}):v&&Array.isArray($)&&$.length>0&&n(0,$=$.map((e=>"string"==typeof e?{value:e,label:e}:e)))),16777248&e.$$.dirty[1]&&Y&&z&&z.$set({noOptionsMessage:Y}),3&e.$$.dirty[0]&&n(27,i=$&&0===S.length),1&e.$$.dirty[0]|1024&e.$$.dirty[1]&&n(28,r=$?"":x),16384&e.$$.dirty[0]|67108864&e.$$.dirty[1]&&(n(26,Ie=Object.assign({autocomplete:"off",autocorrect:"off",spellcheck:!1},ie)),V||n(26,Ie.readonly=!0,Ie)),259&e.$$.dirty[0]|537884688&e.$$.dirty[1]){let e,t=k;if(k&&k.length>0&&"object"!=typeof k[0]&&(t=k.map(((e,t)=>({index:t,value:e,label:e})))),T&&0===S.length&&c?(e=JSON.parse(c),t=JSON.parse(c)):e=T?0===S.length?[]:t:t.filter((e=>{let t=!0;return v&&$&&(t=!$.some((t=>t[G]===e[G]))),!!t&&(S.length<1||R(W(e,S),S,e))})),_){const t=[],i={};e.forEach((e=>{const n=_(e);t.includes(n)||(t.push(n),i[n]=[],n&&i[n].push(Object.assign(H(n,e),{id:n,isGroupHeader:!0,isSelectable:E}))),i[n].push(Object.assign({isGroupItem:!!n},e))}));const r=[];B(t).forEach((e=>{r.push(...i[e])})),n(38,ne=r)}else n(38,ne=e)}},[$,S,f,p,w,K,C,I,v,A,y,M,O,N,V,P,F,ae,ce,le,he,de,ge,fe,function(){n(0,$=void 0),n(37,D=!1),o("clear",$),$e()},a,Ie,i,r,be,we,function(e){if(w)switch(e.key){case"ArrowDown":case"ArrowUp":e.preventDefault(),n(37,D=!0),n(25,a=void 0);break;case"Tab":D||n(4,w=!1);break;case"Backspace":if(!v||S.length>0)return;if(v&&$&&$.length>0){if(be(void 0!==a?a:$.length-1),0===a||void 0===a)break;n(25,a=$.length>a?a-1:void 0)}break;case"ArrowLeft":if(z&&z.$set({hoverItemIndex:-1}),!v||S.length>0)return;void 0===a?n(25,a=$.length-1):$.length>a&&0!==a&&n(25,a-=1);break;case"ArrowRight":if(z&&z.$set({hoverItemIndex:-1}),!v||S.length>0||void 0===a)return;a===$.length-1?n(25,a=void 0):a<$.length-1&&n(25,a+=1)}},$e,function(e){if(!f)return;const t=e.path&&e.path.length>0?e.path[0]:e.target;f.contains(t)||(n(4,w=!1),n(37,D=!1),n(25,a=void 0),p&&p.blur())},function(){y||(n(4,w=!0),n(37,D=!D))},k,z,D,ne,m,b,x,R,_,B,E,L,W,G,T,H,Z,j,X,J,Y,te,ie,oe,se,c,function(e){re[e?"unshift":"push"]((()=>{p=e,n(3,p)}))},function(){S=this.value,n(1,S)},function(e){re[e?"unshift":"push"]((()=>{p=e,n(3,p)}))},function(){S=this.value,n(1,S)},function(e){re[e?"unshift":"push"]((()=>{f=e,n(2,f)}))}]}class Rb extends Oe{constructor(e){super(),Me(this,e,kb,xb,a,{container:2,input:3,Item:39,Selection:6,MultiSelection:7,isMulti:8,multiFullItemClearable:9,isDisabled:10,isCreatable:40,isFocused:4,selectedValue:0,filterText:1,placeholder:41,items:35,itemFilter:42,groupBy:43,groupFilter:44,isGroupHeaderSelectable:45,getGroupHeaderLabel:46,getOptionLabel:47,optionIdentifier:48,loadOptions:49,hasError:11,containerStyles:12,getSelectionLabel:13,createGroupHeaderItem:50,createItem:51,isSearchable:14,inputStyles:15,isClearable:16,isWaiting:5,listPlacement:52,listOpen:37,list:36,isVirtualList:53,loadOptionsInterval:54,noOptionsMessage:55,hideEmptyState:56,filteredItems:38,inputAttributes:57,listAutoWidth:58,itemHeight:59,Icon:17,iconProps:18,showChevron:19,showIndicator:20,containerClasses:21,indicatorSvg:22,ClearIcon:23,handleClear:24},[-1,-1,-1])}get handleClear(){return this.$$.ctx[24]}}var _b=Ne(He((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const n="diff-sequences",i=(e,t,n,i,r)=>{let o=0;for(;e<t&&n<i&&r(e,n);)e+=1,n+=1,o+=1;return o},r=(e,t,n,i,r)=>{let o=0;for(;e<=t&&n<=i&&r(t,i);)t-=1,i-=1,o+=1;return o},o=(e,t,n,r,o,s,a)=>{let c=0,l=-e,u=s[c],h=u;s[c]+=i(u+1,t,r+u-l+1,n,o);const d=e<a?e:a;for(c+=1,l+=2;c<=d;c+=1,l+=2){if(c!==e&&h<s[c])u=s[c];else if(u=h+1,t<=u)return c-1;h=s[c],s[c]=u+i(u+1,t,r+u-l+1,n,o)}return a},s=(e,t,n,i,o,s,a)=>{let c=0,l=e,u=s[c],h=u;s[c]-=r(t,u-1,n,i+u-l-1,o);const d=e<a?e:a;for(c+=1,l-=2;c<=d;c+=1,l-=2){if(c!==e&&s[c]<h)u=s[c];else if(u=h-1,u<t)return c-1;h=s[c],s[c]=u-r(t,u-1,n,i+u-l-1,o)}return a},a=(e,t,n,o,s,a,c,l,u,h,d)=>{const g=o-t,f=s-o-(n-t),p=-f-(e-1),m=e-1-f;let C=0;const I=e<l?e:l;for(let l=0,v=-e;l<=I;l+=1,v+=2){const I=0===l||l!==e&&C<c[l],A=I?c[l]:C,y=I?A:A+1,b=g+y-v,w=i(y+1,n,b+1,s,a),$=y+w;if(C=c[l],c[l]=$,p<=v&&v<=m){const i=(e-1-(v+f))/2;if(i<=h&&u[i]-1<=$){const i=g+A-(I?v+1:v-1),c=r(t,A,o,i,a),l=A-c+1,u=i-c+1;d.nChangePreceding=e-1,e-1==l+u-t-o?(d.aEndPreceding=t,d.bEndPreceding=o):(d.aEndPreceding=l,d.bEndPreceding=u),d.nCommonPreceding=c,0!==c&&(d.aCommonPreceding=l,d.bCommonPreceding=u),d.nCommonFollowing=w,0!==w&&(d.aCommonFollowing=y+1,d.bCommonFollowing=b+1);const h=$+1,f=b+w+1;return d.nChangeFollowing=e-1,e-1==n+s-h-f?(d.aStartFollowing=n,d.bStartFollowing=s):(d.aStartFollowing=h,d.bStartFollowing=f),!0}}}return!1},c=(e,t,n,o,s,a,c,l,u,h,d)=>{const g=s-n,f=s-o-(n-t),p=f-e,m=f+e;let C=0;const I=e<h?e:h;for(let h=0,v=e;h<=I;h+=1,v-=2){const I=0===h||h!==e&&u[h]<C,A=I?u[h]:C,y=I?A:A-1,b=g+y-v,w=r(t,y-1,o,b-1,a),$=y-w;if(C=u[h],u[h]=$,p<=v&&v<=m){const r=(e+(v-f))/2;if(r<=l&&$-1<=c[r]){const r=b-w;if(d.nChangePreceding=e,e===$+r-t-o?(d.aEndPreceding=t,d.bEndPreceding=o):(d.aEndPreceding=$,d.bEndPreceding=r),d.nCommonPreceding=w,0!==w&&(d.aCommonPreceding=$,d.bCommonPreceding=r),d.nChangeFollowing=e-1,1===e)d.nCommonFollowing=0,d.aStartFollowing=n,d.bStartFollowing=s;else{const t=g+A-(I?v-1:v+1),r=i(A,n,t,s,a);d.nCommonFollowing=r,0!==r&&(d.aCommonFollowing=A,d.bCommonFollowing=t);const o=A+r,c=t+r;e-1==n+s-o-c?(d.aStartFollowing=n,d.bStartFollowing=s):(d.aStartFollowing=o,d.bStartFollowing=c)}return!0}}}return!1},l=(e,t,i,r,u,h,d,g,f,p)=>{if(u-r<i-t){if((h=!h)&&1===d.length){const{foundSubsequence:e,isCommon:t}=d[0];d[1]={foundSubsequence:(t,n,i)=>{e(t,i,n)},isCommon:(e,n)=>t(n,e)}}const e=t,n=i;t=r,i=u,r=e,u=n}const{foundSubsequence:m,isCommon:C}=d[h?1:0];((e,t,i,r,l,u,h,d,g)=>{const f=r-t,p=l-i,m=i-t,C=l-r,I=C-m;let v=m,A=m;if(h[0]=t-1,d[0]=i,I%2==0){const n=(e||I)/2,a=(m+C)/2;for(let e=1;e<=a;e+=1)if(v=o(e,i,l,f,u,h,v),e<n)A=s(e,t,r,p,u,d,A);else if(c(e,t,i,r,l,u,h,v,d,A,g))return}else{const n=((e||I)+1)/2,c=(m+C+1)/2;let y=1;for(v=o(y,i,l,f,u,h,v),y+=1;y<=c;y+=1)if(A=s(y-1,t,r,p,u,d,A),y<n)v=o(y,i,l,f,u,h,v);else if(a(y,t,i,r,l,u,h,v,d,A,g))return}throw new Error(`${n}: no overlap aStart=${t} aEnd=${i} bStart=${r} bEnd=${l}`)})(e,t,i,r,u,C,g,f,p);const{nChangePreceding:I,aEndPreceding:v,bEndPreceding:A,nCommonPreceding:y,aCommonPreceding:b,bCommonPreceding:w,nCommonFollowing:$,aCommonFollowing:S,bCommonFollowing:x,nChangeFollowing:k,aStartFollowing:R,bStartFollowing:_}=p;t<v&&r<A&&l(I,t,v,r,A,h,d,g,f,p),0!==y&&m(y,b,w),0!==$&&m($,S,x),R<i&&_<u&&l(k,R,i,_,u,h,d,g,f,p)},u=(e,t)=>{if("number"!=typeof t)throw new TypeError(`${n}: ${e} typeof ${typeof t} is not a number`);if(!Number.isSafeInteger(t))throw new RangeError(`${n}: ${e} value ${t} is not a safe integer`);if(t<0)throw new RangeError(`${n}: ${e} value ${t} is a negative integer`)},h=(e,t)=>{const i=typeof t;if("function"!==i)throw new TypeError(`${n}: ${e} typeof ${i} is not a function`)};t.default=(e,t,n,o)=>{u("aLength",e),u("bLength",t),h("isCommon",n),h("foundSubsequence",o);const s=i(0,e,0,t,n);if(0!==s&&o(s,0,0),e!==s||t!==s){const i=s,a=s,c=r(i,e-1,a,t-1,n),u=e-c,h=t-c,d=s+c;if(e!==d&&t!==d){l(0,i,u,a,h,!1,[{foundSubsequence:o,isCommon:n}],[0],[0],{aCommonFollowing:0,aCommonPreceding:0,aEndPreceding:0,aStartFollowing:0,bCommonFollowing:0,bCommonPreceding:0,bEndPreceding:0,bStartFollowing:0,nChangeFollowing:0,nChangePreceding:0,nCommonFollowing:0,nCommonPreceding:0})}0!==c&&o(c,u,h)}}}))),Bb=He((function(e){
/*
     * @version    1.4.0
     * @date       2015-10-26
     * @stability  3 - Stable
     * @author     Lauri Rooden (https://github.com/litejs/natural-compare-lite)
     * @license    MIT License
     */
var t=function(e,t){var n,i,r=1,o=0,s=0,a=String.alphabet;function c(e,t,i){if(i){for(n=t;(i=c(e,n))<76&&i>65;)++n;return+e.slice(t-1,n)}return(i=a&&a.indexOf(e.charAt(t)))>-1?i+76:(i=e.charCodeAt(t)||0)<45||i>127?i:i<46?65:i<48?i-1:i<58?i+18:i<65?i-11:i<91?i+11:i<97?i-37:i<123?i+5:i-63}if((e+="")!=(t+=""))for(;r;)if(i=c(e,o++),r=c(t,s++),i<76&&r<76&&i>66&&r>66&&(i=c(e,o,o),r=c(t,s,o=n),s=n),i!=r)return i<r?-1:1;return 0};try{e.exports=t}catch(e){String.naturalCompare=t}}));function Eb(e,t){const n="string"==typeof e?e.toLowerCase():e,i="string"==typeof t?t.toLowerCase():t;return Bb(n,i)}function Lb(e,t=[],n=[],i=1){const r=function(e,t){return function(n,i){const r=vi.getIn(n,e),o=vi.getIn(i,e);return void 0===r?t:void 0===o?-t:"string"!=typeof r&&"string"!=typeof o?r>o?t:r<o?-t:0:t*Eb(r,o)}}(n,i),o=vi.getIn(e,t);return[{op:"replace",path:vi.compileJSONPointer(t),value:o.slice(0).sort(r)}]}_b.default;const Wb={};function Gb(e){let t,n,i,r,o,s,a;function c(t){e[11](t)}let l={items:e[3]};return void 0!==e[1]&&(l.selectedValue=e[1]),o=new Rb({props:l}),re.push((()=>Le(o,"selectedValue",c))),{c(){t=S("tr"),n=S("th"),n.textContent="Property",i=R(),r=S("td"),We(o.$$.fragment),E(n,"class","svelte-w5wcb3"),E(r,"class","svelte-w5wcb3")},m(e,s){b(e,t,s),y(t,n),y(t,i),y(t,r),Ge(o,r,null),a=!0},p(e,t){const n={};8&t&&(n.items=e[3]),!s&&2&t&&(s=!0,n.selectedValue=e[1],de((()=>s=!1))),o.$set(n)},i(e){a||(we(o.$$.fragment,e),a=!0)},o(e){$e(o.$$.fragment,e),a=!1},d(e){e&&w(t),Te(o)}}}function Tb(e){let t,n,i,r,s,a,c,l,u,h,d,g,f,m,C,I,v,A,$,x,_,L,W,G,T,M,O,N,H,Z;n=new DA({props:{title:e[2]?"Sort array items":"Sort object keys"}});let V=e[2]&&(e[3].length>1||void 0===e[1])&&Gb(e);function P(t){e[12](t)}let F={items:e[5],containerClasses:"test-class",isClearable:!1};return void 0!==e[4]&&(F.selectedValue=e[4]),_=new Rb({props:F}),re.push((()=>Le(_,"selectedValue",P))),{c(){t=S("div"),We(n.$$.fragment),i=R(),r=S("div"),s=S("table"),a=S("colgroup"),a.innerHTML='<col width="25%"/> \n        <col width="75%"/>',c=R(),l=S("tbody"),u=S("tr"),h=S("th"),h.textContent="Path",d=R(),g=S("td"),f=S("input"),C=R(),V&&V.c(),I=R(),v=S("tr"),A=S("th"),A.textContent="Direction",$=R(),x=S("td"),We(_.$$.fragment),W=R(),G=S("div"),T=S("button"),M=k("Sort"),E(h,"class","svelte-w5wcb3"),E(f,"class","path svelte-w5wcb3"),E(f,"type","text"),f.readOnly=!0,E(f,"title","Selected path"),f.value=m=kd(e[0])?"(whole document)":$y(e[0]),E(g,"class","svelte-w5wcb3"),E(A,"class","svelte-w5wcb3"),E(x,"class","svelte-w5wcb3"),E(s,"class","svelte-w5wcb3"),E(T,"class","primary svelte-w5wcb3"),T.disabled=O=!!e[2]&&!e[1],E(G,"class","actions svelte-w5wcb3"),E(r,"class","contents svelte-w5wcb3"),E(t,"class","jsoneditor-modal sort svelte-w5wcb3")},m(o,m){b(o,t,m),Ge(n,t,null),y(t,i),y(t,r),y(r,s),y(s,a),y(s,c),y(s,l),y(l,u),y(u,h),y(u,d),y(u,g),y(g,f),y(l,C),V&&V.m(l,null),y(l,I),y(l,v),y(v,A),y(v,$),y(v,x),Ge(_,x,null),y(r,W),y(r,G),y(G,T),y(T,M),N=!0,H||(Z=[B(T,"click",e[6]),p(Mb.call(null,T))],H=!0)},p(e,[t]){const i={};4&t&&(i.title=e[2]?"Sort array items":"Sort object keys"),n.$set(i),(!N||1&t&&m!==(m=kd(e[0])?"(whole document)":$y(e[0]))&&f.value!==m)&&(f.value=m),e[2]&&(e[3].length>1||void 0===e[1])?V?(V.p(e,t),14&t&&we(V,1)):(V=Gb(e),V.c(),we(V,1),V.m(l,I)):V&&(ye(),$e(V,1,1,(()=>{V=null})),be());const r={};!L&&16&t&&(L=!0,r.selectedValue=e[4],de((()=>L=!1))),_.$set(r),(!N||6&t&&O!==(O=!!e[2]&&!e[1]))&&(T.disabled=O)},i(e){N||(we(n.$$.fragment,e),we(V),we(_.$$.fragment,e),N=!0)},o(e){$e(n.$$.fragment,e),$e(V),$e(_.$$.fragment,e),N=!1},d(e){e&&w(t),Te(n),V&&V.d(),Te(_),H=!1,o(Z)}}}function Mb(e){e.focus()}function Ob(e,t,n){let i,r,o,{id:s}=t,{json:a}=t,{selectedPath:c}=t,{onSort:l}=t;const{close:u}=ne("simple-modal"),h=`${s}:${vi.compileJSONPointer(c)}`,d=vi.getIn(a,c),g={value:1,label:"ascending"},f=[g,{value:-1,label:"descending"}];let p=Wb[h]&&Wb[h].selectedProperty||void 0,m=Wb[h]&&Wb[h].selectedDirection||g;function C(e){return{value:e,label:kd(e)?"(whole item)":$y(e)}}return e.$$set=e=>{"id"in e&&n(7,s=e.id),"json"in e&&n(8,a=e.json),"selectedPath"in e&&n(0,c=e.selectedPath),"onSort"in e&&n(9,l=e.onSort)},e.$$.update=()=>{4&e.$$.dirty&&n(10,r=i?EI(d):void 0),1024&e.$$.dirty&&n(3,o=r?r.map(C):void 0),10&e.$$.dirty&&void 0===p&&o&&1===o.length&&n(1,p=o[0])},n(2,i=Array.isArray(d)),[c,p,i,o,m,f,function(){if(Wb[h]={selectedProperty:p,selectedDirection:m},i){if(!p)return;const e=p.value,t=m.value,n=Lb(a,c,e,t);l(n)}else if(SI(d)){const e=m.value,t=function(e,t=[],n=1){const i=vi.getIn(e,t),r=Object.keys(i).slice();r.sort(((e,t)=>n*Eb(e,t)));const o=[];for(let e=0;e<r.length;e++){const n=r[e],i=vi.compileJSONPointer(t.concat(n));o.push({op:"move",from:i,path:i})}return o}(a,c,e);l(t)}else console.error("Cannot sort: no array or object");u()},s,a,l,r,function(e){p=e,n(1,p),n(3,o),n(10,r),n(2,i)},function(e){m=e,n(4,m)}]}class Nb extends Oe{constructor(e){super(),Me(this,e,Ob,Tb,c,{id:7,json:8,selectedPath:0,onSort:9})}}function Hb(e,t){const n=new Set(t),i=e.replace(/ \(copy( \d+)?\)$/,"");let r=e,o=1;for(;n.has(r);){r=`${i} (${"copy"+(o>1?" "+o:"")})`,o++}return r}const Zb={};function Vb(e){let t,n,i,r,o,s,a,c,l,u,h,d,g,f,p,m,C,I,v,A,$,x,k,_,L,W,G,T,O,N,H,Z,V,P,F;function K(t){e[16](t)}let j={containerClasses:"filter-field",items:e[6]};function D(t){e[17](t)}void 0!==e[0]&&(j.selectedValue=e[0]),a=new Rb({props:j}),re.push((()=>Le(a,"selectedValue",K)));let z={containerClasses:"filter-relation",items:e[8]};function X(t){e[19](t)}void 0!==e[1]&&(z.selectedValue=e[1]),u=new Rb({props:z}),re.push((()=>Le(u,"selectedValue",D)));let J={containerClasses:"sort-field",items:e[6]};function Y(t){e[20](t)}void 0!==e[3]&&(J.selectedValue=e[3]),A=new Rb({props:J}),re.push((()=>Le(A,"selectedValue",X)));let U={containerClasses:"sort-direction",items:e[9]};function Q(t){e[21](t)}void 0!==e[4]&&(U.selectedValue=e[4]),k=new Rb({props:U}),re.push((()=>Le(k,"selectedValue",Y)));let q={containerClasses:"pick-fields",items:e[7],isMulti:!0};return void 0!==e[5]&&(q.selectedValue=e[5]),H=new Rb({props:q}),re.push((()=>Le(H,"selectedValue",Q))),{c(){t=S("table"),n=S("tr"),i=S("th"),i.textContent="Filter",r=R(),o=S("td"),s=S("div"),We(a.$$.fragment),l=R(),We(u.$$.fragment),d=R(),g=S("input"),f=R(),p=S("tr"),m=S("th"),m.textContent="Sort",C=R(),I=S("td"),v=S("div"),We(A.$$.fragment),x=R(),We(k.$$.fragment),L=R(),W=S("tr"),G=S("th"),G.textContent="Pick",T=R(),O=S("td"),N=S("div"),We(H.$$.fragment),E(i,"class","svelte-nzxx82"),E(g,"class","filter-value svelte-nzxx82"),E(s,"class","horizontal svelte-nzxx82"),E(m,"class","svelte-nzxx82"),E(v,"class","horizontal svelte-nzxx82"),E(G,"class","svelte-nzxx82"),E(N,"class","horizontal svelte-nzxx82"),E(t,"class","transform-wizard svelte-nzxx82")},m(c,h){b(c,t,h),y(t,n),y(n,i),y(n,r),y(n,o),y(o,s),Ge(a,s,null),y(s,l),Ge(u,s,null),y(s,d),y(s,g),M(g,e[2]),y(t,f),y(t,p),y(p,m),y(p,C),y(p,I),y(I,v),Ge(A,v,null),y(v,x),Ge(k,v,null),y(t,L),y(t,W),y(W,G),y(W,T),y(W,O),y(O,N),Ge(H,N,null),V=!0,P||(F=B(g,"input",e[18]),P=!0)},p(e,[t]){const n={};64&t&&(n.items=e[6]),!c&&1&t&&(c=!0,n.selectedValue=e[0],de((()=>c=!1))),a.$set(n);const i={};!h&&2&t&&(h=!0,i.selectedValue=e[1],de((()=>h=!1))),u.$set(i),4&t&&g.value!==e[2]&&M(g,e[2]);const r={};64&t&&(r.items=e[6]),!$&&8&t&&($=!0,r.selectedValue=e[3],de((()=>$=!1))),A.$set(r);const o={};!_&&16&t&&(_=!0,o.selectedValue=e[4],de((()=>_=!1))),k.$set(o);const s={};128&t&&(s.items=e[7]),!Z&&32&t&&(Z=!0,s.selectedValue=e[5],de((()=>Z=!1))),H.$set(s)},i(e){V||(we(a.$$.fragment,e),we(u.$$.fragment,e),we(A.$$.fragment,e),we(k.$$.fragment,e),we(H.$$.fragment,e),V=!0)},o(e){$e(a.$$.fragment,e),$e(u.$$.fragment,e),$e(A.$$.fragment,e),$e(k.$$.fragment,e),$e(H.$$.fragment,e),V=!1},d(e){e&&w(t),Te(a),Te(u),Te(A),Te(k),Te(H),P=!1,F()}}}function Pb(e,t,n){let i,r,o,s,a,{json:c}=t,{onQuery:l}=t,{filterField:u}=t,{filterRelation:h}=t,{filterValue:d}=t,{sortField:g}=t,{sortDirection:f}=t,{pickFields:p}=t;const m=["==","!=","<","<=",">",">="].map((e=>({value:e,label:e})));function C(e){return{value:e,label:kd(e)?"(whole item)":$y(e)}}let I={};return e.$$set=e=>{"json"in e&&n(10,c=e.json),"onQuery"in e&&n(11,l=e.onQuery),"filterField"in e&&n(0,u=e.filterField),"filterRelation"in e&&n(1,h=e.filterRelation),"filterValue"in e&&n(2,d=e.filterValue),"sortField"in e&&n(3,g=e.sortField),"sortDirection"in e&&n(4,f=e.sortDirection),"pickFields"in e&&n(5,p=e.pickFields)},e.$$.update=()=>{if(1024&e.$$.dirty&&n(13,i=Array.isArray(c)),9216&e.$$.dirty&&n(14,r=i?EI(c):void 0),9216&e.$$.dirty&&n(15,o=i?EI(c,!0):void 0),16384&e.$$.dirty&&n(6,s=r?r.map(C):void 0),32768&e.$$.dirty&&n(7,a=o?o.map(C):void 0),7231&e.$$.dirty){const e={};if(u&&h&&d&&(e.filter={field:u.value,relation:h.value,value:d}),g&&f&&(e.sort={field:g.value,direction:f.value}),p&&(e.projection={fields:p.map((e=>e.value))}),!Rd(e,I)){n(12,I=e);const t=function(e,t){console.log("createQuery",t);const{filter:n,sort:i,projection:r}=t,o=[];if(n){const e=kd(n.field)?"item => item":`item => _.get(item, ${JSON.stringify(n.field)})`;o.push(`  data = data.filter(${e} ${n.relation} '${n.value}')\n`)}if(i&&o.push(`  data = _.orderBy(data, ${JSON.stringify(i.field)}, '${i.direction}')\n`),r)if(r.fields.length>1){const e=r.fields.map((e=>{const t=Su(e)||"item",n=kd(e)?"item":`_.get(item, ${JSON.stringify(e)})`;return`    ${JSON.stringify(t)}: ${n}`}));o.push(`  data = data.map(item => ({\n${e.join(",\n")}})\n  )\n`)}else{const e=r.fields[0],t=kd(e)?"item":`_.get(item, ${JSON.stringify(e)})`;o.push(`  data = data.map(item => ${t})\n`)}return o.push("  return data\n"),`function query (data) {\n${o.join("")}}`}(0,I);l(t)}}},[u,h,d,g,f,p,s,a,m,[{value:"asc",label:"ascending"},{value:"desc",label:"descending"}],c,l,I,i,r,o,function(e){u=e,n(0,u)},function(e){h=e,n(1,h)},function(){d=this.value,n(2,d)},function(e){g=e,n(3,g)},function(e){f=e,n(4,f)},function(e){p=e,n(5,p)}]}class Fb extends Oe{constructor(e){super(),Me(this,e,Pb,Vb,c,{json:10,onQuery:11,filterField:0,filterRelation:1,filterValue:2,sortField:3,sortDirection:4,pickFields:5})}}function Kb(e){let t,n,i,r,o;const s=[Db,jb],a=[];function c(e,n){return 4&n[0]&&(t=!!Array.isArray(e[2])),t?0:1}return n=c(e,[-1]),i=a[n]=s[n](e),{c(){i.c(),r=_()},m(e,t){a[n].m(e,t),b(e,r,t),o=!0},p(e,t){let o=n;n=c(e,t),n===o?a[n].p(e,t):(ye(),$e(a[o],1,1,(()=>{a[o]=null})),be(),i=a[n],i?i.p(e,t):(i=a[n]=s[n](e),i.c()),we(i,1),i.m(r.parentNode,r))},i(e){o||(we(i),o=!0)},o(e){$e(i),o=!1},d(e){a[n].d(e),e&&w(r)}}}function jb(t){let n;return{c(){n=k("(Only available for arrays, not for objects)")},m(e,t){b(e,n,t)},p:e,i:e,o:e,d(e){e&&w(n)}}}function Db(e){let t,n,i,r,o,s,a,c;function l(t){e[19](t)}function u(t){e[20](t)}function h(t){e[21](t)}function d(t){e[22](t)}function g(t){e[23](t)}function f(t){e[24](t)}let p={json:e[2],onQuery:e[12]};return void 0!==e[6]&&(p.filterField=e[6]),void 0!==e[7]&&(p.filterRelation=e[7]),void 0!==e[8]&&(p.filterValue=e[8]),void 0!==e[9]&&(p.sortField=e[9]),void 0!==e[10]&&(p.sortDirection=e[10]),void 0!==e[11]&&(p.pickFields=e[11]),t=new Fb({props:p}),re.push((()=>Le(t,"filterField",l))),re.push((()=>Le(t,"filterRelation",u))),re.push((()=>Le(t,"filterValue",h))),re.push((()=>Le(t,"sortField",d))),re.push((()=>Le(t,"sortDirection",g))),re.push((()=>Le(t,"pickFields",f))),{c(){We(t.$$.fragment)},m(e,n){Ge(t,e,n),c=!0},p(e,c){const l={};4&c[0]&&(l.json=e[2]),!n&&64&c[0]&&(n=!0,l.filterField=e[6],de((()=>n=!1))),!i&&128&c[0]&&(i=!0,l.filterRelation=e[7],de((()=>i=!1))),!r&&256&c[0]&&(r=!0,l.filterValue=e[8],de((()=>r=!1))),!o&&512&c[0]&&(o=!0,l.sortField=e[9],de((()=>o=!1))),!s&&1024&c[0]&&(s=!0,l.sortDirection=e[10],de((()=>s=!1))),!a&&2048&c[0]&&(a=!0,l.pickFields=e[11],de((()=>a=!1))),t.$set(l)},i(e){c||(we(t.$$.fragment,e),c=!0)},o(e){$e(t.$$.fragment,e),c=!1},d(e){Te(t,e)}}}function zb(e){let t,n,i,r,s,a,c,l,u,h,d,g,f,m,C,I,v,A,$,x,_,L,W,G,T,O,N,H,Z,P,F,K,j;n=new DA({props:{title:"Transform"}}),I=new AA({props:{data:e[5]?Xn:Jn}});let D=e[5]&&Kb(e);return{c(){t=S("div"),We(n.$$.fragment),i=R(),r=S("div"),s=S("div"),s.textContent="Enter a JavaScript function to filter, sort, or transform the data.",a=R(),c=S("div"),c.innerHTML='You can use <a href="https://lodash.com" target="_blank" rel="noopener noreferrer">Lodash</a>\n      functions like <code class="svelte-u7exnm">_.map</code>, <code class="svelte-u7exnm">_.filter</code>,\n      <code class="svelte-u7exnm">_.orderBy</code>, <code class="svelte-u7exnm">_.sortBy</code>, <code class="svelte-u7exnm">_.groupBy</code>,\n      <code class="svelte-u7exnm">_.pick</code>, <code class="svelte-u7exnm">_.uniq</code>, <code class="svelte-u7exnm">_.get</code>, etcetera.',l=R(),u=S("div"),u.textContent="Path",h=R(),d=S("input"),f=R(),m=S("div"),C=S("button"),We(I.$$.fragment),v=k("\n        Wizard"),A=R(),D&&D.c(),$=R(),x=S("div"),x.textContent="Query",_=R(),L=S("textarea"),W=R(),G=S("div"),G.textContent="Preview",T=R(),O=S("textarea"),N=R(),H=S("div"),Z=S("button"),P=k("Transform"),E(s,"class","description svelte-u7exnm"),E(c,"class","description svelte-u7exnm"),E(u,"class","label svelte-u7exnm"),E(d,"class","path svelte-u7exnm"),E(d,"type","text"),d.readOnly=!0,E(d,"title","Selected path"),d.value=g=kd(e[0])?"(whole document)":$y(e[0]),E(C,"class","svelte-u7exnm"),E(m,"class","label svelte-u7exnm"),E(x,"class","label svelte-u7exnm"),E(L,"class","query svelte-u7exnm"),E(G,"class","label svelte-u7exnm"),E(O,"class","preview svelte-u7exnm"),O.readOnly=!0,V(O,"error",e[3]),E(Z,"class","primary svelte-u7exnm"),Z.disabled=e[3],E(H,"class","actions svelte-u7exnm"),E(r,"class","contents svelte-u7exnm"),E(t,"class","jsoneditor-modal transform svelte-u7exnm")},m(o,g){b(o,t,g),Ge(n,t,null),y(t,i),y(t,r),y(r,s),y(r,a),y(r,c),y(r,l),y(r,u),y(r,h),y(r,d),y(r,f),y(r,m),y(m,C),Ge(I,C,null),y(C,v),y(r,A),D&&D.m(r,null),y(r,$),y(r,x),y(r,_),y(r,L),M(L,e[1]),y(r,W),y(r,G),y(r,T),y(r,O),M(O,e[4]),y(r,N),y(r,H),y(H,Z),y(Z,P),F=!0,K||(j=[B(C,"click",e[14]),B(L,"input",e[25]),B(O,"input",e[26]),B(Z,"click",e[13]),p(Xb.call(null,Z))],K=!0)},p(e,t){(!F||1&t[0]&&g!==(g=kd(e[0])?"(whole document)":$y(e[0]))&&d.value!==g)&&(d.value=g);const n={};32&t[0]&&(n.data=e[5]?Xn:Jn),I.$set(n),e[5]?D?(D.p(e,t),32&t[0]&&we(D,1)):(D=Kb(e),D.c(),we(D,1),D.m(r,$)):D&&(ye(),$e(D,1,1,(()=>{D=null})),be()),2&t[0]&&M(L,e[1]),16&t[0]&&M(O,e[4]),8&t[0]&&V(O,"error",e[3]),(!F||8&t[0])&&(Z.disabled=e[3])},i(e){F||(we(n.$$.fragment,e),we(I.$$.fragment,e),we(D),F=!0)},o(e){$e(n.$$.fragment,e),$e(I.$$.fragment,e),$e(D),F=!1},d(e){e&&w(t),Te(n),Te(I),D&&D.d(),K=!1,o(j)}}}function Xb(e){e.focus()}function Jb(e,t,n){let i,{id:r}=t,{json:o}=t,{selectedPath:s}=t,{onTransform:a}=t,{indentation:c=2}=t;const{close:l}=ne("simple-modal"),u=`${r}:${vi.compileJSONPointer(s)}`,h=Zb[u]||{};let d=h.query||"function query (data) {\n  return data\n}",g=!1,f="",p=!1!==Zb.showWizard,m=h.filterField||null,C=h.filterRelation||null,I=h.filterValue||null,v=h.sortField||null,A=h.sortDirection||null,y=h.pickFields||null;function b(e,t){return new Function("_",`'use strict'; return (${t})`)(YC)(e)}const w=su((function(e,t){try{const i=b(e,t);n(4,f=function(e,t){const n=t-"...".length;return e.length>t?e.substr(0,n)+"...":e}(JSON.stringify(i,null,c),2e4)),n(3,g=!1)}catch(e){n(4,f=e.toString()),n(3,g=!0)}}),300);return e.$$set=e=>{"id"in e&&n(15,r=e.id),"json"in e&&n(16,o=e.json),"selectedPath"in e&&n(0,s=e.selectedPath),"onTransform"in e&&n(17,a=e.onTransform),"indentation"in e&&n(18,c=e.indentation)},e.$$.update=()=>{65537&e.$$.dirty[0]&&n(2,i=vi.getIn(o,s)),6&e.$$.dirty[0]&&w(i,d)},[s,d,i,g,f,p,m,C,I,v,A,y,function(e){console.log("updated query by wizard",e),n(1,d=e)},function(){try{const e=b(i,d);a([{op:"replace",path:vi.compileJSONPointer(s),value:e}]),Zb[u]={query:d,filterField:m,filterRelation:C,filterValue:I,sortField:v,sortDirection:A,pickFields:y},l()}catch(e){console.error(e),n(4,f=e.toString()),n(3,g=!0)}},function(){n(5,p=!p),Zb.showWizard=p},r,o,a,c,function(e){m=e,n(6,m)},function(e){C=e,n(7,C)},function(e){I=e,n(8,I)},function(e){v=e,n(9,v)},function(e){A=e,n(10,A)},function(e){y=e,n(11,y)},function(){d=this.value,n(1,d)},function(){f=this.value,n(4,f)}]}class Yb extends Oe{constructor(e){super(),Me(this,e,Jb,zb,c,{id:15,json:16,selectedPath:0,onTransform:17,indentation:18},[-1,-1])}}var Ub=He((function(e,t){!function(){var e=function(){return this}();e||"undefined"==typeof window||(e=window);var t=function(e,n,i){"string"==typeof e?(2==arguments.length&&(i=n),t.modules[e]||(t.payloads[e]=i,t.modules[e]=null)):t.original?t.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace())};t.modules={},t.payloads={};var n=function(e,t,n){if("string"==typeof t){var r=o(e,t);if(null!=r)return n&&n(),r}else if("[object Array]"===Object.prototype.toString.call(t)){for(var s=[],a=0,c=t.length;a<c;++a){var l=o(e,t[a]);if(null==l&&i.original)return;s.push(l)}return n&&n.apply(null,s)||!0}},i=function(e,t){var r=n("",e,t);return null==r&&i.original?i.original.apply(this,arguments):r},r=function(e,t){if(-1!==t.indexOf("!")){var n=t.split("!");return r(e,n[0])+"!"+r(e,n[1])}if("."==t.charAt(0))for(t=e.split("/").slice(0,-1).join("/")+"/"+t;-1!==t.indexOf(".")&&i!=t;){var i=t;t=t.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}return t},o=function(e,i){i=r(e,i);var o=t.modules[i];if(!o){if("function"==typeof(o=t.payloads[i])){var s={},a={id:i,uri:"",exports:s,packaged:!0};s=o((function(e,t){return n(i,e,t)}),s,a)||a.exports,t.modules[i]=s,delete t.payloads[i]}o=t.modules[i]=s||o}return o};!function(n){var r=e;n&&(e[n]||(e[n]={}),r=e[n]),r.define&&r.define.packaged||(t.original=r.define,r.define=t,r.define.packaged=!0),r.require&&r.require.packaged||(i.original=r.require,r.require=i,r.require.packaged=!0)}("ace")}(),ace.define("ace/lib/fixoldbrowsers",["require","exports","module"],(function(e,t,n){"undefined"==typeof Element||Element.prototype.remove||Object.defineProperty(Element.prototype,"remove",{enumerable:!1,writable:!0,configurable:!0,value:function(){this.parentNode&&this.parentNode.removeChild(this)}})})),ace.define("ace/lib/useragent",["require","exports","module"],(function(e,t,n){t.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},t.getOS=function(){return t.isMac?t.OS.MAC:t.isLinux?t.OS.LINUX:t.OS.WINDOWS};var i="object"==typeof navigator?navigator:{},r=(/mac|win|linux/i.exec(i.platform)||["other"])[0].toLowerCase(),o=i.userAgent||"",s=i.appName||"";t.isWin="win"==r,t.isMac="mac"==r,t.isLinux="linux"==r,t.isIE="Microsoft Internet Explorer"==s||s.indexOf("MSAppHost")>=0?parseFloat((o.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((o.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),t.isOldIE=t.isIE&&t.isIE<9,t.isGecko=t.isMozilla=o.match(/ Gecko\/\d+/),t.isOpera="object"==typeof opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),t.isWebKit=parseFloat(o.split("WebKit/")[1])||void 0,t.isChrome=parseFloat(o.split(" Chrome/")[1])||void 0,t.isEdge=parseFloat(o.split(" Edge/")[1])||void 0,t.isAIR=o.indexOf("AdobeAIR")>=0,t.isAndroid=o.indexOf("Android")>=0,t.isChromeOS=o.indexOf(" CrOS ")>=0,t.isIOS=/iPad|iPhone|iPod/.test(o)&&!window.MSStream,t.isIOS&&(t.isMac=!0),t.isMobile=t.isIOS||t.isAndroid})),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],(function(e,t,n){var i=e("./useragent");if(t.buildDom=function e(t,n,i){if("string"==typeof t&&t){var r=document.createTextNode(t);return n&&n.appendChild(r),r}if(!Array.isArray(t))return t&&t.appendChild&&n&&n.appendChild(t),t;if("string"!=typeof t[0]||!t[0]){for(var o=[],s=0;s<t.length;s++){var a=e(t[s],n,i);a&&o.push(a)}return o}var c=document.createElement(t[0]),l=t[1],u=1;l&&"object"==typeof l&&!Array.isArray(l)&&(u=2);for(s=u;s<t.length;s++)e(t[s],c,i);return 2==u&&Object.keys(l).forEach((function(e){var t=l[e];"class"===e?c.className=Array.isArray(t)?t.join(" "):t:"function"==typeof t||"value"==e||"$"==e[0]?c[e]=t:"ref"===e?i&&(i[t]=c):null!=t&&c.setAttribute(e,t)})),n&&n.appendChild(c),c},t.getDocumentHead=function(e){return e||(e=document),e.head||e.getElementsByTagName("head")[0]||e.documentElement},t.createElement=function(e,t){return document.createElementNS?document.createElementNS(t||"http://www.w3.org/1999/xhtml",e):document.createElement(e)},t.removeChildren=function(e){e.innerHTML=""},t.createTextNode=function(e,t){return(t?t.ownerDocument:document).createTextNode(e)},t.createFragment=function(e){return(e?e.ownerDocument:document).createDocumentFragment()},t.hasCssClass=function(e,t){return-1!==(e.className+"").split(/\s+/g).indexOf(t)},t.addCssClass=function(e,n){t.hasCssClass(e,n)||(e.className+=" "+n)},t.removeCssClass=function(e,t){for(var n=e.className.split(/\s+/g);;){var i=n.indexOf(t);if(-1==i)break;n.splice(i,1)}e.className=n.join(" ")},t.toggleCssClass=function(e,t){for(var n=e.className.split(/\s+/g),i=!0;;){var r=n.indexOf(t);if(-1==r)break;i=!1,n.splice(r,1)}return i&&n.push(t),e.className=n.join(" "),i},t.setCssClass=function(e,n,i){i?t.addCssClass(e,n):t.removeCssClass(e,n)},t.hasCssString=function(e,t){var n,i=0;if(n=(t=t||document).querySelectorAll("style"))for(;i<n.length;)if(n[i++].id===e)return!0},t.importCssString=function(e,n,i){var r=i;i&&i.getRootNode&&(r=i.getRootNode())&&r!=i||(r=document);var o=r.ownerDocument||r;if(n&&t.hasCssString(n,r))return null;n&&(e+="\n/*# sourceURL=ace/css/"+n+" */");var s=t.createElement("style");s.appendChild(o.createTextNode(e)),n&&(s.id=n),r==o&&(r=t.getDocumentHead(o)),r.insertBefore(s,r.firstChild)},t.importCssStylsheet=function(e,n){t.buildDom(["link",{rel:"stylesheet",href:e}],t.getDocumentHead(n))},t.scrollbarWidth=function(e){var n=t.createElement("ace_inner");n.style.width="100%",n.style.minWidth="0px",n.style.height="200px",n.style.display="block";var i=t.createElement("ace_outer"),r=i.style;r.position="absolute",r.left="-10000px",r.overflow="hidden",r.width="200px",r.minWidth="0px",r.height="150px",r.display="block",i.appendChild(n);var o=e.documentElement;o.appendChild(i);var s=n.offsetWidth;r.overflow="scroll";var a=n.offsetWidth;return s==a&&(a=i.clientWidth),o.removeChild(i),s-a},"undefined"==typeof document&&(t.importCssString=function(){}),t.computedStyle=function(e,t){return window.getComputedStyle(e,"")||{}},t.setStyle=function(e,t,n){e[t]!==n&&(e[t]=n)},t.HAS_CSS_ANIMATION=!1,t.HAS_CSS_TRANSFORMS=!1,t.HI_DPI=!i.isWin||"undefined"!=typeof window&&window.devicePixelRatio>=1.5,"undefined"!=typeof document){var r=document.createElement("div");t.HI_DPI&&void 0!==r.style.transform&&(t.HAS_CSS_TRANSFORMS=!0),i.isEdge||void 0===r.style.animationName||(t.HAS_CSS_ANIMATION=!0),r=null}t.HAS_CSS_TRANSFORMS?t.translate=function(e,t,n){e.style.transform="translate("+Math.round(t)+"px, "+Math.round(n)+"px)"}:t.translate=function(e,t,n){e.style.top=Math.round(n)+"px",e.style.left=Math.round(t)+"px"}})),ace.define("ace/lib/oop",["require","exports","module"],(function(e,t,n){t.inherits=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})},t.mixin=function(e,t){for(var n in t)e[n]=t[n];return e},t.implement=function(e,n){t.mixin(e,n)}})),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],(function(e,t,n){var i=e("./oop"),r=function(){var e,t,n={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};for(t in n.FUNCTION_KEYS)e=n.FUNCTION_KEYS[t].toLowerCase(),n[e]=parseInt(t,10);for(t in n.PRINTABLE_KEYS)e=n.PRINTABLE_KEYS[t].toLowerCase(),n[e]=parseInt(t,10);return i.mixin(n,n.MODIFIER_KEYS),i.mixin(n,n.PRINTABLE_KEYS),i.mixin(n,n.FUNCTION_KEYS),n.enter=n.return,n.escape=n.esc,n.del=n.delete,n[173]="-",function(){for(var e=["cmd","ctrl","alt","shift"],t=Math.pow(2,e.length);t--;)n.KEY_MODS[t]=e.filter((function(e){return t&n.KEY_MODS[e]})).join("-")+"-"}(),n.KEY_MODS[0]="",n.KEY_MODS[-1]="input-",n}();i.mixin(t,r),t.keyCodeToString=function(e){var t=r[e];return"string"!=typeof t&&(t=String.fromCharCode(e)),t.toLowerCase()}})),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],(function(e,t,n){var i,r=e("./keys"),o=e("./useragent"),s=null,a=0;function c(){return null==i&&function(){i=!1;try{document.createComment("").addEventListener("test",(function(){}),{get passive(){i={passive:!1}}})}catch(e){}}(),i}function l(e,t,n){this.elem=e,this.type=t,this.callback=n}l.prototype.destroy=function(){h(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var u=t.addListener=function(e,t,n,i){e.addEventListener(t,n,c()),i&&i.$toDestroy.push(new l(e,t,n))},h=t.removeListener=function(e,t,n){e.removeEventListener(t,n,c())};t.stopEvent=function(e){return t.stopPropagation(e),t.preventDefault(e),!1},t.stopPropagation=function(e){e.stopPropagation&&e.stopPropagation()},t.preventDefault=function(e){e.preventDefault&&e.preventDefault()},t.getButton=function(e){return"dblclick"==e.type?0:"contextmenu"==e.type||o.isMac&&e.ctrlKey&&!e.altKey&&!e.shiftKey?2:e.button},t.capture=function(e,t,n){var i=e&&e.ownerDocument||document;function r(e){t&&t(e),n&&n(e),h(i,"mousemove",t),h(i,"mouseup",r),h(i,"dragstart",r)}return u(i,"mousemove",t),u(i,"mouseup",r),u(i,"dragstart",r),r},t.addMouseWheelListener=function(e,t,n){"onmousewheel"in e?u(e,"mousewheel",(function(e){void 0!==e.wheelDeltaX?(e.wheelX=-e.wheelDeltaX/8,e.wheelY=-e.wheelDeltaY/8):(e.wheelX=0,e.wheelY=-e.wheelDelta/8),t(e)}),n):"onwheel"in e?u(e,"wheel",(function(e){switch(e.deltaMode){case e.DOM_DELTA_PIXEL:e.wheelX=.35*e.deltaX||0,e.wheelY=.35*e.deltaY||0;break;case e.DOM_DELTA_LINE:case e.DOM_DELTA_PAGE:e.wheelX=5*(e.deltaX||0),e.wheelY=5*(e.deltaY||0)}t(e)}),n):u(e,"DOMMouseScroll",(function(e){e.axis&&e.axis==e.HORIZONTAL_AXIS?(e.wheelX=5*(e.detail||0),e.wheelY=0):(e.wheelX=0,e.wheelY=5*(e.detail||0)),t(e)}),n)},t.addMultiMouseDownListener=function(e,n,i,r,s){var a,c,l,h=0,d={2:"dblclick",3:"tripleclick",4:"quadclick"};function g(e){if(0!==t.getButton(e)?h=0:e.detail>1?++h>4&&(h=1):h=1,o.isIE){var s=Math.abs(e.clientX-a)>5||Math.abs(e.clientY-c)>5;l&&!s||(h=1),l&&clearTimeout(l),l=setTimeout((function(){l=null}),n[h-1]||600),1==h&&(a=e.clientX,c=e.clientY)}if(e._clicks=h,i[r]("mousedown",e),h>4)h=0;else if(h>1)return i[r](d[h],e)}Array.isArray(e)||(e=[e]),e.forEach((function(e){u(e,"mousedown",g,s)}))};var d=function(e){return 0|(e.ctrlKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.metaKey?8:0)};function g(e,t,n){var i=d(t);if(!o.isMac&&s){if(t.getModifierState&&(t.getModifierState("OS")||t.getModifierState("Win"))&&(i|=8),s.altGr){if(3==(3&i))return;s.altGr=0}if(18===n||17===n){var c="location"in t?t.location:t.keyLocation;if(17===n&&1===c)1==s[n]&&(a=t.timeStamp);else if(18===n&&3===i&&2===c){t.timeStamp-a<50&&(s.altGr=!0)}}}if((n in r.MODIFIER_KEYS&&(n=-1),!i&&13===n)&&(3===(c="location"in t?t.location:t.keyLocation)&&(e(t,i,-n),t.defaultPrevented)))return;if(o.isChromeOS&&8&i){if(e(t,i,n),t.defaultPrevented)return;i&=-9}return!!(i||n in r.FUNCTION_KEYS||n in r.PRINTABLE_KEYS)&&e(t,i,n)}function f(){s=Object.create(null)}if(t.getModifierString=function(e){return r.KEY_MODS[d(e)]},t.addCommandKeyListener=function(e,n,i){if(o.isOldGecko||o.isOpera&&!("KeyboardEvent"in window)){var r=null;u(e,"keydown",(function(e){r=e.keyCode}),i),u(e,"keypress",(function(e){return g(n,e,r)}),i)}else{var a=null;u(e,"keydown",(function(e){s[e.keyCode]=(s[e.keyCode]||0)+1;var t=g(n,e,e.keyCode);return a=e.defaultPrevented,t}),i),u(e,"keypress",(function(e){a&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)&&(t.stopEvent(e),a=null)}),i),u(e,"keyup",(function(e){s[e.keyCode]=null}),i),s||(f(),u(window,"focus",f))}},"object"==typeof window&&window.postMessage&&!o.isOldIE){var p=1;t.nextTick=function(e,n){n=n||window;var i="zero-timeout-message-"+p++,r=function(o){o.data==i&&(t.stopPropagation(o),h(n,"message",r),e())};u(n,"message",r),n.postMessage(i,"*")}}t.$idleBlocked=!1,t.onIdle=function(e,n){return setTimeout((function n(){t.$idleBlocked?setTimeout(n,100):e()}),n)},t.$idleBlockId=null,t.blockIdle=function(e){t.$idleBlockId&&clearTimeout(t.$idleBlockId),t.$idleBlocked=!0,t.$idleBlockId=setTimeout((function(){t.$idleBlocked=!1}),e||100)},t.nextFrame="object"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),t.nextFrame?t.nextFrame=t.nextFrame.bind(window):t.nextFrame=function(e){setTimeout(e,17)}})),ace.define("ace/range",["require","exports","module"],(function(e,t,n){var i=function(e,t,n,i){this.start={row:e,column:t},this.end={row:n,column:i}};(function(){this.isEqual=function(e){return this.start.row===e.start.row&&this.end.row===e.end.row&&this.start.column===e.start.column&&this.end.column===e.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(e,t){return 0==this.compare(e,t)},this.compareRange=function(e){var t,n=e.end,i=e.start;return 1==(t=this.compare(n.row,n.column))?1==(t=this.compare(i.row,i.column))?2:0==t?1:0:-1==t?-2:-1==(t=this.compare(i.row,i.column))?-1:1==t?42:0},this.comparePoint=function(e){return this.compare(e.row,e.column)},this.containsRange=function(e){return 0==this.comparePoint(e.start)&&0==this.comparePoint(e.end)},this.intersects=function(e){var t=this.compareRange(e);return-1==t||0==t||1==t},this.isEnd=function(e,t){return this.end.row==e&&this.end.column==t},this.isStart=function(e,t){return this.start.row==e&&this.start.column==t},this.setStart=function(e,t){"object"==typeof e?(this.start.column=e.column,this.start.row=e.row):(this.start.row=e,this.start.column=t)},this.setEnd=function(e,t){"object"==typeof e?(this.end.column=e.column,this.end.row=e.row):(this.end.row=e,this.end.column=t)},this.inside=function(e,t){return 0==this.compare(e,t)&&(!this.isEnd(e,t)&&!this.isStart(e,t))},this.insideStart=function(e,t){return 0==this.compare(e,t)&&!this.isEnd(e,t)},this.insideEnd=function(e,t){return 0==this.compare(e,t)&&!this.isStart(e,t)},this.compare=function(e,t){return this.isMultiLine()||e!==this.start.row?e<this.start.row?-1:e>this.end.row?1:this.start.row===e?t>=this.start.column?0:-1:this.end.row===e?t<=this.end.column?0:1:0:t<this.start.column?-1:t>this.end.column?1:0},this.compareStart=function(e,t){return this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.compareEnd=function(e,t){return this.end.row==e&&this.end.column==t?1:this.compare(e,t)},this.compareInside=function(e,t){return this.end.row==e&&this.end.column==t?1:this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.clipRows=function(e,t){if(this.end.row>t)var n={row:t+1,column:0};else if(this.end.row<e)n={row:e,column:0};if(this.start.row>t)var r={row:t+1,column:0};else if(this.start.row<e)r={row:e,column:0};return i.fromPoints(r||this.start,n||this.end)},this.extend=function(e,t){var n=this.compare(e,t);if(0==n)return this;if(-1==n)var r={row:e,column:t};else var o={row:e,column:t};return i.fromPoints(r||this.start,o||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return i.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new i(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new i(this.start.row,0,this.end.row,0)},this.toScreenRange=function(e){var t=e.documentToScreenPosition(this.start),n=e.documentToScreenPosition(this.end);return new i(t.row,t.column,n.row,n.column)},this.moveBy=function(e,t){this.start.row+=e,this.start.column+=t,this.end.row+=e,this.end.column+=t}}).call(i.prototype),i.fromPoints=function(e,t){return new i(e.row,e.column,t.row,t.column)},i.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},i.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},t.Range=i})),ace.define("ace/lib/lang",["require","exports","module"],(function(e,t,n){t.last=function(e){return e[e.length-1]},t.stringReverse=function(e){return e.split("").reverse().join("")},t.stringRepeat=function(e,t){for(var n="";t>0;)1&t&&(n+=e),(t>>=1)&&(e+=e);return n};var i=/^\s\s*/,r=/\s\s*$/;t.stringTrimLeft=function(e){return e.replace(i,"")},t.stringTrimRight=function(e){return e.replace(r,"")},t.copyObject=function(e){var t={};for(var n in e)t[n]=e[n];return t},t.copyArray=function(e){for(var t=[],n=0,i=e.length;n<i;n++)e[n]&&"object"==typeof e[n]?t[n]=this.copyObject(e[n]):t[n]=e[n];return t},t.deepCopy=function e(t){if("object"!=typeof t||!t)return t;var n;if(Array.isArray(t)){n=[];for(var i=0;i<t.length;i++)n[i]=e(t[i]);return n}if("[object Object]"!==Object.prototype.toString.call(t))return t;for(var i in n={},t)n[i]=e(t[i]);return n},t.arrayToMap=function(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=1;return t},t.createMap=function(e){var t=Object.create(null);for(var n in e)t[n]=e[n];return t},t.arrayRemove=function(e,t){for(var n=0;n<=e.length;n++)t===e[n]&&e.splice(n,1)},t.escapeRegExp=function(e){return e.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},t.escapeHTML=function(e){return(""+e).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},t.getMatchOffsets=function(e,t){var n=[];return e.replace(t,(function(e){n.push({offset:arguments[arguments.length-2],length:e.length})})),n},t.deferredCall=function(e){var t=null,n=function(){t=null,e()},i=function(e){return i.cancel(),t=setTimeout(n,e||0),i};return i.schedule=i,i.call=function(){return this.cancel(),e(),i},i.cancel=function(){return clearTimeout(t),t=null,i},i.isPending=function(){return t},i},t.delayedCall=function(e,t){var n=null,i=function(){n=null,e()},r=function(e){null==n&&(n=setTimeout(i,e||t))};return r.delay=function(e){n&&clearTimeout(n),n=setTimeout(i,e||t)},r.schedule=r,r.call=function(){this.cancel(),e()},r.cancel=function(){n&&clearTimeout(n),n=null},r.isPending=function(){return n},r}})),ace.define("ace/clipboard",["require","exports","module"],(function(e,t,n){var i;n.exports={lineMode:!1,pasteCancelled:function(){return!!(i&&i>Date.now()-50)||(i=!1)},cancel:function(){i=Date.now()}}})),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],(function(e,t,n){var i=e("../lib/event"),r=e("../lib/useragent"),o=e("../lib/dom"),s=e("../lib/lang"),a=e("../clipboard"),c=r.isChrome<18,l=r.isIE,u=r.isChrome>63,h=400,d=e("../lib/keys"),g=d.KEY_MODS,f=r.isIOS,p=f?/\s/:/\n/,m=r.isMobile;t.TextInput=function(e,t){var n=o.createElement("textarea");n.className="ace_text-input",n.setAttribute("wrap","off"),n.setAttribute("autocorrect","off"),n.setAttribute("autocapitalize","off"),n.setAttribute("spellcheck",!1),n.style.opacity="0",e.insertBefore(n,e.firstChild);var C=!1,I=!1,v=!1,A=!1,y="";m||(n.style.fontSize="1px");var b=!1,w=!1,$="",S=0,x=0,k=0;try{var R=document.activeElement===n}catch(e){}i.addListener(n,"blur",(function(e){w||(t.onBlur(e),R=!1)}),t),i.addListener(n,"focus",(function(e){if(!w){if(R=!0,r.isEdge)try{if(!document.hasFocus())return}catch(e){}t.onFocus(e),r.isEdge?setTimeout(_):_()}}),t),this.$focusScroll=!1,this.focus=function(){if(y||u||"browser"==this.$focusScroll)return n.focus({preventScroll:!0});var e=n.style.top;n.style.position="fixed",n.style.top="0px";try{var t=0!=n.getBoundingClientRect().top}catch(e){return}var i=[];if(t)for(var r=n.parentElement;r&&1==r.nodeType;)i.push(r),r.setAttribute("ace_nocontext",!0),r=!r.parentElement&&r.getRootNode?r.getRootNode().host:r.parentElement;n.focus({preventScroll:!0}),t&&i.forEach((function(e){e.removeAttribute("ace_nocontext")})),setTimeout((function(){n.style.position="","0px"==n.style.top&&(n.style.top=e)}),0)},this.blur=function(){n.blur()},this.isFocused=function(){return R},t.on("beforeEndOperation",(function(){var e=t.curOp,i=e&&e.command&&e.command.name;if("insertstring"!=i){var r=i&&(e.docChanged||e.selectionChanged);v&&r&&($=n.value="",Z()),_()}}));var _=f?function(e){if(R&&(!C||e)&&!A){e||(e="");var i="\n ab"+e+"cde fg\n";i!=n.value&&(n.value=$=i);var r=4+(e.length||(t.selection.isEmpty()?0:1));4==S&&x==r||n.setSelectionRange(4,r),S=4,x=r}}:function(){if(!v&&!A&&(R||E)){v=!0;var e=0,i=0,r="";if(t.session){var o=t.selection,s=o.getRange(),a=o.cursor.row;if(e=s.start.column,i=s.end.column,r=t.session.getLine(a),s.start.row!=a){var c=t.session.getLine(a-1);e=s.start.row<a-1?0:e,i+=c.length+1,r=c+"\n"+r}else if(s.end.row!=a){var l=t.session.getLine(a+1);i=s.end.row>a+1?l.length:i,i+=r.length+1,r=r+"\n"+l}else m&&a>0&&(r="\n"+r,i+=1,e+=1);r.length>h&&(e<h&&i<h?r=r.slice(0,h):(r="\n",e==i?e=i=0:(e=0,i=1)))}var u=r+"\n\n";if(u!=$&&(n.value=$=u,S=x=u.length),E&&(S=n.selectionStart,x=n.selectionEnd),x!=i||S!=e||n.selectionEnd!=x)try{n.setSelectionRange(e,i),S=e,x=i}catch(e){}v=!1}};this.resetSelection=_,R&&t.onFocus();var B=null;this.setInputHandler=function(e){B=e},this.getInputHandler=function(){return B};var E=!1,L=function(e,i){if(E&&(E=!1),I)return _(),e&&t.onPaste(e),I=!1,"";for(var o=n.selectionStart,s=n.selectionEnd,a=S,c=$.length-x,l=e,u=e.length-o,h=e.length-s,d=0;a>0&&$[d]==e[d];)d++,a--;for(l=l.slice(d),d=1;c>0&&$.length-d>S-1&&$[$.length-d]==e[e.length-d];)d++,c--;u-=d-1,h-=d-1;var g=l.length-d+1;if(g<0&&(a=-g,g=0),l=l.slice(0,g),!(i||l||u||a||c||h))return"";A=!0;var f=!1;return r.isAndroid&&". "==l&&(l="  ",f=!0),l&&!a&&!c&&!u&&!h||b?t.onTextInput(l):t.onTextInput(l,{extendLeft:a,extendRight:c,restoreStart:u,restoreEnd:h}),A=!1,$=e,S=o,x=s,k=h,f?"\n":l},W=function(e){if(v)return H();if(e&&e.inputType){if("historyUndo"==e.inputType)return t.execCommand("undo");if("historyRedo"==e.inputType)return t.execCommand("redo")}var i=n.value,r=L(i,!0);(i.length>500||p.test(r)||m&&S<1&&S==x)&&_()},G=function(e,t,n){var i=e.clipboardData||window.clipboardData;if(i&&!c){var r=l||n?"Text":"text/plain";try{return t?!1!==i.setData(r,t):i.getData(r)}catch(e){if(!n)return G(e,t,!0)}}},T=function(e,r){var o=t.getCopyText();if(!o)return i.preventDefault(e);G(e,o)?(f&&(_(o),C=o,setTimeout((function(){C=!1}),10)),r?t.onCut():t.onCopy(),i.preventDefault(e)):(C=!0,n.value=o,n.select(),setTimeout((function(){C=!1,_(),r?t.onCut():t.onCopy()})))},M=function(e){T(e,!0)},O=function(e){T(e,!1)},N=function(e){var o=G(e);a.pasteCancelled()||("string"==typeof o?(o&&t.onPaste(o,e),r.isIE&&setTimeout(_),i.preventDefault(e)):(n.value="",I=!0))};i.addCommandKeyListener(n,t.onCommandKey.bind(t),t),i.addListener(n,"select",(function(e){v||(C?C=!1:!function(e){return 0===e.selectionStart&&e.selectionEnd>=$.length&&e.value===$&&$&&e.selectionEnd!==x}(n)?m&&n.selectionStart!=S&&_():(t.selectAll(),_()))}),t),i.addListener(n,"input",W,t),i.addListener(n,"cut",M,t),i.addListener(n,"copy",O,t),i.addListener(n,"paste",N,t),"oncut"in n&&"oncopy"in n&&"onpaste"in n||i.addListener(e,"keydown",(function(e){if((!r.isMac||e.metaKey)&&e.ctrlKey)switch(e.keyCode){case 67:O(e);break;case 86:N(e);break;case 88:M(e)}}),t);var H=function(){if(v&&t.onCompositionUpdate&&!t.$readOnly){if(b)return V();if(v.useTextareaForIME)t.onCompositionUpdate(n.value);else{var e=n.value;L(e),v.markerRange&&(v.context&&(v.markerRange.start.column=v.selectionStart=v.context.compositionStartOffset),v.markerRange.end.column=v.markerRange.start.column+x-v.selectionStart+k)}}},Z=function(e){t.onCompositionEnd&&!t.$readOnly&&(v=!1,t.onCompositionEnd(),t.off("mousedown",V),e&&W())};function V(){w=!0,n.blur(),n.focus(),w=!1}var P,F=s.delayedCall(H,50).schedule.bind(null,null);function K(){clearTimeout(P),P=setTimeout((function(){y&&(n.style.cssText=y,y=""),t.renderer.$isMousePressed=!1,t.renderer.$keepTextAreaAtCursor&&t.renderer.$moveTextAreaToCursor()}),0)}i.addListener(n,"compositionstart",(function(e){if(!v&&t.onCompositionStart&&!t.$readOnly&&(v={},!b)){e.data&&(v.useTextareaForIME=!1),setTimeout(H,0),t._signal("compositionStart"),t.on("mousedown",V);var i=t.getSelectionRange();i.end.row=i.start.row,i.end.column=i.start.column,v.markerRange=i,v.selectionStart=S,t.onCompositionStart(v),v.useTextareaForIME?($=n.value="",S=0,x=0):(n.msGetInputContext&&(v.context=n.msGetInputContext()),n.getInputContext&&(v.context=n.getInputContext()))}}),t),i.addListener(n,"compositionupdate",H,t),i.addListener(n,"keyup",(function(e){27==e.keyCode&&n.value.length<n.selectionStart&&(v||($=n.value),S=x=-1,_()),F()}),t),i.addListener(n,"keydown",F,t),i.addListener(n,"compositionend",Z,t),this.getElement=function(){return n},this.setCommandMode=function(e){b=e,n.readOnly=!1},this.setReadOnly=function(e){b||(n.readOnly=e)},this.setCopyWithEmptySelection=function(e){},this.onContextMenu=function(e){E=!0,_(),t._emit("nativecontextmenu",{target:t,domEvent:e}),this.moveToMouse(e,!0)},this.moveToMouse=function(e,s){y||(y=n.style.cssText),n.style.cssText=(s?"z-index:100000;":"")+(r.isIE?"opacity:0.1;":"")+"text-indent: -"+(S+x)*t.renderer.characterWidth*.5+"px;";var a=t.container.getBoundingClientRect(),c=o.computedStyle(t.container),l=a.top+(parseInt(c.borderTopWidth)||0),u=a.left+(parseInt(a.borderLeftWidth)||0),h=a.bottom-l-n.clientHeight-2,d=function(e){o.translate(n,e.clientX-u-2,Math.min(e.clientY-l-2,h))};d(e),"mousedown"==e.type&&(t.renderer.$isMousePressed=!0,clearTimeout(P),r.isWin&&i.capture(t.container,d,K))},this.onContextMenuClose=K;var j=function(e){t.textInput.onContextMenu(e),K()};i.addListener(n,"mouseup",j,t),i.addListener(n,"mousedown",(function(e){e.preventDefault(),K()}),t),i.addListener(t.renderer.scroller,"contextmenu",j,t),i.addListener(n,"contextmenu",j,t),f&&function(e,t,n){var i=null,r=!1;n.addEventListener("keydown",(function(e){i&&clearTimeout(i),r=!0}),!0),n.addEventListener("keyup",(function(e){i=setTimeout((function(){r=!1}),100)}),!0);var o=function(e){if(document.activeElement===n&&!(r||v||t.$mouseHandler.isMousePressed||C)){var i=n.selectionStart,o=n.selectionEnd,s=null,a=0;if(0==i?s=d.up:1==i?s=d.home:o>x&&"\n"==$[o]?s=d.end:i<S&&" "==$[i-1]?(s=d.left,a=g.option):i<S||i==S&&x!=S&&i==o?s=d.left:o>x&&$.slice(0,o).split("\n").length>2?s=d.down:o>x&&" "==$[o-1]?(s=d.right,a=g.option):(o>x||o==x&&x!=S&&i==o)&&(s=d.right),i!==o&&(a|=g.shift),s){if(!t.onCommandKey({},a,s)&&t.commands){s=d.keyCodeToString(s);var c=t.commands.findKeyCommand(a,s);c&&t.execCommand(c)}S=i,x=o,_("")}}};document.addEventListener("selectionchange",o),t.on("destroy",(function(){document.removeEventListener("selectionchange",o)}))}(0,t,n)},t.$setUserAgentForTests=function(e,t){m=e,f=t}})),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],(function(e,t,n){var i=e("../lib/useragent");function r(e){e.$clickSelection=null;var t=e.editor;t.setDefaultHandler("mousedown",this.onMouseDown.bind(e)),t.setDefaultHandler("dblclick",this.onDoubleClick.bind(e)),t.setDefaultHandler("tripleclick",this.onTripleClick.bind(e)),t.setDefaultHandler("quadclick",this.onQuadClick.bind(e)),t.setDefaultHandler("mousewheel",this.onMouseWheel.bind(e));["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"].forEach((function(t){e[t]=this[t]}),this),e.selectByLines=this.extendSelectionBy.bind(e,"getLineRange"),e.selectByWords=this.extendSelectionBy.bind(e,"getWordRange")}function o(e,t){if(e.start.row==e.end.row)var n=2*t.column-e.start.column-e.end.column;else if(e.start.row!=e.end.row-1||e.start.column||e.end.column)n=2*t.row-e.start.row-e.end.row;else var n=t.column-4;return n<0?{cursor:e.start,anchor:e.end}:{cursor:e.end,anchor:e.start}}(function(){this.onMouseDown=function(e){var t=e.inSelection(),n=e.getDocumentPosition();this.mousedownEvent=e;var r=this.editor,o=e.getButton();return 0!==o?((r.getSelectionRange().isEmpty()||1==o)&&r.selection.moveToPosition(n),void(2==o&&(r.textInput.onContextMenu(e.domEvent),i.isMozilla||e.preventDefault()))):(this.mousedownEvent.time=Date.now(),!t||r.isFocused()||(r.focus(),!this.$focusTimeout||this.$clickSelection||r.inMultiSelectMode)?(this.captureMouse(e),this.startSelect(n,e.domEvent._clicks>1),e.preventDefault()):(this.setState("focusWait"),void this.captureMouse(e)))},this.startSelect=function(e,t){e=e||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var n=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?n.selection.selectToPosition(e):t||n.selection.moveToPosition(e),t||this.select(),n.renderer.scroller.setCapture&&n.renderer.scroller.setCapture(),n.setStyle("ace_selecting"),this.setState("select"))},this.select=function(){var e,t=this.editor,n=t.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var i=this.$clickSelection.comparePoint(n);if(-1==i)e=this.$clickSelection.end;else if(1==i)e=this.$clickSelection.start;else{var r=o(this.$clickSelection,n);n=r.cursor,e=r.anchor}t.selection.setSelectionAnchor(e.row,e.column)}t.selection.selectToPosition(n),t.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(e){var t,n=this.editor,i=n.renderer.screenToTextCoordinates(this.x,this.y),r=n.selection[e](i.row,i.column);if(this.$clickSelection){var s=this.$clickSelection.comparePoint(r.start),a=this.$clickSelection.comparePoint(r.end);if(-1==s&&a<=0)t=this.$clickSelection.end,r.end.row==i.row&&r.end.column==i.column||(i=r.start);else if(1==a&&s>=0)t=this.$clickSelection.start,r.start.row==i.row&&r.start.column==i.column||(i=r.end);else if(-1==s&&1==a)i=r.end,t=r.start;else{var c=o(this.$clickSelection,i);i=c.cursor,t=c.anchor}n.selection.setSelectionAnchor(t.row,t.column)}n.selection.selectToPosition(i),n.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting"),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()},this.focusWait=function(){var e,t,n,i,r=(e=this.mousedownEvent.x,t=this.mousedownEvent.y,n=this.x,i=this.y,Math.sqrt(Math.pow(n-e,2)+Math.pow(i-t,2))),o=Date.now();(r>0||o-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(e){var t=e.getDocumentPosition(),n=this.editor,i=n.session.getBracketRange(t);i?(i.isEmpty()&&(i.start.column--,i.end.column++),this.setState("select")):(i=n.selection.getWordRange(t.row,t.column),this.setState("selectByWords")),this.$clickSelection=i,this.select()},this.onTripleClick=function(e){var t=e.getDocumentPosition(),n=this.editor;this.setState("selectByLines");var i=n.getSelectionRange();i.isMultiLine()&&i.contains(t.row,t.column)?(this.$clickSelection=n.selection.getLineRange(i.start.row),this.$clickSelection.end=n.selection.getLineRange(i.end.row).end):this.$clickSelection=n.selection.getLineRange(t.row),this.select()},this.onQuadClick=function(e){var t=this.editor;t.selectAll(),this.$clickSelection=t.getSelectionRange(),this.setState("selectAll")},this.onMouseWheel=function(e){if(!e.getAccelKey()){e.getShiftKey()&&e.wheelY&&!e.wheelX&&(e.wheelX=e.wheelY,e.wheelY=0);var t=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var n=this.$lastScroll,i=e.domEvent.timeStamp,r=i-n.t,o=r?e.wheelX/r:n.vx,s=r?e.wheelY/r:n.vy;r<550&&(o=(o+n.vx)/2,s=(s+n.vy)/2);var a=Math.abs(o/s),c=!1;if(a>=1&&t.renderer.isScrollableBy(e.wheelX*e.speed,0)&&(c=!0),a<=1&&t.renderer.isScrollableBy(0,e.wheelY*e.speed)&&(c=!0),c)n.allowed=i;else if(i-n.allowed<550){Math.abs(o)<=1.5*Math.abs(n.vx)&&Math.abs(s)<=1.5*Math.abs(n.vy)?(c=!0,n.allowed=i):n.allowed=0}return n.t=i,n.vx=o,n.vy=s,c?(t.renderer.scrollBy(e.wheelX*e.speed,e.wheelY*e.speed),e.stop()):void 0}}}).call(r.prototype),t.DefaultHandlers=r})),ace.define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],(function(e,t,n){e("./lib/oop");var i=e("./lib/dom");function r(e){this.isOpen=!1,this.$element=null,this.$parentNode=e}(function(){this.$init=function(){return this.$element=i.createElement("div"),this.$element.className="ace_tooltip",this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(e){this.getElement().textContent=e},this.setHtml=function(e){this.getElement().innerHTML=e},this.setPosition=function(e,t){this.getElement().style.left=e+"px",this.getElement().style.top=t+"px"},this.setClassName=function(e){i.addCssClass(this.getElement(),e)},this.show=function(e,t,n){null!=e&&this.setText(e),null!=t&&null!=n&&this.setPosition(t,n),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth},this.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)}}).call(r.prototype),t.Tooltip=r})),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],(function(e,t,n){var i=e("../lib/dom"),r=e("../lib/oop"),o=e("../lib/event"),s=e("../tooltip").Tooltip;function a(e){s.call(this,e)}r.inherits(a,s),function(){this.setPosition=function(e,t){var n=window.innerWidth||document.documentElement.clientWidth,i=window.innerHeight||document.documentElement.clientHeight,r=this.getWidth(),o=this.getHeight();(e+=15)+r>n&&(e-=e+r-n),(t+=15)+o>i&&(t-=20+o),s.prototype.setPosition.call(this,e,t)}}.call(a.prototype),t.GutterHandler=function(e){var t,n,r,s=e.editor,c=s.renderer.$gutterLayer,l=new a(s.container);function u(){t&&(t=clearTimeout(t)),r&&(l.hide(),r=null,s._signal("hideGutterTooltip",l),s.off("mousewheel",u))}function h(e){l.setPosition(e.x,e.y)}e.editor.setDefaultHandler("guttermousedown",(function(t){if(s.isFocused()&&0==t.getButton()&&"foldWidgets"!=c.getRegion(t)){var n=t.getDocumentPosition().row,i=s.session.selection;if(t.getShiftKey())i.selectTo(n,0);else{if(2==t.domEvent.detail)return s.selectAll(),t.preventDefault();e.$clickSelection=s.selection.getLineRange(n)}return e.setState("selectByLines"),e.captureMouse(t),t.preventDefault()}})),e.editor.setDefaultHandler("guttermousemove",(function(o){var a=o.domEvent.target||o.domEvent.srcElement;if(i.hasCssClass(a,"ace_fold-widget"))return u();r&&e.$tooltipFollowsMouse&&h(o),n=o,t||(t=setTimeout((function(){t=null,n&&!e.isMousePressed?function(){var t=n.getDocumentPosition().row,i=c.$annotations[t];if(!i)return u();if(t==s.session.getLength()){var o=s.renderer.pixelToScreenCoordinates(0,n.y).row,a=n.$pos;if(o>s.session.documentToScreenRow(a.row,a.column))return u()}if(r!=i)if(r=i.text.join("<br/>"),l.setHtml(r),l.show(),s._signal("showGutterTooltip",l),s.on("mousewheel",u),e.$tooltipFollowsMouse)h(n);else{var d=n.domEvent.target.getBoundingClientRect(),g=l.getElement().style;g.left=d.right+"px",g.top=d.bottom+"px"}}():u()}),50))})),o.addListener(s.renderer.$gutter,"mouseout",(function(e){n=null,r&&!t&&(t=setTimeout((function(){t=null,u()}),50))}),s),s.on("changeSession",u)}})),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],(function(e,t,n){var i=e("../lib/event"),r=e("../lib/useragent"),o=t.MouseEvent=function(e,t){this.domEvent=e,this.editor=t,this.x=this.clientX=e.clientX,this.y=this.clientY=e.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){i.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){i.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos||(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY)),this.$pos},this.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var e=this.editor.getSelectionRange();if(e.isEmpty())this.$inSelection=!1;else{var t=this.getDocumentPosition();this.$inSelection=e.contains(t.row,t.column)}return this.$inSelection},this.getButton=function(){return i.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=r.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(o.prototype)})),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],(function(e,t,n){var i=e("../lib/dom"),r=e("../lib/event"),o=e("../lib/useragent");function s(e){var t=e.editor,n=i.createElement("img");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",o.isOpera&&(n.style.cssText="width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;");["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"].forEach((function(t){e[t]=this[t]}),this),t.on("mousedown",this.onMouseDown.bind(e));var s,c,l,u,h,d,g,f,p,m,C,I=t.container,v=0;function A(){var e=d;(function(e,n){var i=Date.now(),r=!n||e.row!=n.row,o=!n||e.column!=n.column;!m||r||o?(t.moveCursorToPosition(e),m=i,C={x:c,y:l}):a(C.x,C.y,c,l)>5?m=null:i-m>=200&&(t.renderer.scrollCursorIntoView(),m=null)})(d=t.renderer.screenToTextCoordinates(c,l),e),function(e,n){var i=Date.now(),r=t.renderer.layerConfig.lineHeight,o=t.renderer.layerConfig.characterWidth,s=t.renderer.scroller.getBoundingClientRect(),a={x:{left:c-s.left,right:s.right-c},y:{top:l-s.top,bottom:s.bottom-l}},u=Math.min(a.x.left,a.x.right),h=Math.min(a.y.top,a.y.bottom),d={row:e.row,column:e.column};u/o<=2&&(d.column+=a.x.left<a.x.right?-3:2),h/r<=1&&(d.row+=a.y.top<a.y.bottom?-1:1);var g=e.row!=d.row,f=e.column!=d.column,m=!n||e.row!=n.row;g||f&&!m?p?i-p>=200&&t.renderer.scrollCursorIntoView(d):p=i:p=null}(d,e)}function y(){h=t.selection.toOrientedRange(),s=t.session.addMarker(h,"ace_selection",t.getSelectionStyle()),t.clearSelection(),t.isFocused()&&t.renderer.$cursorLayer.setBlinking(!1),clearInterval(u),A(),u=setInterval(A,20),v=0,r.addListener(document,"mousemove",$)}function b(){clearInterval(u),t.session.removeMarker(s),s=null,t.selection.fromOrientedRange(h),t.isFocused()&&!f&&t.$resetCursorStyle(),h=null,d=null,v=0,p=null,m=null,r.removeListener(document,"mousemove",$)}this.onDragStart=function(e){if(this.cancelDrag||!I.draggable){var i=this;return setTimeout((function(){i.startSelect(),i.captureMouse(e)}),0),e.preventDefault()}h=t.getSelectionRange();var r=e.dataTransfer;r.effectAllowed=t.getReadOnly()?"copy":"copyMove",o.isOpera&&(t.container.appendChild(n),n.scrollTop=0),r.setDragImage&&r.setDragImage(n,0,0),o.isOpera&&t.container.removeChild(n),r.clearData(),r.setData("Text",t.session.getTextRange()),f=!0,this.setState("drag")},this.onDragEnd=function(e){if(I.draggable=!1,f=!1,this.setState(null),!t.getReadOnly()){var n=e.dataTransfer.dropEffect;g||"move"!=n||t.session.remove(t.getSelectionRange()),t.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(e){if(!t.getReadOnly()&&S(e.dataTransfer))return c=e.clientX,l=e.clientY,s||y(),v++,e.dataTransfer.dropEffect=g=x(e),r.preventDefault(e)},this.onDragOver=function(e){if(!t.getReadOnly()&&S(e.dataTransfer))return c=e.clientX,l=e.clientY,s||(y(),v++),null!==w&&(w=null),e.dataTransfer.dropEffect=g=x(e),r.preventDefault(e)},this.onDragLeave=function(e){if(--v<=0&&s)return b(),g=null,r.preventDefault(e)},this.onDrop=function(e){if(d){var n=e.dataTransfer;if(f)switch(g){case"move":h=h.contains(d.row,d.column)?{start:d,end:d}:t.moveText(h,d);break;case"copy":h=t.moveText(h,d,!0)}else{var i=n.getData("Text");h={start:d,end:t.session.insert(d,i)},t.focus(),g=null}return b(),r.preventDefault(e)}},r.addListener(I,"dragstart",this.onDragStart.bind(e),t),r.addListener(I,"dragend",this.onDragEnd.bind(e),t),r.addListener(I,"dragenter",this.onDragEnter.bind(e),t),r.addListener(I,"dragover",this.onDragOver.bind(e),t),r.addListener(I,"dragleave",this.onDragLeave.bind(e),t),r.addListener(I,"drop",this.onDrop.bind(e),t);var w=null;function $(){null==w&&(w=setTimeout((function(){null!=w&&s&&b()}),20))}function S(e){var t=e.types;return!t||Array.prototype.some.call(t,(function(e){return"text/plain"==e||"Text"==e}))}function x(e){var t=["copy","copymove","all","uninitialized"],n=o.isMac?e.altKey:e.ctrlKey,i="uninitialized";try{i=e.dataTransfer.effectAllowed.toLowerCase()}catch(e){}var r="none";return n&&t.indexOf(i)>=0?r="copy":["move","copymove","linkmove","all","uninitialized"].indexOf(i)>=0?r="move":t.indexOf(i)>=0&&(r="copy"),r}}function a(e,t,n,i){return Math.sqrt(Math.pow(n-e,2)+Math.pow(i-t,2))}(function(){this.dragWait=function(){Date.now()-this.mousedownEvent.time>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){this.editor.container.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(e){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var e=this.editor;e.container.draggable=!0,e.renderer.$cursorLayer.setBlinking(!1),e.setStyle("ace_dragging");var t=o.isWin?"default":"move";e.renderer.setCursorStyle(t),this.setState("dragReady")},this.onMouseDrag=function(e){var t=this.editor.container;o.isIE&&"dragReady"==this.state&&(a(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>3&&t.dragDrop());"dragWait"===this.state&&(a(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>0&&(t.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition())))},this.onMouseDown=function(e){if(this.$dragEnabled){this.mousedownEvent=e;var t=this.editor,n=e.inSelection(),i=e.getButton();if(1===(e.domEvent.detail||1)&&0===i&&n){if(e.editor.inMultiSelectMode&&(e.getAccelKey()||e.getShiftKey()))return;this.mousedownEvent.time=Date.now();var r=e.domEvent.target||e.domEvent.srcElement;if("unselectable"in r&&(r.unselectable="on"),t.getDragDelay()){if(o.isWebKit)this.cancelDrag=!0,t.container.draggable=!0;this.setState("dragWait")}else this.startDrag();this.captureMouse(e,this.onMouseDrag.bind(this)),e.defaultPrevented=!0}}}}).call(s.prototype),t.DragdropHandler=s})),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],(function(e,t,n){var i=e("./mouse_event").MouseEvent,r=e("../lib/event"),o=e("../lib/dom");t.addTouchListeners=function(e,t){var n,s,a,c,l,u,h,d,g,f="scroll",p=0,m=0,C=0,I=0;function v(){var e=window.navigator&&window.navigator.clipboard,n=!1,i=function(i){var r,s,a=i.target.getAttribute("action");if("more"==a||!n)return n=!n,r=t.getCopyText(),s=t.session.getUndoManager().hasUndo(),void g.replaceChild(o.buildDom(n?["span",!r&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],r&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],r&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],e&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],s&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],["span",{class:"ace_mobile-button",action:"find"},"Find"],["span",{class:"ace_mobile-button",action:"openCommandPallete"},"Pallete"]]:["span"]),g.firstChild);"paste"==a?e.readText().then((function(e){t.execCommand(a,e)})):a&&("cut"!=a&&"copy"!=a||(e?e.writeText(t.getCopyText()):document.execCommand("copy")),t.execCommand(a)),g.firstChild.style.display="none",n=!1,"openCommandPallete"!=a&&t.focus()};g=o.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(e){f="menu",e.stopPropagation(),e.preventDefault(),t.textInput.focus()},ontouchend:function(e){e.stopPropagation(),e.preventDefault(),i(e)},onclick:i},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],t.container)}function A(){g||v();var e=t.selection.cursor,n=t.renderer.textToScreenCoordinates(e.row,e.column),i=t.renderer.textToScreenCoordinates(0,0).pageX,r=t.renderer.scrollLeft,o=t.container.getBoundingClientRect();g.style.top=n.pageY-o.top-3+"px",n.pageX-o.left<o.width-70?(g.style.left="",g.style.right="10px"):(g.style.right="",g.style.left=i+r-o.left+"px"),g.style.display="",g.firstChild.style.display="none",t.on("input",y)}function y(e){g&&(g.style.display="none"),t.off("input",y)}function b(){l=null,clearTimeout(l);var e=t.selection.getRange(),n=e.contains(h.row,h.column);!e.isEmpty()&&n||(t.selection.moveToPosition(h),t.selection.selectWord()),f="wait",A()}r.addListener(e,"contextmenu",(function(e){d&&t.textInput.getElement().focus()}),t),r.addListener(e,"touchstart",(function(e){var r=e.touches;if(l||r.length>1)return clearTimeout(l),l=null,a=-1,void(f="zoom");d=t.$mouseHandler.isMousePressed=!0;var o=t.renderer.layerConfig.lineHeight,u=t.renderer.layerConfig.lineHeight,g=e.timeStamp;c=g;var v=r[0],A=v.clientX,y=v.clientY;Math.abs(n-A)+Math.abs(s-y)>o&&(a=-1),n=e.clientX=A,s=e.clientY=y,C=I=0;var w=new i(e,t);if(h=w.getDocumentPosition(),g-a<500&&1==r.length&&!p)m++,e.preventDefault(),e.button=0,function(){l=null,clearTimeout(l),t.selection.moveToPosition(h);var e=m>=2?t.selection.getLineRange(h.row):t.session.getBracketRange(h);e&&!e.isEmpty()?t.selection.setRange(e):t.selection.selectWord(),f="wait"}();else{m=0;var $=t.selection.cursor,S=t.selection.isEmpty()?$:t.selection.anchor,x=t.renderer.$cursorLayer.getPixelPosition($,!0),k=t.renderer.$cursorLayer.getPixelPosition(S,!0),R=t.renderer.scroller.getBoundingClientRect(),_=t.renderer.layerConfig.offset,B=t.renderer.scrollLeft,E=function(e,t){return(e/=u)*e+(t=t/o-.75)*t};if(e.clientX<R.left)return void(f="zoom");var L=E(e.clientX-R.left-x.left+B,e.clientY-R.top-x.top+_),W=E(e.clientX-R.left-k.left+B,e.clientY-R.top-k.top+_);L<3.5&&W<3.5&&(f=L>W?"cursor":"anchor"),f=W<3.5?"anchor":L<3.5?"cursor":"scroll",l=setTimeout(b,450)}a=g}),t),r.addListener(e,"touchend",(function(e){d=t.$mouseHandler.isMousePressed=!1,u&&clearInterval(u),"zoom"==f?(f="",p=0):l?(t.selection.moveToPosition(h),p=0,A()):"scroll"==f?(p+=60,u=setInterval((function(){p--<=0&&(clearInterval(u),u=null),Math.abs(C)<.01&&(C=0),Math.abs(I)<.01&&(I=0),p<20&&(C*=.9),p<20&&(I*=.9);var e=t.session.getScrollTop();t.renderer.scrollBy(10*C,10*I),e==t.session.getScrollTop()&&(p=0)}),10),y()):A(),clearTimeout(l),l=null}),t),r.addListener(e,"touchmove",(function(e){l&&(clearTimeout(l),l=null);var r=e.touches;if(!(r.length>1||"zoom"==f)){var o=r[0],a=n-o.clientX,u=s-o.clientY;if("wait"==f){if(!(a*a+u*u>4))return e.preventDefault();f="cursor"}n=o.clientX,s=o.clientY,e.clientX=o.clientX,e.clientY=o.clientY;var h=e.timeStamp,d=h-c;if(c=h,"scroll"==f){var g=new i(e,t);g.speed=1,g.wheelX=a,g.wheelY=u,10*Math.abs(a)<Math.abs(u)&&(a=0),10*Math.abs(u)<Math.abs(a)&&(u=0),0!=d&&(C=a/d,I=u/d),t._emit("mousewheel",g),g.propagationStopped||(C=I=0)}else{var p=new i(e,t).getDocumentPosition();"cursor"==f?t.selection.moveCursorToPosition(p):"anchor"==f&&t.selection.setSelectionAnchor(p.row,p.column),t.renderer.scrollCursorIntoView(p),e.preventDefault()}}}),t)}})),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],(function(e,t,n){var i=e("./dom");t.get=function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.onreadystatechange=function(){4===n.readyState&&t(n.responseText)},n.send(null)},t.loadScript=function(e,t){var n=i.getDocumentHead(),r=document.createElement("script");r.src=e,n.appendChild(r),r.onload=r.onreadystatechange=function(e,n){!n&&r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(r=r.onload=r.onreadystatechange=null,n||t())}},t.qualifyURL=function(e){var t=document.createElement("a");return t.href=e,t.href}})),ace.define("ace/lib/event_emitter",["require","exports","module"],(function(e,t,n){var i={},r=function(){this.propagationStopped=!0},o=function(){this.defaultPrevented=!0};i._emit=i._dispatchEvent=function(e,t){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var n=this._eventRegistry[e]||[],i=this._defaultHandlers[e];if(n.length||i){"object"==typeof t&&t||(t={}),t.type||(t.type=e),t.stopPropagation||(t.stopPropagation=r),t.preventDefault||(t.preventDefault=o),n=n.slice();for(var s=0;s<n.length&&(n[s](t,this),!t.propagationStopped);s++);return i&&!t.defaultPrevented?i(t,this):void 0}},i._signal=function(e,t){var n=(this._eventRegistry||{})[e];if(n){n=n.slice();for(var i=0;i<n.length;i++)n[i](t,this)}},i.once=function(e,t){var n=this;if(this.on(e,(function i(){n.off(e,i),t.apply(null,arguments)})),!t)return new Promise((function(e){t=e}))},i.setDefaultHandler=function(e,t){var n=this._defaultHandlers;if(n||(n=this._defaultHandlers={_disabled_:{}}),n[e]){var i=n[e],r=n._disabled_[e];r||(n._disabled_[e]=r=[]),r.push(i);var o=r.indexOf(t);-1!=o&&r.splice(o,1)}n[e]=t},i.removeDefaultHandler=function(e,t){var n=this._defaultHandlers;if(n){var i=n._disabled_[e];if(n[e]==t)i&&this.setDefaultHandler(e,i.pop());else if(i){var r=i.indexOf(t);-1!=r&&i.splice(r,1)}}},i.on=i.addEventListener=function(e,t,n){this._eventRegistry=this._eventRegistry||{};var i=this._eventRegistry[e];return i||(i=this._eventRegistry[e]=[]),-1==i.indexOf(t)&&i[n?"unshift":"push"](t),t},i.off=i.removeListener=i.removeEventListener=function(e,t){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[e];if(n){var i=n.indexOf(t);-1!==i&&n.splice(i,1)}},i.removeAllListeners=function(e){e||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[e]=void 0),this._defaultHandlers&&(this._defaultHandlers[e]=void 0)},t.EventEmitter=i})),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(e,t,n){var i=e("./oop"),r=e("./event_emitter").EventEmitter,o={setOptions:function(e){Object.keys(e).forEach((function(t){this.setOption(t,e[t])}),this)},getOptions:function(e){var t={};if(e)Array.isArray(e)||(t=e,e=Object.keys(t));else{var n=this.$options;e=Object.keys(n).filter((function(e){return!n[e].hidden}))}return e.forEach((function(e){t[e]=this.getOption(e)}),this),t},setOption:function(e,t){if(this["$"+e]!==t){var n=this.$options[e];if(!n)return s('misspelled option "'+e+'"');if(n.forwardTo)return this[n.forwardTo]&&this[n.forwardTo].setOption(e,t);n.handlesSet||(this["$"+e]=t),n&&n.set&&n.set.call(this,t)}},getOption:function(e){var t=this.$options[e];return t?t.forwardTo?this[t.forwardTo]&&this[t.forwardTo].getOption(e):t&&t.get?t.get.call(this):this["$"+e]:s('misspelled option "'+e+'"')}};function s(e){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}function a(e,t){var n=new Error(e);n.data=t,"object"==typeof console&&console.error&&console.error(n),setTimeout((function(){throw n}))}var c=function(){this.$defaultOptions={}};(function(){i.implement(this,r),this.defineOptions=function(e,t,n){return e.$options||(this.$defaultOptions[t]=e.$options={}),Object.keys(n).forEach((function(t){var i=n[t];"string"==typeof i&&(i={forwardTo:i}),i.name||(i.name=t),e.$options[i.name]=i,"initialValue"in i&&(e["$"+i.name]=i.initialValue)})),i.implement(e,o),this},this.resetOptions=function(e){Object.keys(e.$options).forEach((function(t){var n=e.$options[t];"value"in n&&e.setOption(t,n.value)}))},this.setDefaultValue=function(e,t,n){if(!e){for(e in this.$defaultOptions)if(this.$defaultOptions[e][t])break;if(!this.$defaultOptions[e][t])return!1}var i=this.$defaultOptions[e]||(this.$defaultOptions[e]={});i[t]&&(i.forwardTo?this.setDefaultValue(i.forwardTo,t,n):i[t].value=n)},this.setDefaultValues=function(e,t){Object.keys(t).forEach((function(n){this.setDefaultValue(e,n,t[n])}),this)},this.warn=s,this.reportError=a}).call(c.prototype),t.AppConfig=c})),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/app_config"],(function(e,t,n){var i=e("./lib/lang");e("./lib/oop");var r=e("./lib/net"),o=e("./lib/app_config").AppConfig;n.exports=t=new o;var s=function(){return this||"undefined"!=typeof window&&window}(),a={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1};t.get=function(e){if(!a.hasOwnProperty(e))throw new Error("Unknown config key: "+e);return a[e]},t.set=function(e,t){if(a.hasOwnProperty(e))a[e]=t;else if(0==this.setDefaultValue("",e,t))throw new Error("Unknown config key: "+e)},t.all=function(){return i.copyObject(a)},t.$modes={},t.moduleUrl=function(e,t){if(a.$moduleUrls[e])return a.$moduleUrls[e];var n=e.split("/"),i="snippets"==(t=t||n[n.length-2]||"")?"/":"-",r=n[n.length-1];if("worker"==t&&"-"==i){var o=new RegExp("^"+t+"[\\-_]|[\\-_]"+t+"$","g");r=r.replace(o,"")}(!r||r==t)&&n.length>1&&(r=n[n.length-2]);var s=a[t+"Path"];return null==s?s=a.basePath:"/"==i&&(t=i=""),s&&"/"!=s.slice(-1)&&(s+="/"),s+t+i+r+this.get("suffix")},t.setModuleUrl=function(e,t){return a.$moduleUrls[e]=t},t.$loading={},t.loadModule=function(n,i){var o,s;Array.isArray(n)&&(s=n[0],n=n[1]);try{o=e(n)}catch(e){}if(o&&!t.$loading[n])return i&&i(o);if(t.$loading[n]||(t.$loading[n]=[]),t.$loading[n].push(i),!(t.$loading[n].length>1)){var a=function(){e([n],(function(e){t._emit("load.module",{name:n,module:e});var i=t.$loading[n];t.$loading[n]=null,i.forEach((function(t){t&&t(e)}))}))};if(!t.get("packaged"))return a();r.loadScript(t.moduleUrl(n,s),a),c()}};var c=function(){a.basePath||a.workerPath||a.modePath||a.themePath||Object.keys(a.$moduleUrls).length||(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),c=function(){})};function l(i){if(s&&s.document){a.packaged=i||e.packaged||n.packaged||s.define&&(void 0).packaged;for(var r,o={},c="",l=document.currentScript||document._currentScript,u=(l&&l.ownerDocument||document).getElementsByTagName("script"),h=0;h<u.length;h++){var d=u[h],g=d.src||d.getAttribute("src");if(g){for(var f=d.attributes,p=0,m=f.length;p<m;p++){var C=f[p];0===C.name.indexOf("data-ace-")&&(o[(r=C.name.replace(/^data-ace-/,""),r.replace(/-(.)/g,(function(e,t){return t.toUpperCase()})))]=C.value)}var I=g.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);I&&(c=I[1])}}for(var v in c&&(o.base=o.base||c,o.packaged=!0),o.basePath=o.base,o.workerPath=o.workerPath||o.base,o.modePath=o.modePath||o.base,o.themePath=o.themePath||o.base,delete o.base,o)void 0!==o[v]&&t.set(v,o[v])}}l(!0),t.init=l,t.version="1.4.12"})),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],(function(e,t,n){var i=e("../lib/event"),r=e("../lib/useragent"),o=e("./default_handlers").DefaultHandlers,s=e("./default_gutter_handler").GutterHandler,a=e("./mouse_event").MouseEvent,c=e("./dragdrop_handler").DragdropHandler,l=e("./touch_handler").addTouchListeners,u=e("../config"),h=function(e){var t=this;this.editor=e,new o(this),new s(this),new c(this);var n=function(t){(!document.hasFocus||!document.hasFocus()||!e.isFocused()&&document.activeElement==(e.textInput&&e.textInput.getElement()))&&window.focus(),e.focus()},a=e.renderer.getMouseEventTarget();i.addListener(a,"click",this.onMouseEvent.bind(this,"click"),e),i.addListener(a,"mousemove",this.onMouseMove.bind(this,"mousemove"),e),i.addMultiMouseDownListener([a,e.renderer.scrollBarV&&e.renderer.scrollBarV.inner,e.renderer.scrollBarH&&e.renderer.scrollBarH.inner,e.textInput&&e.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",e),i.addMouseWheelListener(e.container,this.onMouseWheel.bind(this,"mousewheel"),e),l(e.container,e);var u=e.renderer.$gutter;i.addListener(u,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),e),i.addListener(u,"click",this.onMouseEvent.bind(this,"gutterclick"),e),i.addListener(u,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),e),i.addListener(u,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),e),i.addListener(a,"mousedown",n,e),i.addListener(u,"mousedown",n,e),r.isIE&&e.renderer.scrollBarV&&(i.addListener(e.renderer.scrollBarV.element,"mousedown",n,e),i.addListener(e.renderer.scrollBarH.element,"mousedown",n,e)),e.on("mousemove",(function(n){if(!t.state&&!t.$dragDelay&&t.$dragEnabled){var i=e.renderer.screenToTextCoordinates(n.x,n.y),r=e.session.selection.getRange(),o=e.renderer;!r.isEmpty()&&r.insideStart(i.row,i.column)?o.setCursorStyle("default"):o.setCursorStyle("")}}),e)};(function(){this.onMouseEvent=function(e,t){this.editor._emit(e,new a(t,this.editor))},this.onMouseMove=function(e,t){var n=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;n&&n.length&&this.editor._emit(e,new a(t,this.editor))},this.onMouseWheel=function(e,t){var n=new a(t,this.editor);n.speed=2*this.$scrollSpeed,n.wheelX=t.wheelX,n.wheelY=t.wheelY,this.editor._emit(e,n)},this.setState=function(e){this.state=e},this.captureMouse=function(e,t){this.x=e.x,this.y=e.y,this.isMousePressed=!0;var n=this.editor,o=this.editor.renderer;o.$isMousePressed=!0;var s=this,c=function(e){if(e){if(r.isWebKit&&!e.which&&s.releaseMouse)return s.releaseMouse();s.x=e.clientX,s.y=e.clientY,t&&t(e),s.mouseEvent=new a(e,s.editor),s.$mouseMoved=!0}},l=function(e){n.off("beforeEndOperation",h),clearInterval(d),u(),s[s.state+"End"]&&s[s.state+"End"](e),s.state="",s.isMousePressed=o.$isMousePressed=!1,o.$keepTextAreaAtCursor&&o.$moveTextAreaToCursor(),s.$onCaptureMouseMove=s.releaseMouse=null,e&&s.onMouseEvent("mouseup",e),n.endOperation()},u=function(){s[s.state]&&s[s.state](),s.$mouseMoved=!1};if(r.isOldIE&&"dblclick"==e.domEvent.type)return setTimeout((function(){l(e)}));var h=function(e){s.releaseMouse&&n.curOp.command.name&&n.curOp.selectionChanged&&(s[s.state+"End"]&&s[s.state+"End"](),s.state="",s.releaseMouse())};n.on("beforeEndOperation",h),n.startOperation({command:{name:"mouse"}}),s.$onCaptureMouseMove=c,s.releaseMouse=i.capture(this.editor.container,c,l);var d=setInterval(u,20)},this.releaseMouse=null,this.cancelContextMenu=function(){var e=function(t){t&&t.domEvent&&"contextmenu"!=t.domEvent.type||(this.editor.off("nativecontextmenu",e),t&&t.domEvent&&i.stopEvent(t.domEvent))}.bind(this);setTimeout(e,10),this.editor.on("nativecontextmenu",e)},this.destroy=function(){this.releaseMouse&&this.releaseMouse()}}).call(h.prototype),u.defineOptions(h.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:r.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),t.MouseHandler=h})),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],(function(e,t,n){var i=e("../lib/dom");t.FoldHandler=function(e){e.on("click",(function(t){var n=t.getDocumentPosition(),r=e.session,o=r.getFoldAt(n.row,n.column,1);o&&(t.getAccelKey()?r.removeFold(o):r.expandFold(o),t.stop());var s=t.domEvent&&t.domEvent.target;s&&i.hasCssClass(s,"ace_inline_button")&&i.hasCssClass(s,"ace_toggle_wrap")&&(r.setOption("wrap",!r.getUseWrapMode()),e.renderer.scrollCursorIntoView())})),e.on("gutterclick",(function(t){if("foldWidgets"==e.renderer.$gutterLayer.getRegion(t)){var n=t.getDocumentPosition().row,i=e.session;i.foldWidgets&&i.foldWidgets[n]&&e.session.onFoldWidgetClick(n,t),e.isFocused()||e.focus(),t.stop()}})),e.on("gutterdblclick",(function(t){if("foldWidgets"==e.renderer.$gutterLayer.getRegion(t)){var n=t.getDocumentPosition().row,i=e.session,r=i.getParentFoldRangeData(n,!0),o=r.range||r.firstRange;if(o){n=o.start.row;var s=i.getFoldAt(n,i.getLine(n).length,1);s?i.removeFold(s):(i.addFold("...",o),e.renderer.scrollCursorIntoView({row:o.start.row,column:0}))}t.stop()}}))}})),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],(function(e,t,n){var i=e("../lib/keys"),r=e("../lib/event"),o=function(e){this.$editor=e,this.$data={editor:e},this.$handlers=[],this.setDefaultHandler(e.commands)};(function(){this.setDefaultHandler=function(e){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=e,this.addKeyboardHandler(e,0)},this.setKeyboardHandler=function(e){var t=this.$handlers;if(t[t.length-1]!=e){for(;t[t.length-1]&&t[t.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(t[t.length-1]);this.addKeyboardHandler(e,1)}},this.addKeyboardHandler=function(e,t){if(e){"function"!=typeof e||e.handleKeyboard||(e.handleKeyboard=e);var n=this.$handlers.indexOf(e);-1!=n&&this.$handlers.splice(n,1),null==t?this.$handlers.push(e):this.$handlers.splice(t,0,e),-1==n&&e.attach&&e.attach(this.$editor)}},this.removeKeyboardHandler=function(e){var t=this.$handlers.indexOf(e);return-1!=t&&(this.$handlers.splice(t,1),e.detach&&e.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.getStatusText=function(){var e=this.$data,t=e.editor;return this.$handlers.map((function(n){return n.getStatusText&&n.getStatusText(t,e)||""})).filter(Boolean).join(" ")},this.$callKeyboardHandlers=function(e,t,n,i){for(var o,s=!1,a=this.$editor.commands,c=this.$handlers.length;c--&&!((o=this.$handlers[c].handleKeyboard(this.$data,e,t,n,i))&&o.command&&((s="null"==o.command||a.exec(o.command,this.$editor,o.args,i))&&i&&-1!=e&&1!=o.passEvent&&1!=o.command.passEvent&&r.stopEvent(i),s)););return s||-1!=e||(o={command:"insertstring"},s=a.exec("insertstring",this.$editor,t)),s&&this.$editor._signal&&this.$editor._signal("keyboardActivity",o),s},this.onCommandKey=function(e,t,n){var r=i.keyCodeToString(n);return this.$callKeyboardHandlers(t,r,n,e)},this.onTextInput=function(e){return this.$callKeyboardHandlers(-1,e)}}).call(o.prototype),t.KeyBinding=o})),ace.define("ace/lib/bidiutil",["require","exports","module"],(function(e,t,n){var i=0,r=0,o=!1,s=!1,a=!1,c=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],l=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],u=11,h=18,d=[h,h,h,h,h,h,h,h,h,6,5,6,8,5,h,h,h,h,h,h,h,h,h,h,h,h,h,h,5,5,5,6,8,4,4,u,u,u,4,4,4,4,4,10,9,10,9,9,2,2,2,2,2,2,2,2,2,2,9,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,h,h,h,h,h,h,5,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,9,4,u,u,u,u,4,4,4,4,0,4,4,h,4,4,u,u,2,2,4,0,4,4,4,2,0,4,4,4,4,4],g=[8,8,8,8,8,8,8,8,8,8,8,h,h,h,0,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8,5,13,14,15,16,17,9,u,u,u,u,u,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,9,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8];function f(e,t,n){if(!(r<e))if(1!=e||1!=i||s)for(var o,a,c,l,u=n.length,h=0;h<u;){if(t[h]>=e){for(o=h+1;o<u&&t[o]>=e;)o++;for(a=h,c=o-1;a<c;a++,c--)l=n[a],n[a]=n[c],n[c]=l;h=o}h++}else n.reverse()}function p(e,t,n,r){var c,l,d,g,f=t[r];switch(f){case 0:case 1:o=!1;case 4:case 3:return f;case 2:return o?3:2;case 7:return o=!0,1;case 8:return 4;case 9:return r<1||r+1>=t.length||2!=(c=n[r-1])&&3!=c||2!=(l=t[r+1])&&3!=l?4:(o&&(l=3),l==c?l:4);case 10:return 2==(c=r>0?n[r-1]:5)&&r+1<t.length&&2==t[r+1]?2:4;case u:if(r>0&&2==n[r-1])return 2;if(o)return 4;for(g=r+1,d=t.length;g<d&&t[g]==u;)g++;return g<d&&2==t[g]?2:4;case 12:for(d=t.length,g=r+1;g<d&&12==t[g];)g++;if(g<d){var p=e[r],m=p>=1425&&p<=2303||64286==p;if(c=t[g],m&&(1==c||7==c))return 1}return r<1||5==(c=t[r-1])?4:n[r-1];case 5:return o=!1,s=!0,i;case 6:return a=!0,4;case 13:case 14:case 16:case 17:case 15:o=!1;case h:return 4}}function m(e){var t=e.charCodeAt(0),n=t>>8;return 0==n?t>191?0:d[t]:5==n?/[\u0591-\u05f4]/.test(e)?1:0:6==n?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(e)?12:/[\u0660-\u0669\u066b-\u066c]/.test(e)?3:1642==t?u:/[\u06f0-\u06f9]/.test(e)?2:7:32==n&&t<=8287?g[255&t]:254==n&&t>=65136?7:4}t.L=0,t.R=1,t.EN=2,t.ON_R=3,t.AN=4,t.R_H=5,t.B=6,t.RLE=7,t.DOT="",t.doBidiReorder=function(e,n,u){if(e.length<2)return{};var d=e.split(""),g=new Array(d.length),C=new Array(d.length),I=[];i=u?1:0,function(e,t,n,u){var h=i?l:c,d=null,g=null,f=null,C=0,I=null,v=-1,A=null,y=null,b=[];if(!u)for(A=0,u=[];A<n;A++)u[A]=m(e[A]);for(r=i,o=!1,s=!1,a=!1,y=0;y<n;y++){if(d=C,b[y]=g=p(e,u,b,y),I=240&(C=h[d][g]),C&=15,t[y]=f=h[C][5],I>0)if(16==I){for(A=v;A<y;A++)t[A]=1;v=-1}else v=-1;if(h[C][6])-1==v&&(v=y);else if(v>-1){for(A=v;A<y;A++)t[A]=f;v=-1}5==u[y]&&(t[y]=0),r|=f}if(a)for(A=0;A<n;A++)if(6==u[A]){t[A]=i;for(var w=A-1;w>=0&&8==u[w];w--)t[w]=i}}(d,I,d.length,n);for(var v=0;v<g.length;g[v]=v,v++);f(2,I,g),f(1,I,g);for(v=0;v<g.length-1;v++)3===n[v]?I[v]=t.AN:1===I[v]&&(n[v]>7&&n[v]<13||4===n[v]||n[v]===h)?I[v]=t.ON_R:v>0&&""===d[v-1]&&/\u0622|\u0623|\u0625|\u0627/.test(d[v])&&(I[v-1]=I[v]=t.R_H,v++);d[d.length-1]===t.DOT&&(I[d.length-1]=t.B),""===d[0]&&(I[0]=t.RLE);for(v=0;v<g.length;v++)C[v]=I[g[v]];return{logicalFromVisual:g,bidiLevels:C}},t.hasBidiCharacters=function(e,t){for(var n=!1,i=0;i<e.length;i++)t[i]=m(e.charAt(i)),n||1!=t[i]&&7!=t[i]&&3!=t[i]||(n=!0);return n},t.getVisualFromLogicalIdx=function(e,t){for(var n=0;n<t.logicalFromVisual.length;n++)if(t.logicalFromVisual[n]==e)return n;return 0}})),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],(function(e,t,n){var i=e("./lib/bidiutil"),r=e("./lib/lang"),o=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,s=function(e){this.session=e,this.bidiMap={},this.currentRow=null,this.bidiUtil=i,this.charWidths=[],this.EOL="",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="",this.RLE="",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=o.test(e.getValue())};(function(){this.isBidiRow=function(e,t,n){return!!this.seenBidi&&(e!==this.currentRow&&(this.currentRow=e,this.updateRowLine(t,n),this.updateBidiMap()),this.bidiMap.bidiLevels)},this.onChange=function(e){this.seenBidi?this.currentRow=null:"insert"==e.action&&o.test(e.lines.join("\n"))&&(this.seenBidi=!0,this.currentRow=null)},this.getDocumentRow=function(){var e=0,t=this.session.$screenRowCache;if(t.length){var n=this.session.$getRowCacheIndex(t,this.currentRow);n>=0&&(e=this.session.$docRowCache[n])}return e},this.getSplitIndex=function(){var e=0,t=this.session.$screenRowCache;if(t.length)for(var n,i=this.session.$getRowCacheIndex(t,this.currentRow);this.currentRow-e>0&&(n=this.session.$getRowCacheIndex(t,this.currentRow-e-1))===i;)i=n,e++;else e=this.currentRow;return e},this.updateRowLine=function(e,t){void 0===e&&(e=this.getDocumentRow());var n=e===this.session.getLength()-1?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(e),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var o=this.session.$wrapData[e];o&&(void 0===t&&(t=this.getSplitIndex()),t>0&&o.length?(this.wrapIndent=o.indent,this.wrapOffset=this.wrapIndent*this.charWidths[i.L],this.line=t<o.length?this.line.substring(o[t-1],o[t]):this.line.substring(o[o.length-1])):this.line=this.line.substring(0,o[t])),t==o.length&&(this.line+=this.showInvisibles?n:i.DOT)}else this.line+=this.showInvisibles?n:i.DOT;var s,a=this.session,c=0;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,(function(e,t){return"\t"===e||a.isFullWidth(e.charCodeAt(0))?(s="\t"===e?a.getScreenTabSize(t+c):2,c+=s-1,r.stringRepeat(i.DOT,s)):e})),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==i.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},this.updateBidiMap=function(){var e=[];i.hasBidiCharacters(this.line,e)||this.isRtlDir?this.bidiMap=i.doBidiReorder(this.line,e,this.isRtlDir):this.bidiMap={}},this.markAsDirty=function(){this.currentRow=null},this.updateCharacterWidths=function(e){if(this.characterWidth!==e.$characterSize.width){this.fontMetrics=e;var t=this.characterWidth=e.$characterSize.width,n=e.$measureCharWidth("");this.charWidths[i.L]=this.charWidths[i.EN]=this.charWidths[i.ON_R]=t,this.charWidths[i.R]=this.charWidths[i.AN]=n,this.charWidths[i.R_H]=.45*n,this.charWidths[i.B]=this.charWidths[i.RLE]=0,this.currentRow=null}},this.setShowInvisibles=function(e){this.showInvisibles=e,this.currentRow=null},this.setEolChar=function(e){this.EOL=e},this.setContentWidth=function(e){this.contentWidth=e},this.isRtlLine=function(e){return!!this.$isRtl||(null!=e?this.session.getLine(e).charAt(0)==this.RLE:this.isRtlDir)},this.setRtlDirection=function(e,t){for(var n=e.getCursorPosition(),i=e.selection.getSelectionAnchor().row;i<=n.row;i++)t||e.session.getLine(i).charAt(0)!==e.session.$bidiHandler.RLE?t&&e.session.getLine(i).charAt(0)!==e.session.$bidiHandler.RLE&&e.session.doc.insert({column:0,row:i},e.session.$bidiHandler.RLE):e.session.doc.removeInLine(i,0,1)},this.getPosLeft=function(e){e-=this.wrapIndent;var t=this.line.charAt(0)===this.RLE?1:0,n=e>t?this.session.getOverwrite()?e:e-1:t,r=i.getVisualFromLogicalIdx(n,this.bidiMap),o=this.bidiMap.bidiLevels,s=0;!this.session.getOverwrite()&&e<=t&&o[r]%2!=0&&r++;for(var a=0;a<r;a++)s+=this.charWidths[o[a]];return!this.session.getOverwrite()&&e>t&&o[r]%2==0&&(s+=this.charWidths[o[r]]),this.wrapIndent&&(s+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(s+=this.rtlLineOffset),s},this.getSelections=function(e,t){var n,i=this.bidiMap,r=i.bidiLevels,o=[],s=0,a=Math.min(e,t)-this.wrapIndent,c=Math.max(e,t)-this.wrapIndent,l=!1,u=!1,h=0;this.wrapIndent&&(s+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var d,g=0;g<r.length;g++)d=i.logicalFromVisual[g],n=r[g],(l=d>=a&&d<c)&&!u?h=s:!l&&u&&o.push({left:h,width:s-h}),s+=this.charWidths[n],u=l;if(l&&g===r.length&&o.push({left:h,width:s-h}),this.isRtlDir)for(var f=0;f<o.length;f++)o[f].left+=this.rtlLineOffset;return o},this.offsetToCol=function(e){this.isRtlDir&&(e-=this.rtlLineOffset);var t=0,n=(e=Math.max(e,0),0),i=0,r=this.bidiMap.bidiLevels,o=this.charWidths[r[i]];for(this.wrapIndent&&(e-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);e>n+o/2;){if(n+=o,i===r.length-1){o=0;break}o=this.charWidths[r[++i]]}return i>0&&r[i-1]%2!=0&&r[i]%2==0?(e<n&&i--,t=this.bidiMap.logicalFromVisual[i]):i>0&&r[i-1]%2==0&&r[i]%2!=0?t=1+(e>n?this.bidiMap.logicalFromVisual[i]:this.bidiMap.logicalFromVisual[i-1]):this.isRtlDir&&i===r.length-1&&0===o&&r[i-1]%2==0||!this.isRtlDir&&0===i&&r[i]%2!=0?t=1+this.bidiMap.logicalFromVisual[i]:(i>0&&r[i-1]%2!=0&&0!==o&&i--,t=this.bidiMap.logicalFromVisual[i]),0===t&&this.isRtlDir&&t++,t+this.wrapIndent}}).call(s.prototype),t.BidiHandler=s})),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],(function(e,t,n){var i=e("./lib/oop"),r=e("./lib/lang"),o=e("./lib/event_emitter").EventEmitter,s=e("./range").Range,a=function(e){this.session=e,this.doc=e.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var t=this;this.cursor.on("change",(function(e){t.$cursorChanged=!0,t.$silent||t._emit("changeCursor"),t.$isEmpty||t.$silent||t._emit("changeSelection"),t.$keepDesiredColumnOnChange||e.old.column==e.value.column||(t.$desiredColumn=null)})),this.anchor.on("change",(function(){t.$anchorChanged=!0,t.$isEmpty||t.$silent||t._emit("changeSelection")}))};(function(){i.implement(this,o),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(e,t){this.$isEmpty=!1,this.anchor.setPosition(e,t)},this.getAnchor=this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.isBackwards=function(){var e=this.anchor,t=this.lead;return e.row>t.row||e.row==t.row&&e.column>t.column},this.getRange=function(){var e=this.anchor,t=this.lead;return this.$isEmpty?s.fromPoints(t,t):this.isBackwards()?s.fromPoints(t,e):s.fromPoints(e,t)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},this.setRange=this.setSelectionRange=function(e,t){var n=t?e.end:e.start,i=t?e.start:e.end;this.$setSelection(n.row,n.column,i.row,i.column)},this.$setSelection=function(e,t,n,i){if(!this.$silent){var r=this.$isEmpty,o=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(e,t),this.cursor.setPosition(n,i),this.$isEmpty=!s.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||r!=this.$isEmpty||o)&&this._emit("changeSelection")}},this.$moveSelection=function(e){var t=this.lead;this.$isEmpty&&this.setSelectionAnchor(t.row,t.column),e.call(this)},this.selectTo=function(e,t){this.$moveSelection((function(){this.moveCursorTo(e,t)}))},this.selectToPosition=function(e){this.$moveSelection((function(){this.moveCursorToPosition(e)}))},this.moveTo=function(e,t){this.clearSelection(),this.moveCursorTo(e,t)},this.moveToPosition=function(e){this.clearSelection(),this.moveCursorToPosition(e)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(e,t){if(void 0===t){var n=e||this.lead;e=n.row,t=n.column}return this.session.getWordRange(e,t)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var e=this.getCursor(),t=this.session.getAWordRange(e.row,e.column);this.setSelectionRange(t)},this.getLineRange=function(e,t){var n,i="number"==typeof e?e:this.lead.row,r=this.session.getFoldLine(i);return r?(i=r.start.row,n=r.end.row):n=i,!0===t?new s(i,0,n,this.session.getLine(n).length):new s(i,0,n+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.wouldMoveIntoSoftTab=function(e,t,n){var i=e.column,r=e.column+t;return n<0&&(i=e.column-t,r=e.column),this.session.isTabStop(e)&&this.doc.getLine(e.row).slice(i,r).split(" ").length-1==t},this.moveCursorLeft=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,-1))this.moveCursorTo(e.start.row,e.start.column);else if(0===t.column)t.row>0&&this.moveCursorTo(t.row-1,this.doc.getLine(t.row-1).length);else{var n=this.session.getTabSize();this.wouldMoveIntoSoftTab(t,n,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-n):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,1))this.moveCursorTo(e.end.row,e.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var n=this.session.getTabSize();t=this.lead;this.wouldMoveIntoSoftTab(t,n,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,n):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var e=this.lead.row,t=this.lead.column,n=this.session.documentToScreenRow(e,t),i=this.session.screenToDocumentPosition(n,0),r=this.session.getDisplayLine(e,null,i.row,i.column).match(/^\s*/);r[0].length==t||this.session.$useEmacsStyleLineStart||(i.column+=r[0].length),this.moveCursorToPosition(i)},this.moveCursorLineEnd=function(){var e=this.lead,t=this.session.getDocumentLastRowColumnPosition(e.row,e.column);if(this.lead.column==t.column){var n=this.session.getLine(t.row);if(t.column==n.length){var i=n.search(/\s+$/);i>0&&(t.column=i)}}this.moveCursorTo(t.row,t.column)},this.moveCursorFileEnd=function(){var e=this.doc.getLength()-1,t=this.doc.getLine(e).length;this.moveCursorTo(e,t)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var e=this.lead.row,t=this.lead.column,n=this.doc.getLine(e),i=n.substring(t);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var r=this.session.getFoldAt(e,t,1);if(r)this.moveCursorTo(r.end.row,r.end.column);else{if(this.session.nonTokenRe.exec(i)&&(t+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,i=n.substring(t)),t>=n.length)return this.moveCursorTo(e,n.length),this.moveCursorRight(),void(e<this.doc.getLength()-1&&this.moveCursorWordRight());this.session.tokenRe.exec(i)&&(t+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(e,t)}},this.moveCursorLongWordLeft=function(){var e,t=this.lead.row,n=this.lead.column;if(e=this.session.getFoldAt(t,n,-1))this.moveCursorTo(e.start.row,e.start.column);else{var i=this.session.getFoldStringAt(t,n,-1);null==i&&(i=this.doc.getLine(t).substring(0,n));var o=r.stringReverse(i);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(o)&&(n-=this.session.nonTokenRe.lastIndex,o=o.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),n<=0)return this.moveCursorTo(t,0),this.moveCursorLeft(),void(t>0&&this.moveCursorWordLeft());this.session.tokenRe.exec(o)&&(n-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(t,n)}},this.$shortWordEndIndex=function(e){var t,n=0,i=/\s/,r=this.session.tokenRe;if(r.lastIndex=0,this.session.tokenRe.exec(e))n=this.session.tokenRe.lastIndex;else{for(;(t=e[n])&&i.test(t);)n++;if(n<1)for(r.lastIndex=0;(t=e[n])&&!r.test(t);)if(r.lastIndex=0,n++,i.test(t)){if(n>2){n--;break}for(;(t=e[n])&&i.test(t);)n++;if(n>2)break}}return r.lastIndex=0,n},this.moveCursorShortWordRight=function(){var e=this.lead.row,t=this.lead.column,n=this.doc.getLine(e),i=n.substring(t),r=this.session.getFoldAt(e,t,1);if(r)return this.moveCursorTo(r.end.row,r.end.column);if(t==n.length){var o=this.doc.getLength();do{e++,i=this.doc.getLine(e)}while(e<o&&/^\s*$/.test(i));/^\s+/.test(i)||(i=""),t=0}var s=this.$shortWordEndIndex(i);this.moveCursorTo(e,t+s)},this.moveCursorShortWordLeft=function(){var e,t=this.lead.row,n=this.lead.column;if(e=this.session.getFoldAt(t,n,-1))return this.moveCursorTo(e.start.row,e.start.column);var i=this.session.getLine(t).substring(0,n);if(0===n){do{t--,i=this.doc.getLine(t)}while(t>0&&/^\s*$/.test(i));n=i.length,/\s+$/.test(i)||(i="")}var o=r.stringReverse(i),s=this.$shortWordEndIndex(o);return this.moveCursorTo(t,n-s)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(e,t){var n,i=this.session.documentToScreenPosition(this.lead.row,this.lead.column);if(0===t&&(0!==e&&(this.session.$bidiHandler.isBidiRow(i.row,this.lead.row)?(n=this.session.$bidiHandler.getPosLeft(i.column),i.column=Math.round(n/this.session.$bidiHandler.charWidths[0])):n=i.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?i.column=this.$desiredColumn:this.$desiredColumn=i.column),0!=e&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var r=this.session.lineWidgets[this.lead.row];e<0?e-=r.rowsAbove||0:e>0&&(e+=r.rowCount-(r.rowsAbove||0))}var o=this.session.screenToDocumentPosition(i.row+e,i.column,n);0!==e&&0===t&&o.row===this.lead.row&&(o.column,this.lead.column),this.moveCursorTo(o.row,o.column+t,0===t)},this.moveCursorToPosition=function(e){this.moveCursorTo(e.row,e.column)},this.moveCursorTo=function(e,t,n){var i=this.session.getFoldAt(e,t,1);i&&(e=i.start.row,t=i.start.column),this.$keepDesiredColumnOnChange=!0;var r=this.session.getLine(e);/[\uDC00-\uDFFF]/.test(r.charAt(t))&&r.charAt(t-1)&&(this.lead.row==e&&this.lead.column==t+1?t-=1:t+=1),this.lead.setPosition(e,t),this.$keepDesiredColumnOnChange=!1,n||(this.$desiredColumn=null)},this.moveCursorToScreen=function(e,t,n){var i=this.session.screenToDocumentPosition(e,t);this.moveCursorTo(i.row,i.column,n)},this.detach=function(){this.lead.detach(),this.anchor.detach(),this.session=this.doc=null},this.fromOrientedRange=function(e){this.setSelectionRange(e,e.cursor==e.start),this.$desiredColumn=e.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(e){var t=this.getRange();return e?(e.start.column=t.start.column,e.start.row=t.start.row,e.end.column=t.end.column,e.end.row=t.end.row):e=t,e.cursor=this.isBackwards()?e.start:e.end,e.desiredColumn=this.$desiredColumn,e},this.getRangeOfMovements=function(e){var t=this.getCursor();try{e(this);var n=this.getCursor();return s.fromPoints(t,n)}catch(e){return s.fromPoints(t,t)}finally{this.moveCursorToPosition(t)}},this.toJSON=function(){if(this.rangeCount)var e=this.ranges.map((function(e){var t=e.clone();return t.isBackwards=e.cursor==e.start,t}));else(e=this.getRange()).isBackwards=this.isBackwards();return e},this.fromJSON=function(e){if(null==e.start){if(this.rangeList&&e.length>1){this.toSingleRange(e[0]);for(var t=e.length;t--;){var n=s.fromPoints(e[t].start,e[t].end);e[t].isBackwards&&(n.cursor=n.start),this.addRange(n,!0)}return}e=e[0]}this.rangeList&&this.toSingleRange(e),this.setSelectionRange(e,e.isBackwards)},this.isEqual=function(e){if((e.length||this.rangeCount)&&e.length!=this.rangeCount)return!1;if(!e.length||!this.ranges)return this.getRange().isEqual(e);for(var t=this.ranges.length;t--;)if(!this.ranges[t].isEqual(e[t]))return!1;return!0}}).call(a.prototype),t.Selection=a})),ace.define("ace/tokenizer",["require","exports","module","ace/config"],(function(e,t,n){var i=e("./config"),r=2e3,o=function(e){for(var t in this.states=e,this.regExps={},this.matchMappings={},this.states){for(var n=this.states[t],i=[],r=0,o=this.matchMappings[t]={defaultToken:"text"},s="g",a=[],c=0;c<n.length;c++){var l=n[c];if(l.defaultToken&&(o.defaultToken=l.defaultToken),l.caseInsensitive&&(s="gi"),null!=l.regex){l.regex instanceof RegExp&&(l.regex=l.regex.toString().slice(1,-1));var u=l.regex,h=new RegExp("(?:("+u+")|(.))").exec("a").length-2;Array.isArray(l.token)?1==l.token.length||1==h?l.token=l.token[0]:h-1!=l.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:l,groupCount:h-1}),l.token=l.token[0]):(l.tokenArray=l.token,l.token=null,l.onMatch=this.$arrayTokens):"function"!=typeof l.token||l.onMatch||(l.onMatch=h>1?this.$applyToken:l.token),h>1&&(/\\\d/.test(l.regex)?u=l.regex.replace(/\\([0-9]+)/g,(function(e,t){return"\\"+(parseInt(t,10)+r+1)})):(h=1,u=this.removeCapturingGroups(l.regex)),l.splitRegex||"string"==typeof l.token||a.push(l)),o[r]=c,r+=h,i.push(u),l.onMatch||(l.onMatch=null)}}i.length||(o[0]=0,i.push("$")),a.forEach((function(e){e.splitRegex=this.createSplitterRegexp(e.regex,s)}),this),this.regExps[t]=new RegExp("("+i.join(")|(")+")|($)",s)}};(function(){this.$setMaxTokenCount=function(e){r=0|e},this.$applyToken=function(e){var t=this.splitRegex.exec(e).slice(1),n=this.token.apply(this,t);if("string"==typeof n)return[{type:n,value:e}];for(var i=[],r=0,o=n.length;r<o;r++)t[r]&&(i[i.length]={type:n[r],value:t[r]});return i},this.$arrayTokens=function(e){if(!e)return[];var t=this.splitRegex.exec(e);if(!t)return"text";for(var n=[],i=this.tokenArray,r=0,o=i.length;r<o;r++)t[r+1]&&(n[n.length]={type:i[r],value:t[r+1]});return n},this.removeCapturingGroups=function(e){return e.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!]|(\()/g,(function(e,t){return t?"(?:":e}))},this.createSplitterRegexp=function(e,t){if(-1!=e.indexOf("(?=")){var n=0,i=!1,r={};e.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,(function(e,t,o,s,a,c){return i?i="]"!=a:a?i=!0:s?(n==r.stack&&(r.end=c+1,r.stack=-1),n--):o&&(n++,1!=o.length&&(r.stack=n,r.start=c)),e})),null!=r.end&&/^\)*$/.test(e.substr(r.end))&&(e=e.substring(0,r.start)+e.substr(r.end))}return"^"!=e.charAt(0)&&(e="^"+e),"$"!=e.charAt(e.length-1)&&(e+="$"),new RegExp(e,(t||"").replace("g",""))},this.getLineTokens=function(e,t){if(t&&"string"!=typeof t){var n=t.slice(0);"#tmp"===(t=n[0])&&(n.shift(),t=n.shift())}else n=[];var i=t||"start",o=this.states[i];o||(i="start",o=this.states[i]);var s=this.matchMappings[i],a=this.regExps[i];a.lastIndex=0;for(var c,l=[],u=0,h=0,d={type:null,value:""};c=a.exec(e);){var g=s.defaultToken,f=null,p=c[0],m=a.lastIndex;if(m-p.length>u){var C=e.substring(u,m-p.length);d.type==g?d.value+=C:(d.type&&l.push(d),d={type:g,value:C})}for(var I=0;I<c.length-2;I++)if(void 0!==c[I+1]){g=(f=o[s[I]]).onMatch?f.onMatch(p,i,n,e):f.token,f.next&&(i="string"==typeof f.next?f.next:f.next(i,n),(o=this.states[i])||(this.reportError("state doesn't exist",i),i="start",o=this.states[i]),s=this.matchMappings[i],u=m,(a=this.regExps[i]).lastIndex=m),f.consumeLineEnd&&(u=m);break}if(p)if("string"==typeof g)f&&!1===f.merge||d.type!==g?(d.type&&l.push(d),d={type:g,value:p}):d.value+=p;else if(g){d.type&&l.push(d),d={type:null,value:""};for(I=0;I<g.length;I++)l.push(g[I])}if(u==e.length)break;if(u=m,h++>r){for(h>2*e.length&&this.reportError("infinite loop with in ace tokenizer",{startState:t,line:e});u<e.length;)d.type&&l.push(d),d={value:e.substring(u,u+=500),type:"overflow"};i="start",n=[];break}}return d.type&&l.push(d),n.length>1&&n[0]!==i&&n.unshift("#tmp",i),{tokens:l,state:n.length?n:i}},this.reportError=i.reportError}).call(o.prototype),t.Tokenizer=o})),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],(function(e,t,n){var i=e("../lib/lang"),r=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(e,t){if(t)for(var n in e){for(var i=e[n],r=0;r<i.length;r++){var o=i[r];(o.next||o.onMatch)&&("string"==typeof o.next&&0!==o.next.indexOf(t)&&(o.next=t+o.next),o.nextState&&0!==o.nextState.indexOf(t)&&(o.nextState=t+o.nextState))}this.$rules[t+n]=i}else for(var n in e)this.$rules[n]=e[n]},this.getRules=function(){return this.$rules},this.embedRules=function(e,t,n,r,o){var s="function"==typeof e?(new e).getRules():e;if(r)for(var a=0;a<r.length;a++)r[a]=t+r[a];else for(var c in r=[],s)r.push(t+c);if(this.addRules(s,t),n){var l=Array.prototype[o?"push":"unshift"];for(a=0;a<r.length;a++)l.apply(this.$rules[r[a]],i.deepCopy(n))}this.$embeds||(this.$embeds=[]),this.$embeds.push(t)},this.getEmbeds=function(){return this.$embeds};var e=function(e,t){return("start"!=e||t.length)&&t.unshift(this.nextState,e),this.nextState},t=function(e,t){return t.shift(),t.shift()||"start"};this.normalizeRules=function(){var n=0,i=this.$rules;Object.keys(i).forEach((function r(o){var s=i[o];s.processed=!0;for(var a=0;a<s.length;a++){var c=s[a],l=null;Array.isArray(c)&&(l=c,c={}),!c.regex&&c.start&&(c.regex=c.start,c.next||(c.next=[]),c.next.push({defaultToken:c.token},{token:c.token+".end",regex:c.end||c.start,next:"pop"}),c.token=c.token+".start",c.push=!0);var u=c.next||c.push;if(u&&Array.isArray(u)){var h=c.stateName;h||("string"!=typeof(h=c.token)&&(h=h[0]||""),i[h]&&(h+=n++)),i[h]=u,c.next=h,r(h)}else"pop"==u&&(c.next=t);if(c.push&&(c.nextState=c.next||c.push,c.next=e,delete c.push),c.rules)for(var d in c.rules)i[d]?i[d].push&&i[d].push.apply(i[d],c.rules[d]):i[d]=c.rules[d];var g="string"==typeof c?c:c.include;if(g&&(l=Array.isArray(g)?g.map((function(e){return i[e]})):i[g]),l){var f=[a,1].concat(l);c.noEscape&&(f=f.filter((function(e){return!e.next}))),s.splice.apply(s,f),a--}c.keywordMap&&(c.token=this.createKeywordMapper(c.keywordMap,c.defaultToken||"text",c.caseInsensitive),delete c.defaultToken)}}),this)},this.createKeywordMapper=function(e,t,n,i){var r=Object.create(null);return this.$keywordList=[],Object.keys(e).forEach((function(t){for(var o=e[t].split(i||"|"),s=o.length;s--;){var a=o[s];this.$keywordList.push(a),n&&(a=a.toLowerCase()),r[a]=t}}),this),e=null,n?function(e){return r[e.toLowerCase()]||t}:function(e){return r[e]||t}},this.getKeywords=function(){return this.$keywords}}).call(r.prototype),t.TextHighlightRules=r})),ace.define("ace/mode/behaviour",["require","exports","module"],(function(e,t,n){var i=function(){this.$behaviours={}};(function(){this.add=function(e,t,n){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[e]:this.$behaviours[e]={}}this.$behaviours[e][t]=n},this.addBehaviours=function(e){for(var t in e)for(var n in e[t])this.add(t,n,e[t][n])},this.remove=function(e){this.$behaviours&&this.$behaviours[e]&&delete this.$behaviours[e]},this.inherit=function(e,t){if("function"==typeof e)var n=(new e).getBehaviours(t);else n=e.getBehaviours(t);this.addBehaviours(n)},this.getBehaviours=function(e){if(e){for(var t={},n=0;n<e.length;n++)this.$behaviours[e[n]]&&(t[e[n]]=this.$behaviours[e[n]]);return t}return this.$behaviours}}).call(i.prototype),t.Behaviour=i})),ace.define("ace/token_iterator",["require","exports","module","ace/range"],(function(e,t,n){var i=e("./range").Range,r=function(e,t,n){this.$session=e,this.$row=t,this.$rowTokens=e.getTokens(t);var i=e.getTokenAt(t,n);this.$tokenIndex=i?i.index:-1};(function(){this.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){var e;for(this.$tokenIndex+=1;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,e||(e=this.$session.getLength()),this.$row>=e)return this.$row=e-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var e=this.$rowTokens,t=this.$tokenIndex,n=e[t].start;if(void 0!==n)return n;for(n=0;t>0;)n+=e[t-=1].value.length;return n},this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},this.getCurrentTokenRange=function(){var e=this.$rowTokens[this.$tokenIndex],t=this.getCurrentTokenColumn();return new i(this.$row,t,this.$row,t+e.value.length)}}).call(r.prototype),t.TokenIterator=r})),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],(function(e,t,n){var i,r=e("../../lib/oop"),o=e("../behaviour").Behaviour,s=e("../../token_iterator").TokenIterator,a=e("../../lib/lang"),c=["text","paren.rparen","rparen","paren","punctuation.operator"],l=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],u={},h={'"':'"',"'":"'"},d=function(e){var t=-1;if(e.multiSelect&&(t=e.selection.index,u.rangeCount!=e.multiSelect.rangeCount&&(u={rangeCount:e.multiSelect.rangeCount})),u[t])return i=u[t];i=u[t]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},g=function(e,t,n,i){var r=e.end.row-e.start.row;return{text:n+t+i,selection:[0,e.start.column+1,r,e.end.column+(r?0:1)]}},f=function(e){this.add("braces","insertion",(function(t,n,r,o,s){var c=r.getCursorPosition(),l=o.doc.getLine(c.row);if("{"==s){d(r);var u=r.getSelectionRange(),h=o.doc.getTextRange(u);if(""!==h&&"{"!==h&&r.getWrapBehavioursEnabled())return g(u,h,"{","}");if(f.isSaneInsertion(r,o))return/[\]\}\)]/.test(l[c.column])||r.inMultiSelectMode||e&&e.braces?(f.recordAutoInsert(r,o,"}"),{text:"{}",selection:[1,1]}):(f.recordMaybeInsert(r,o,"{"),{text:"{",selection:[1,1]})}else if("}"==s){if(d(r),"}"==l.substring(c.column,c.column+1))if(null!==o.$findOpeningBracket("}",{column:c.column+1,row:c.row})&&f.isAutoInsertedClosing(c,l,s))return f.popAutoInsertedClosing(),{text:"",selection:[1,1]}}else{if("\n"==s||"\r\n"==s){d(r);var p="";if(f.isMaybeInsertedClosing(c,l)&&(p=a.stringRepeat("}",i.maybeInsertedBrackets),f.clearMaybeInsertedClosing()),"}"===l.substring(c.column,c.column+1)){var m=o.findMatchingBracket({row:c.row,column:c.column+1},"}");if(!m)return null;var C=this.$getIndent(o.getLine(m.row))}else{if(!p)return void f.clearMaybeInsertedClosing();C=this.$getIndent(l)}var I=C+o.getTabString();return{text:"\n"+I+"\n"+C+p,selection:[1,I.length,1,I.length]}}f.clearMaybeInsertedClosing()}})),this.add("braces","deletion",(function(e,t,n,r,o){var s=r.doc.getTextRange(o);if(!o.isMultiLine()&&"{"==s){if(d(n),"}"==r.doc.getLine(o.start.row).substring(o.end.column,o.end.column+1))return o.end.column++,o;i.maybeInsertedBrackets--}})),this.add("parens","insertion",(function(e,t,n,i,r){if("("==r){d(n);var o=n.getSelectionRange(),s=i.doc.getTextRange(o);if(""!==s&&n.getWrapBehavioursEnabled())return g(o,s,"(",")");if(f.isSaneInsertion(n,i))return f.recordAutoInsert(n,i,")"),{text:"()",selection:[1,1]}}else if(")"==r){d(n);var a=n.getCursorPosition(),c=i.doc.getLine(a.row);if(")"==c.substring(a.column,a.column+1))if(null!==i.$findOpeningBracket(")",{column:a.column+1,row:a.row})&&f.isAutoInsertedClosing(a,c,r))return f.popAutoInsertedClosing(),{text:"",selection:[1,1]}}})),this.add("parens","deletion",(function(e,t,n,i,r){var o=i.doc.getTextRange(r);if(!r.isMultiLine()&&"("==o&&(d(n),")"==i.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)))return r.end.column++,r})),this.add("brackets","insertion",(function(e,t,n,i,r){if("["==r){d(n);var o=n.getSelectionRange(),s=i.doc.getTextRange(o);if(""!==s&&n.getWrapBehavioursEnabled())return g(o,s,"[","]");if(f.isSaneInsertion(n,i))return f.recordAutoInsert(n,i,"]"),{text:"[]",selection:[1,1]}}else if("]"==r){d(n);var a=n.getCursorPosition(),c=i.doc.getLine(a.row);if("]"==c.substring(a.column,a.column+1))if(null!==i.$findOpeningBracket("]",{column:a.column+1,row:a.row})&&f.isAutoInsertedClosing(a,c,r))return f.popAutoInsertedClosing(),{text:"",selection:[1,1]}}})),this.add("brackets","deletion",(function(e,t,n,i,r){var o=i.doc.getTextRange(r);if(!r.isMultiLine()&&"["==o&&(d(n),"]"==i.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)))return r.end.column++,r})),this.add("string_dquotes","insertion",(function(e,t,n,i,r){var o=i.$mode.$quotes||h;if(1==r.length&&o[r]){if(this.lineCommentStart&&-1!=this.lineCommentStart.indexOf(r))return;d(n);var s=r,a=n.getSelectionRange(),c=i.doc.getTextRange(a);if(!(""===c||1==c.length&&o[c])&&n.getWrapBehavioursEnabled())return g(a,c,s,s);if(!c){var l=n.getCursorPosition(),u=i.doc.getLine(l.row),f=u.substring(l.column-1,l.column),p=u.substring(l.column,l.column+1),m=i.getTokenAt(l.row,l.column),C=i.getTokenAt(l.row,l.column+1);if("\\"==f&&m&&/escape/.test(m.type))return null;var I,v=m&&/string|escape/.test(m.type),A=!C||/string|escape/.test(C.type);if(p==s)(I=v!==A)&&/string\.end/.test(C.type)&&(I=!1);else{if(v&&!A)return null;if(v&&A)return null;var y=i.$mode.tokenRe;y.lastIndex=0;var b=y.test(f);y.lastIndex=0;var w=y.test(f);if(b||w)return null;if(p&&!/[\s;,.})\]\\]/.test(p))return null;var $=u[l.column-2];if(f==s&&($==s||y.test($)))return null;I=!0}return{text:I?s+s:"",selection:[1,1]}}}})),this.add("string_dquotes","deletion",(function(e,t,n,i,r){var o=i.$mode.$quotes||h,s=i.doc.getTextRange(r);if(!r.isMultiLine()&&o.hasOwnProperty(s)&&(d(n),i.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)==s))return r.end.column++,r}))};f.isSaneInsertion=function(e,t){var n=e.getCursorPosition(),i=new s(t,n.row,n.column);if(!this.$matchTokenType(i.getCurrentToken()||"text",c)){if(/[)}\]]/.test(e.session.getLine(n.row)[n.column]))return!0;var r=new s(t,n.row,n.column+1);if(!this.$matchTokenType(r.getCurrentToken()||"text",c))return!1}return i.stepForward(),i.getCurrentTokenRow()!==n.row||this.$matchTokenType(i.getCurrentToken()||"text",l)},f.$matchTokenType=function(e,t){return t.indexOf(e.type||e)>-1},f.recordAutoInsert=function(e,t,n){var r=e.getCursorPosition(),o=t.doc.getLine(r.row);this.isAutoInsertedClosing(r,o,i.autoInsertedLineEnd[0])||(i.autoInsertedBrackets=0),i.autoInsertedRow=r.row,i.autoInsertedLineEnd=n+o.substr(r.column),i.autoInsertedBrackets++},f.recordMaybeInsert=function(e,t,n){var r=e.getCursorPosition(),o=t.doc.getLine(r.row);this.isMaybeInsertedClosing(r,o)||(i.maybeInsertedBrackets=0),i.maybeInsertedRow=r.row,i.maybeInsertedLineStart=o.substr(0,r.column)+n,i.maybeInsertedLineEnd=o.substr(r.column),i.maybeInsertedBrackets++},f.isAutoInsertedClosing=function(e,t,n){return i.autoInsertedBrackets>0&&e.row===i.autoInsertedRow&&n===i.autoInsertedLineEnd[0]&&t.substr(e.column)===i.autoInsertedLineEnd},f.isMaybeInsertedClosing=function(e,t){return i.maybeInsertedBrackets>0&&e.row===i.maybeInsertedRow&&t.substr(e.column)===i.maybeInsertedLineEnd&&t.substr(0,e.column)==i.maybeInsertedLineStart},f.popAutoInsertedClosing=function(){i.autoInsertedLineEnd=i.autoInsertedLineEnd.substr(1),i.autoInsertedBrackets--},f.clearMaybeInsertedClosing=function(){i&&(i.maybeInsertedBrackets=0,i.maybeInsertedRow=-1)},r.inherits(f,o),t.CstyleBehaviour=f})),ace.define("ace/unicode",["require","exports","module"],(function(e,t,n){for(var i=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],r=0,o=[],s=0;s<i.length;s+=2)o.push(r+=i[s]),i[s+1]&&o.push(45,r+=i[s+1]);t.wordChars=String.fromCharCode.apply(null,o)})),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],(function(e,t,n){var i=e("../config"),r=e("../tokenizer").Tokenizer,o=e("./text_highlight_rules").TextHighlightRules,s=e("./behaviour/cstyle").CstyleBehaviour,a=e("../unicode"),c=e("../lib/lang"),l=e("../token_iterator").TokenIterator,u=e("../range").Range,h=function(){this.HighlightRules=o};(function(){this.$defaultBehaviour=new s,this.tokenRe=new RegExp("^["+a.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+a.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new r(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(e,t,n,i){var r=t.doc,o=!0,s=!0,a=1/0,l=t.getTabSize(),u=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))p=this.lineCommentStart.map(c.escapeRegExp).join("|"),g=this.lineCommentStart[0];else p=c.escapeRegExp(this.lineCommentStart),g=this.lineCommentStart;p=new RegExp("^(\\s*)(?:"+p+") ?"),u=t.getUseSoftTabs();I=function(e,t){var n=e.match(p);if(n){var i=n[1].length,o=n[0].length;d(e,i,o)||" "!=n[0][o-1]||o--,r.removeInLine(t,i,o)}};var h=g+" ",d=(C=function(e,t){o&&!/\S/.test(e)||(d(e,a,a)?r.insertInLine({row:t,column:a},h):r.insertInLine({row:t,column:a},g))},v=function(e,t){return p.test(e)},function(e,t,n){for(var i=0;t--&&" "==e.charAt(t);)i++;if(i%l!=0)return!1;for(i=0;" "==e.charAt(n++);)i++;return l>2?i%l!=l-1:i%l==0})}else{if(!this.blockComment)return!1;var g=this.blockComment.start,f=this.blockComment.end,p=new RegExp("^(\\s*)(?:"+c.escapeRegExp(g)+")"),m=new RegExp("(?:"+c.escapeRegExp(f)+")\\s*$"),C=function(e,t){v(e,t)||o&&!/\S/.test(e)||(r.insertInLine({row:t,column:e.length},f),r.insertInLine({row:t,column:a},g))},I=function(e,t){var n;(n=e.match(m))&&r.removeInLine(t,e.length-n[0].length,e.length),(n=e.match(p))&&r.removeInLine(t,n[1].length,n[0].length)},v=function(e,n){if(p.test(e))return!0;for(var i=t.getTokens(n),r=0;r<i.length;r++)if("comment"===i[r].type)return!0}}function A(e){for(var t=n;t<=i;t++)e(r.getLine(t),t)}var y=1/0;A((function(e,t){var n=e.search(/\S/);-1!==n?(n<a&&(a=n),s&&!v(e,t)&&(s=!1)):y>e.length&&(y=e.length)})),a==1/0&&(a=y,o=!1,s=!1),u&&a%l!=0&&(a=Math.floor(a/l)*l),A(s?I:C)},this.toggleBlockComment=function(e,t,n,i){var r=this.blockComment;if(r){!r.start&&r[0]&&(r=r[0]);var o=(p=new l(t,i.row,i.column)).getCurrentToken();t.selection;var s,a,c=t.selection.toOrientedRange();if(o&&/comment/.test(o.type)){for(var h,d;o&&/comment/.test(o.type);){if(-1!=(m=o.value.indexOf(r.start))){var g=p.getCurrentTokenRow(),f=p.getCurrentTokenColumn()+m;h=new u(g,f,g,f+r.start.length);break}o=p.stepBackward()}var p;for(o=(p=new l(t,i.row,i.column)).getCurrentToken();o&&/comment/.test(o.type);){var m;if(-1!=(m=o.value.indexOf(r.end))){g=p.getCurrentTokenRow(),f=p.getCurrentTokenColumn()+m;d=new u(g,f,g,f+r.end.length);break}o=p.stepForward()}d&&t.remove(d),h&&(t.remove(h),s=h.start.row,a=-r.start.length)}else a=r.start.length,s=n.start.row,t.insert(n.end,r.end),t.insert(n.start,r.start);c.start.row==s&&(c.start.column+=a),c.end.row==s&&(c.end.column+=a),t.selection.fromOrientedRange(c)}},this.getNextLineIndent=function(e,t,n){return this.$getIndent(t)},this.checkOutdent=function(e,t,n){return!1},this.autoOutdent=function(e,t,n){},this.$getIndent=function(e){return e.match(/^\s*/)[0]},this.createWorker=function(e){return null},this.createModeDelegates=function(e){for(var t in this.$embeds=[],this.$modes={},e)if(e[t]){var n=e[t],r=n.prototype.$id,o=i.$modes[r];o||(i.$modes[r]=o=new n),i.$modes[t]||(i.$modes[t]=o),this.$embeds.push(t),this.$modes[t]=o}var s=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"];for(t=0;t<s.length;t++)!function(e){var n=s[t],i=e[n];e[s[t]]=function(){return this.$delegator(n,arguments,i)}}(this)},this.$delegator=function(e,t,n){var i=t[0]||"start";if("string"!=typeof i){if(Array.isArray(i[2])){var r=i[2][i[2].length-1];if(s=this.$modes[r])return s[e].apply(s,[i[1]].concat([].slice.call(t,1)))}i=i[0]||"start"}for(var o=0;o<this.$embeds.length;o++)if(this.$modes[this.$embeds[o]]){var s,a=i.split(this.$embeds[o]);if(!a[0]&&a[1])return t[0]=a[1],(s=this.$modes[this.$embeds[o]])[e].apply(s,t)}var c=n.apply(this,t);return n?c:void 0},this.transformAction=function(e,t,n,i,r){if(this.$behaviour){var o=this.$behaviour.getBehaviours();for(var s in o)if(o[s][t]){var a=o[s][t].apply(this,arguments);if(a)return a}}},this.getKeywords=function(e){if(!this.completionKeywords){var t=this.$tokenizer.rules,n=[];for(var i in t)for(var r=t[i],o=0,s=r.length;o<s;o++)if("string"==typeof r[o].token)/keyword|support|storage/.test(r[o].token)&&n.push(r[o].regex);else if("object"==typeof r[o].token)for(var a=0,c=r[o].token.length;a<c;a++)if(/keyword|support|storage/.test(r[o].token[a])){i=r[o].regex.match(/\(.+?\)/g)[a];n.push(i.substr(1,i.length-2))}this.completionKeywords=n}return e?n.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(e,t,n,i){return(this.$keywordList||this.$createKeywordList()).map((function(e){return{name:e,value:e,score:0,meta:"keyword"}}))},this.$id="ace/mode/text"}).call(h.prototype),t.Mode=h})),ace.define("ace/apply_delta",["require","exports","module"],(function(e,t,n){t.applyDelta=function(e,t,n){var i=t.start.row,r=t.start.column,o=e[i]||"";switch(t.action){case"insert":if(1===t.lines.length)e[i]=o.substring(0,r)+t.lines[0]+o.substring(r);else{var s=[i,1].concat(t.lines);e.splice.apply(e,s),e[i]=o.substring(0,r)+e[i],e[i+t.lines.length-1]+=o.substring(r)}break;case"remove":var a=t.end.column,c=t.end.row;i===c?e[i]=o.substring(0,r)+o.substring(a):e.splice(i,c-i+1,o.substring(0,r)+e[c].substring(a))}}})),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(e,t,n){var i=e("./lib/oop"),r=e("./lib/event_emitter").EventEmitter,o=t.Anchor=function(e,t,n){this.$onChange=this.onChange.bind(this),this.attach(e),void 0===n?this.setPosition(t.row,t.column):this.setPosition(t,n)};(function(){function e(e,t,n){var i=n?e.column<=t.column:e.column<t.column;return e.row<t.row||e.row==t.row&&i}i.implement(this,r),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(t){if(!(t.start.row==t.end.row&&t.start.row!=this.row||t.start.row>this.row)){var n=function(t,n,i){var r="insert"==t.action,o=(r?1:-1)*(t.end.row-t.start.row),s=(r?1:-1)*(t.end.column-t.start.column),a=t.start,c=r?a:t.end;if(e(n,a,i))return{row:n.row,column:n.column};if(e(c,n,!i))return{row:n.row+o,column:n.column+(n.row==c.row?s:0)};return{row:a.row,column:a.column}}(t,{row:this.row,column:this.column},this.$insertRight);this.setPosition(n.row,n.column,!0)}},this.setPosition=function(e,t,n){var i;if(i=n?{row:e,column:t}:this.$clipPositionToDocument(e,t),this.row!=i.row||this.column!=i.column){var r={row:this.row,column:this.column};this.row=i.row,this.column=i.column,this._signal("change",{old:r,value:i})}},this.detach=function(){this.document.off("change",this.$onChange)},this.attach=function(e){this.document=e||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(e,t){var n={};return e>=this.document.getLength()?(n.row=Math.max(0,this.document.getLength()-1),n.column=this.document.getLine(n.row).length):e<0?(n.row=0,n.column=0):(n.row=e,n.column=Math.min(this.document.getLine(n.row).length,Math.max(0,t))),t<0&&(n.column=0),n}}).call(o.prototype)})),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],(function(e,t,n){var i=e("./lib/oop"),r=e("./apply_delta").applyDelta,o=e("./lib/event_emitter").EventEmitter,s=e("./range").Range,a=e("./anchor").Anchor,c=function(e){this.$lines=[""],0===e.length?this.$lines=[""]:Array.isArray(e)?this.insertMergedLines({row:0,column:0},e):this.insert({row:0,column:0},e)};(function(){i.implement(this,o),this.setValue=function(e){var t=this.getLength()-1;this.remove(new s(0,0,t,this.getLine(t).length)),this.insert({row:0,column:0},e)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(e,t){return new a(this,e,t)},0==="aaa".split(/a/).length?this.$split=function(e){return e.replace(/\r\n|\r/g,"\n").split("\n")}:this.$split=function(e){return e.split(/\r\n|\r|\n/)},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=t?t[1]:"\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(e){this.$newLineMode!==e&&(this.$newLineMode=e,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(e){return"\r\n"==e||"\r"==e||"\n"==e},this.getLine=function(e){return this.$lines[e]||""},this.getLines=function(e,t){return this.$lines.slice(e,t+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(e){return this.getLinesForRange(e).join(this.getNewLineCharacter())},this.getLinesForRange=function(e){var t;if(e.start.row===e.end.row)t=[this.getLine(e.start.row).substring(e.start.column,e.end.column)];else{(t=this.getLines(e.start.row,e.end.row))[0]=(t[0]||"").substring(e.start.column);var n=t.length-1;e.end.row-e.start.row==n&&(t[n]=t[n].substring(0,e.end.column))}return t},this.insertLines=function(e,t){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(e,t)},this.removeLines=function(e,t){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(e,t)},this.insertNewLine=function(e){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(e,["",""])},this.insert=function(e,t){return this.getLength()<=1&&this.$detectNewLine(t),this.insertMergedLines(e,this.$split(t))},this.insertInLine=function(e,t){var n=this.clippedPos(e.row,e.column),i=this.pos(e.row,e.column+t.length);return this.applyDelta({start:n,end:i,action:"insert",lines:[t]},!0),this.clonePos(i)},this.clippedPos=function(e,t){var n=this.getLength();void 0===e?e=n:e<0?e=0:e>=n&&(e=n-1,t=void 0);var i=this.getLine(e);return null==t&&(t=i.length),{row:e,column:t=Math.min(Math.max(t,0),i.length)}},this.clonePos=function(e){return{row:e.row,column:e.column}},this.pos=function(e,t){return{row:e,column:t}},this.$clipPosition=function(e){var t=this.getLength();return e.row>=t?(e.row=Math.max(0,t-1),e.column=this.getLine(t-1).length):(e.row=Math.max(0,e.row),e.column=Math.min(Math.max(e.column,0),this.getLine(e.row).length)),e},this.insertFullLines=function(e,t){var n=0;(e=Math.min(Math.max(e,0),this.getLength()))<this.getLength()?(t=t.concat([""]),n=0):(t=[""].concat(t),e--,n=this.$lines[e].length),this.insertMergedLines({row:e,column:n},t)},this.insertMergedLines=function(e,t){var n=this.clippedPos(e.row,e.column),i={row:n.row+t.length-1,column:(1==t.length?n.column:0)+t[t.length-1].length};return this.applyDelta({start:n,end:i,action:"insert",lines:t}),this.clonePos(i)},this.remove=function(e){var t=this.clippedPos(e.start.row,e.start.column),n=this.clippedPos(e.end.row,e.end.column);return this.applyDelta({start:t,end:n,action:"remove",lines:this.getLinesForRange({start:t,end:n})}),this.clonePos(t)},this.removeInLine=function(e,t,n){var i=this.clippedPos(e,t),r=this.clippedPos(e,n);return this.applyDelta({start:i,end:r,action:"remove",lines:this.getLinesForRange({start:i,end:r})},!0),this.clonePos(i)},this.removeFullLines=function(e,t){e=Math.min(Math.max(0,e),this.getLength()-1);var n=(t=Math.min(Math.max(0,t),this.getLength()-1))==this.getLength()-1&&e>0,i=t<this.getLength()-1,r=n?e-1:e,o=n?this.getLine(r).length:0,a=i?t+1:t,c=i?0:this.getLine(a).length,l=new s(r,o,a,c),u=this.$lines.slice(e,t+1);return this.applyDelta({start:l.start,end:l.end,action:"remove",lines:this.getLinesForRange(l)}),u},this.removeNewLine=function(e){e<this.getLength()-1&&e>=0&&this.applyDelta({start:this.pos(e,this.getLine(e).length),end:this.pos(e+1,0),action:"remove",lines:["",""]})},this.replace=function(e,t){return e instanceof s||(e=s.fromPoints(e.start,e.end)),0===t.length&&e.isEmpty()?e.start:t==this.getTextRange(e)?e.end:(this.remove(e),t?this.insert(e.start,t):e.start)},this.applyDeltas=function(e){for(var t=0;t<e.length;t++)this.applyDelta(e[t])},this.revertDeltas=function(e){for(var t=e.length-1;t>=0;t--)this.revertDelta(e[t])},this.applyDelta=function(e,t){var n="insert"==e.action;(n?e.lines.length<=1&&!e.lines[0]:!s.comparePoints(e.start,e.end))||(n&&e.lines.length>2e4?this.$splitAndapplyLargeDelta(e,2e4):(r(this.$lines,e,t),this._signal("change",e)))},this.$safeApplyDelta=function(e){var t=this.$lines.length;("remove"==e.action&&e.start.row<t&&e.end.row<t||"insert"==e.action&&e.start.row<=t)&&this.applyDelta(e)},this.$splitAndapplyLargeDelta=function(e,t){for(var n=e.lines,i=n.length-t+1,r=e.start.row,o=e.start.column,s=0,a=0;s<i;s=a){a+=t-1;var c=n.slice(s,a);c.push(""),this.applyDelta({start:this.pos(r+s,o),end:this.pos(r+a,o=0),action:e.action,lines:c},!0)}e.lines=n.slice(s),e.start.row=r+s,e.start.column=o,this.applyDelta(e,!0)},this.revertDelta=function(e){this.$safeApplyDelta({start:this.clonePos(e.start),end:this.clonePos(e.end),action:"insert"==e.action?"remove":"insert",lines:e.lines.slice()})},this.indexToPosition=function(e,t){for(var n=this.$lines||this.getAllLines(),i=this.getNewLineCharacter().length,r=t||0,o=n.length;r<o;r++)if((e-=n[r].length+i)<0)return{row:r,column:e+n[r].length+i};return{row:o-1,column:e+n[o-1].length+i}},this.positionToIndex=function(e,t){for(var n=this.$lines||this.getAllLines(),i=this.getNewLineCharacter().length,r=0,o=Math.min(e.row,n.length),s=t||0;s<o;++s)r+=n[s].length+i;return r+e.column}}).call(c.prototype),t.Document=c})),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(e,t,n){var i=e("./lib/oop"),r=e("./lib/event_emitter").EventEmitter,o=function(e,t){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=e;var n=this;this.$worker=function(){if(n.running){for(var e=new Date,t=n.currentLine,i=-1,r=n.doc,o=t;n.lines[t];)t++;var s=r.getLength(),a=0;for(n.running=!1;t<s;){n.$tokenizeRow(t),i=t;do{t++}while(n.lines[t]);if(++a%5==0&&new Date-e>20){n.running=setTimeout(n.$worker,20);break}}n.currentLine=t,-1==i&&(i=t),o<=i&&n.fireUpdateEvent(o,i)}}};(function(){i.implement(this,r),this.setTokenizer=function(e){this.tokenizer=e,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(e){this.doc=e,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(e,t){var n={first:e,last:t};this._signal("update",{data:n})},this.start=function(e){this.currentLine=Math.min(e||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(e){var t=e.start.row,n=e.end.row-t;if(0===n)this.lines[t]=null;else if("remove"==e.action)this.lines.splice(t,n+1,null),this.states.splice(t,n+1,null);else{var i=Array(n+1);i.unshift(t,1),this.lines.splice.apply(this.lines,i),this.states.splice.apply(this.states,i)}this.currentLine=Math.min(t,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(e){return this.lines[e]||this.$tokenizeRow(e)},this.getState=function(e){return this.currentLine==e&&this.$tokenizeRow(e),this.states[e]||"start"},this.$tokenizeRow=function(e){var t=this.doc.getLine(e),n=this.states[e-1],i=this.tokenizer.getLineTokens(t,n,e);return this.states[e]+""!=i.state+""?(this.states[e]=i.state,this.lines[e+1]=null,this.currentLine>e+1&&(this.currentLine=e+1)):this.currentLine==e&&(this.currentLine=e+1),this.lines[e]=i.tokens}}).call(o.prototype),t.BackgroundTokenizer=o})),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],(function(e,t,n){var i=e("./lib/lang");e("./lib/oop");var r=e("./range").Range,o=function(e,t,n){this.setRegexp(e),this.clazz=t,this.type=n||"text"};(function(){this.MAX_RANGES=500,this.setRegexp=function(e){this.regExp+""!=e+""&&(this.regExp=e,this.cache=[])},this.update=function(e,t,n,o){if(this.regExp)for(var s=o.firstRow,a=o.lastRow,c=s;c<=a;c++){var l=this.cache[c];null==l&&((l=i.getMatchOffsets(n.getLine(c),this.regExp)).length>this.MAX_RANGES&&(l=l.slice(0,this.MAX_RANGES)),l=l.map((function(e){return new r(c,e.offset,c,e.offset+e.length)})),this.cache[c]=l.length?l:"");for(var u=l.length;u--;)t.drawSingleLineMarker(e,l[u].toScreenRange(n),this.clazz,o)}}}).call(o.prototype),t.SearchHighlight=o})),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],(function(e,t,n){var i=e("../range").Range;function r(e,t){this.foldData=e,Array.isArray(t)?this.folds=t:t=this.folds=[t];var n=t[t.length-1];this.range=new i(t[0].start.row,t[0].start.column,n.end.row,n.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach((function(e){e.setFoldLine(this)}),this)}(function(){this.shiftRow=function(e){this.start.row+=e,this.end.row+=e,this.folds.forEach((function(t){t.start.row+=e,t.end.row+=e}))},this.addFold=function(e){if(e.sameRow){if(e.start.row<this.startRow||e.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(e),this.folds.sort((function(e,t){return-e.range.compareEnd(t.start.row,t.start.column)})),this.range.compareEnd(e.start.row,e.start.column)>0?(this.end.row=e.end.row,this.end.column=e.end.column):this.range.compareStart(e.end.row,e.end.column)<0&&(this.start.row=e.start.row,this.start.column=e.start.column)}else if(e.start.row==this.end.row)this.folds.push(e),this.end.row=e.end.row,this.end.column=e.end.column;else{if(e.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(e),this.start.row=e.start.row,this.start.column=e.start.column}e.foldLine=this},this.containsRow=function(e){return e>=this.start.row&&e<=this.end.row},this.walk=function(e,t,n){var i,r,o=0,s=this.folds,a=!0;null==t&&(t=this.end.row,n=this.end.column);for(var c=0;c<s.length;c++){if(-1==(r=(i=s[c]).range.compareStart(t,n)))return void e(null,t,n,o,a);if(!e(null,i.start.row,i.start.column,o,a)&&e(i.placeholder,i.start.row,i.start.column,o)||0===r)return;a=!i.sameRow,o=i.end.column}e(null,t,n,o,a)},this.getNextFoldTo=function(e,t){for(var n,i,r=0;r<this.folds.length;r++){if(-1==(i=(n=this.folds[r]).range.compareEnd(e,t)))return{fold:n,kind:"after"};if(0===i)return{fold:n,kind:"inside"}}return null},this.addRemoveChars=function(e,t,n){var i,r,o=this.getNextFoldTo(e,t);if(o)if(i=o.fold,"inside"==o.kind&&i.start.column!=t&&i.start.row!=e)window.console&&window.console.log(e,t,i);else if(i.start.row==e){var s=(r=this.folds).indexOf(i);for(0===s&&(this.start.column+=n);s<r.length;s++){if((i=r[s]).start.column+=n,!i.sameRow)return;i.end.column+=n}this.end.column+=n}},this.split=function(e,t){var n=this.getNextFoldTo(e,t);if(!n||"inside"==n.kind)return null;var i=n.fold,o=this.folds,s=this.foldData,a=o.indexOf(i),c=o[a-1];this.end.row=c.end.row,this.end.column=c.end.column;var l=new r(s,o=o.splice(a,o.length-a));return s.splice(s.indexOf(this)+1,0,l),l},this.merge=function(e){for(var t=e.folds,n=0;n<t.length;n++)this.addFold(t[n]);var i=this.foldData;i.splice(i.indexOf(e),1)},this.toString=function(){var e=[this.range.toString()+": ["];return this.folds.forEach((function(t){e.push("  "+t.toString())})),e.push("]"),e.join("\n")},this.idxToPosition=function(e){for(var t=0,n=0;n<this.folds.length;n++){var i=this.folds[n];if((e-=i.start.column-t)<0)return{row:i.start.row,column:i.start.column+e};if((e-=i.placeholder.length)<0)return i.start;t=i.end.column}return{row:this.end.row,column:this.end.column+e}}}).call(r.prototype),t.FoldLine=r})),ace.define("ace/range_list",["require","exports","module","ace/range"],(function(e,t,n){var i=e("./range").Range.comparePoints,r=function(){this.ranges=[],this.$bias=1};(function(){this.comparePoints=i,this.pointIndex=function(e,t,n){for(var r=this.ranges,o=n||0;o<r.length;o++){var s=r[o],a=i(e,s.end);if(!(a>0)){var c=i(e,s.start);return 0===a?t&&0!==c?-o-2:o:c>0||0===c&&!t?o:-o-1}}return-o-1},this.add=function(e){var t=!e.isEmpty(),n=this.pointIndex(e.start,t);n<0&&(n=-n-1);var i=this.pointIndex(e.end,t,n);return i<0?i=-i-1:i++,this.ranges.splice(n,i-n,e)},this.addList=function(e){for(var t=[],n=e.length;n--;)t.push.apply(t,this.add(e[n]));return t},this.substractPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges.splice(t,1)},this.merge=function(){for(var e,t=[],n=this.ranges,r=(n=n.sort((function(e,t){return i(e.start,t.start)})))[0],o=1;o<n.length;o++){e=r,r=n[o];var s=i(e.end,r.start);s<0||(0!=s||e.isEmpty()||r.isEmpty())&&(i(e.end,r.end)<0&&(e.end.row=r.end.row,e.end.column=r.end.column),n.splice(o,1),t.push(r),r=e,o--)}return this.ranges=n,t},this.contains=function(e,t){return this.pointIndex({row:e,column:t})>=0},this.containsPoint=function(e){return this.pointIndex(e)>=0},this.rangeAtPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges[t]},this.clipRows=function(e,t){var n=this.ranges;if(n[0].start.row>t||n[n.length-1].start.row<e)return[];var i=this.pointIndex({row:e,column:0});i<0&&(i=-i-1);var r=this.pointIndex({row:t,column:0},i);r<0&&(r=-r-1);for(var o=[],s=i;s<r;s++)o.push(n[s]);return o},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(e){this.session&&this.detach(),this.session=e,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},this.$onChange=function(e){for(var t=e.start,n=e.end,i=t.row,r=n.row,o=this.ranges,s=0,a=o.length;s<a;s++){if((u=o[s]).end.row>=i)break}if("insert"==e.action)for(var c=r-i,l=-t.column+n.column;s<a;s++){if((u=o[s]).start.row>i)break;if(u.start.row==i&&u.start.column>=t.column&&(u.start.column==t.column&&this.$bias<=0||(u.start.column+=l,u.start.row+=c)),u.end.row==i&&u.end.column>=t.column){if(u.end.column==t.column&&this.$bias<0)continue;u.end.column==t.column&&l>0&&s<a-1&&u.end.column>u.start.column&&u.end.column==o[s+1].start.column&&(u.end.column-=l),u.end.column+=l,u.end.row+=c}}else for(c=i-r,l=t.column-n.column;s<a;s++){if((u=o[s]).start.row>r)break;u.end.row<r&&(i<u.end.row||i==u.end.row&&t.column<u.end.column)?(u.end.row=i,u.end.column=t.column):u.end.row==r?u.end.column<=n.column?(c||u.end.column>t.column)&&(u.end.column=t.column,u.end.row=t.row):(u.end.column+=l,u.end.row+=c):u.end.row>r&&(u.end.row+=c),u.start.row<r&&(i<u.start.row||i==u.start.row&&t.column<u.start.column)?(u.start.row=i,u.start.column=t.column):u.start.row==r?u.start.column<=n.column?(c||u.start.column>t.column)&&(u.start.column=t.column,u.start.row=t.row):(u.start.column+=l,u.start.row+=c):u.start.row>r&&(u.start.row+=c)}if(0!=c&&s<a)for(;s<a;s++){var u;(u=o[s]).start.row+=c,u.end.row+=c}}}).call(r.prototype),t.RangeList=r})),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list","ace/lib/oop"],(function(e,t,n){var i=e("../range_list").RangeList,r=e("../lib/oop"),o=t.Fold=function(e,t){this.foldLine=null,this.placeholder=t,this.range=e,this.start=e.start,this.end=e.end,this.sameRow=e.start.row==e.end.row,this.subFolds=this.ranges=[]};function s(e,t){e.row-=t.row,0==e.row&&(e.column-=t.column)}function a(e,t){0==e.row&&(e.column+=t.column),e.row+=t.row}r.inherits(o,i),function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(e){this.foldLine=e,this.subFolds.forEach((function(t){t.setFoldLine(e)}))},this.clone=function(){var e=this.range.clone(),t=new o(e,this.placeholder);return this.subFolds.forEach((function(e){t.subFolds.push(e.clone())})),t.collapseChildren=this.collapseChildren,t},this.addSubFold=function(e){if(!this.range.isEqual(e)){!function(e,t){s(e.start,t),s(e.end,t)}(e,this.start);for(var t=e.start.row,n=e.start.column,i=0,r=-1;i<this.subFolds.length&&1==(r=this.subFolds[i].range.compare(t,n));i++);var o=this.subFolds[i],a=0;if(0==r){if(o.range.containsRange(e))return o.addSubFold(e);a=1}t=e.range.end.row,n=e.range.end.column;var c=i;for(r=-1;c<this.subFolds.length&&1==(r=this.subFolds[c].range.compare(t,n));c++);0==r&&c++;for(var l=this.subFolds.splice(i,c-i,e),u=0==r?l.length-1:l.length,h=a;h<u;h++)e.addSubFold(l[h]);return e.setFoldLine(this.foldLine),e}},this.restoreRange=function(e){return function(e,t){a(e.start,t),a(e.end,t)}(e,this.start)}}.call(o.prototype)})),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],(function(e,t,n){var i=e("../range").Range,r=e("./fold_line").FoldLine,o=e("./fold").Fold,s=e("../token_iterator").TokenIterator;t.Folding=function(){this.getFoldAt=function(e,t,n){var i=this.getFoldLine(e);if(!i)return null;for(var r=i.folds,o=0;o<r.length;o++){var s=r[o].range;if(s.contains(e,t)){if(1==n&&s.isEnd(e,t)&&!s.isEmpty())continue;if(-1==n&&s.isStart(e,t)&&!s.isEmpty())continue;return r[o]}}},this.getFoldsInRange=function(e){var t=e.start,n=e.end,i=this.$foldData,r=[];t.column+=1,n.column-=1;for(var o=0;o<i.length;o++){var s=i[o].range.compareRange(e);if(2!=s){if(-2==s)break;for(var a=i[o].folds,c=0;c<a.length;c++){var l=a[c];if(-2==(s=l.range.compareRange(e)))break;if(2!=s){if(42==s)break;r.push(l)}}}}return t.column-=1,n.column+=1,r},this.getFoldsInRangeList=function(e){if(Array.isArray(e)){var t=[];e.forEach((function(e){t=t.concat(this.getFoldsInRange(e))}),this)}else t=this.getFoldsInRange(e);return t},this.getAllFolds=function(){for(var e=[],t=this.$foldData,n=0;n<t.length;n++)for(var i=0;i<t[n].folds.length;i++)e.push(t[n].folds[i]);return e},this.getFoldStringAt=function(e,t,n,i){if(!(i=i||this.getFoldLine(e)))return null;for(var r,o,s={end:{column:0}},a=0;a<i.folds.length;a++){var c=(o=i.folds[a]).range.compareEnd(e,t);if(-1==c){r=this.getLine(o.start.row).substring(s.end.column,o.start.column);break}if(0===c)return null;s=o}return r||(r=this.getLine(o.start.row).substring(s.end.column)),-1==n?r.substring(0,t-s.end.column):1==n?r.substring(t-s.end.column):r},this.getFoldLine=function(e,t){var n=this.$foldData,i=0;for(t&&(i=n.indexOf(t)),-1==i&&(i=0);i<n.length;i++){var r=n[i];if(r.start.row<=e&&r.end.row>=e)return r;if(r.end.row>e)return null}return null},this.getNextFoldLine=function(e,t){var n=this.$foldData,i=0;for(t&&(i=n.indexOf(t)),-1==i&&(i=0);i<n.length;i++){var r=n[i];if(r.end.row>=e)return r}return null},this.getFoldedRowCount=function(e,t){for(var n=this.$foldData,i=t-e+1,r=0;r<n.length;r++){var o=n[r],s=o.end.row,a=o.start.row;if(s>=t){a<t&&(a>=e?i-=t-a:i=0);break}s>=e&&(i-=a>=e?s-a:s-e+1)}return i},this.$addFoldLine=function(e){return this.$foldData.push(e),this.$foldData.sort((function(e,t){return e.start.row-t.start.row})),e},this.addFold=function(e,t){var n,i=this.$foldData,s=!1;e instanceof o?n=e:(n=new o(t,e)).collapseChildren=t.collapseChildren,this.$clipRangeToDocument(n.range);var a=n.start.row,c=n.start.column,l=n.end.row,u=n.end.column,h=this.getFoldAt(a,c,1),d=this.getFoldAt(l,u,-1);if(h&&d==h)return h.addSubFold(n);h&&!h.range.isStart(a,c)&&this.removeFold(h),d&&!d.range.isEnd(l,u)&&this.removeFold(d);var g=this.getFoldsInRange(n.range);g.length>0&&(this.removeFolds(g),n.collapseChildren||g.forEach((function(e){n.addSubFold(e)})));for(var f=0;f<i.length;f++){var p=i[f];if(l==p.start.row){p.addFold(n),s=!0;break}if(a==p.end.row){if(p.addFold(n),s=!0,!n.sameRow){var m=i[f+1];if(m&&m.start.row==l){p.merge(m);break}}break}if(l<=p.start.row)break}return s||(p=this.$addFoldLine(new r(this.$foldData,n))),this.$useWrapMode?this.$updateWrapData(p.start.row,p.start.row):this.$updateRowLengthCache(p.start.row,p.start.row),this.$modified=!0,this._signal("changeFold",{data:n,action:"add"}),n},this.addFolds=function(e){e.forEach((function(e){this.addFold(e)}),this)},this.removeFold=function(e){var t=e.foldLine,n=t.start.row,i=t.end.row,r=this.$foldData,o=t.folds;if(1==o.length)r.splice(r.indexOf(t),1);else if(t.range.isEnd(e.end.row,e.end.column))o.pop(),t.end.row=o[o.length-1].end.row,t.end.column=o[o.length-1].end.column;else if(t.range.isStart(e.start.row,e.start.column))o.shift(),t.start.row=o[0].start.row,t.start.column=o[0].start.column;else if(e.sameRow)o.splice(o.indexOf(e),1);else{var s=t.split(e.start.row,e.start.column);(o=s.folds).shift(),s.start.row=o[0].start.row,s.start.column=o[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(n,i):this.$updateRowLengthCache(n,i)),this.$modified=!0,this._signal("changeFold",{data:e,action:"remove"})},this.removeFolds=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);t.forEach((function(e){this.removeFold(e)}),this),this.$modified=!0},this.expandFold=function(e){this.removeFold(e),e.subFolds.forEach((function(t){e.restoreRange(t),this.addFold(t)}),this),e.collapseChildren>0&&this.foldAll(e.start.row+1,e.end.row,e.collapseChildren-1),e.subFolds=[]},this.expandFolds=function(e){e.forEach((function(e){this.expandFold(e)}),this)},this.unfold=function(e,t){var n,r;if(null==e?(n=new i(0,0,this.getLength(),0),null==t&&(t=!0)):n="number"==typeof e?new i(e,0,e,this.getLine(e).length):"row"in e?i.fromPoints(e,e):e,r=this.getFoldsInRangeList(n),0!=t?this.removeFolds(r):this.expandFolds(r),r.length)return r},this.isRowFolded=function(e,t){return!!this.getFoldLine(e,t)},this.getRowFoldEnd=function(e,t){var n=this.getFoldLine(e,t);return n?n.end.row:e},this.getRowFoldStart=function(e,t){var n=this.getFoldLine(e,t);return n?n.start.row:e},this.getFoldDisplayLine=function(e,t,n,i,r){null==i&&(i=e.start.row),null==r&&(r=0),null==t&&(t=e.end.row),null==n&&(n=this.getLine(t).length);var o=this.doc,s="";return e.walk((function(e,t,n,a){if(!(t<i)){if(t==i){if(n<r)return;a=Math.max(r,a)}s+=null!=e?e:o.getLine(t).substring(a,n)}}),t,n),s},this.getDisplayLine=function(e,t,n,i){var r,o=this.getFoldLine(e);return o?this.getFoldDisplayLine(o,e,t,n,i):(r=this.doc.getLine(e)).substring(i||0,t||r.length)},this.$cloneFoldData=function(){var e=[];return e=this.$foldData.map((function(t){var n=t.folds.map((function(e){return e.clone()}));return new r(e,n)}))},this.toggleFold=function(e){var t,n,i=this.selection.getRange();if(i.isEmpty()){var r=i.start;if(t=this.getFoldAt(r.row,r.column))return void this.expandFold(t);(n=this.findMatchingBracket(r))?1==i.comparePoint(n)?i.end=n:(i.start=n,i.start.column++,i.end.column--):(n=this.findMatchingBracket({row:r.row,column:r.column+1}))?(1==i.comparePoint(n)?i.end=n:i.start=n,i.start.column++):i=this.getCommentFoldRange(r.row,r.column)||i}else{var o=this.getFoldsInRange(i);if(e&&o.length)return void this.expandFolds(o);1==o.length&&(t=o[0])}if(t||(t=this.getFoldAt(i.start.row,i.start.column)),t&&t.range.toString()==i.toString())this.expandFold(t);else{var s="...";if(!i.isMultiLine()){if((s=this.getTextRange(i)).length<4)return;s=s.trim().substring(0,2)+".."}this.addFold(s,i)}},this.getCommentFoldRange=function(e,t,n){var r=new s(this,e,t),o=r.getCurrentToken(),a=o&&o.type;if(o&&/^comment|string/.test(a)){"comment"==(a=a.match(/comment|string/)[0])&&(a+="|doc-start");var c=new RegExp(a),l=new i;if(1!=n){do{o=r.stepBackward()}while(o&&c.test(o.type));r.stepForward()}if(l.start.row=r.getCurrentTokenRow(),l.start.column=r.getCurrentTokenColumn()+2,r=new s(this,e,t),-1!=n){var u=-1;do{if(o=r.stepForward(),-1==u){var h=this.getState(r.$row);c.test(h)||(u=r.$row)}else if(r.$row>u)break}while(o&&c.test(o.type));o=r.stepBackward()}else o=r.getCurrentToken();return l.end.row=r.getCurrentTokenRow(),l.end.column=r.getCurrentTokenColumn()+o.value.length-2,l}},this.foldAll=function(e,t,n,i){null==n&&(n=1e5);var r=this.foldWidgets;if(r){t=t||this.getLength();for(var o=e=e||0;o<t;o++)if(null==r[o]&&(r[o]=this.getFoldWidget(o)),"start"==r[o]&&(!i||i(o))){var s=this.getFoldWidgetRange(o);s&&s.isMultiLine()&&s.end.row<=t&&s.start.row>=e&&(o=s.end.row,s.collapseChildren=n,this.addFold("...",s))}}},this.foldToLevel=function(e){for(this.foldAll();e-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var e=this;this.foldAll(null,null,null,(function(t){for(var n=e.getTokens(t),i=0;i<n.length;i++){var r=n[i];if("text"!=r.type||!/^\s+$/.test(r.value))return!!/comment/.test(r.type)}}))},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(e){if(!this.$foldStyles[e])throw new Error("invalid fold style: "+e+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=e){this.$foldStyle=e,"manual"==e&&this.unfold();var t=this.$foldMode;this.$setFolding(null),this.$setFolding(t)}},this.$setFolding=function(e){this.$foldMode!=e&&(this.$foldMode=e,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),e&&"manual"!=this.$foldStyle?(this.foldWidgets=[],this.getFoldWidget=e.getFoldWidget.bind(e,this,this.$foldStyle),this.getFoldWidgetRange=e.getFoldWidgetRange.bind(e,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)):this.foldWidgets=null)},this.getParentFoldRangeData=function(e,t){var n=this.foldWidgets;if(!n||t&&n[e])return{};for(var i,r=e-1;r>=0;){var o=n[r];if(null==o&&(o=n[r]=this.getFoldWidget(r)),"start"==o){var s=this.getFoldWidgetRange(r);if(i||(i=s),s&&s.end.row>=e)break}r--}return{range:-1!==r&&s,firstRange:i}},this.onFoldWidgetClick=function(e,t){var n={children:(t=t.domEvent).shiftKey,all:t.ctrlKey||t.metaKey,siblings:t.altKey};if(!this.$toggleFoldWidget(e,n)){var i=t.target||t.srcElement;i&&/ace_fold-widget/.test(i.className)&&(i.className+=" ace_invalid")}},this.$toggleFoldWidget=function(e,t){if(this.getFoldWidget){var n=this.getFoldWidget(e),i=this.getLine(e),r="end"===n?-1:1,o=this.getFoldAt(e,-1===r?0:i.length,r);if(o)return t.children||t.all?this.removeFold(o):this.expandFold(o),o;var s=this.getFoldWidgetRange(e,!0);if(s&&!s.isMultiLine()&&(o=this.getFoldAt(s.start.row,s.start.column,1))&&s.isEqual(o.range))return this.removeFold(o),o;if(t.siblings){var a=this.getParentFoldRangeData(e);if(a.range)var c=a.range.start.row+1,l=a.range.end.row;this.foldAll(c,l,t.all?1e4:0)}else t.children?(l=s?s.end.row:this.getLength(),this.foldAll(e+1,l,t.all?1e4:0)):s&&(t.all&&(s.collapseChildren=1e4),this.addFold("...",s));return s}},this.toggleFoldWidget=function(e){var t=this.selection.getCursor().row;t=this.getRowFoldStart(t);var n=this.$toggleFoldWidget(t,{});if(!n){var i=this.getParentFoldRangeData(t,!0);if(n=i.range||i.firstRange){t=n.start.row;var r=this.getFoldAt(t,this.getLine(t).length,1);r?this.removeFold(r):this.addFold("...",n)}}},this.updateFoldWidgets=function(e){var t=e.start.row,n=e.end.row-t;if(0===n)this.foldWidgets[t]=null;else if("remove"==e.action)this.foldWidgets.splice(t,n+1,null);else{var i=Array(n+1);i.unshift(t,1),this.foldWidgets.splice.apply(this.foldWidgets,i)}},this.tokenizerUpdateFoldWidgets=function(e){var t=e.data;t.first!=t.last&&this.foldWidgets.length>t.first&&this.foldWidgets.splice(t.first,this.foldWidgets.length)}}})),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],(function(e,t,n){var i=e("../token_iterator").TokenIterator,r=e("../range").Range;t.BracketMatch=function(){this.findMatchingBracket=function(e,t){if(0==e.column)return null;var n=t||this.getLine(e.row).charAt(e.column-1);if(""==n)return null;var i=n.match(/([\(\[\{])|([\)\]\}])/);return i?i[1]?this.$findClosingBracket(i[1],e):this.$findOpeningBracket(i[2],e):null},this.getBracketRange=function(e){var t,n=this.getLine(e.row),i=!0,o=n.charAt(e.column-1),s=o&&o.match(/([\(\[\{])|([\)\]\}])/);if(s||(o=n.charAt(e.column),e={row:e.row,column:e.column+1},s=o&&o.match(/([\(\[\{])|([\)\]\}])/),i=!1),!s)return null;if(s[1]){if(!(a=this.$findClosingBracket(s[1],e)))return null;t=r.fromPoints(e,a),i||(t.end.column++,t.start.column--),t.cursor=t.end}else{var a;if(!(a=this.$findOpeningBracket(s[2],e)))return null;t=r.fromPoints(a,e),i||(t.start.column++,t.end.column--),t.cursor=t.start}return t},this.getMatchingBracketRanges=function(e){var t=this.getLine(e.row),n=t.charAt(e.column-1),i=n&&n.match(/([\(\[\{])|([\)\]\}])/);if(i||(n=t.charAt(e.column),e={row:e.row,column:e.column+1},i=n&&n.match(/([\(\[\{])|([\)\]\}])/)),!i)return null;var o=new r(e.row,e.column-1,e.row,e.column),s=i[1]?this.$findClosingBracket(i[1],e):this.$findOpeningBracket(i[2],e);return s?[o,new r(s.row,s.column,s.row,s.column+1)]:[o]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(e,t,n){var r=this.$brackets[e],o=1,s=new i(this,t.row,t.column),a=s.getCurrentToken();if(a||(a=s.stepForward()),a){n||(n=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+"));for(var c=t.column-s.getCurrentTokenColumn()-2,l=a.value;;){for(;c>=0;){var u=l.charAt(c);if(u==r){if(0==(o-=1))return{row:s.getCurrentTokenRow(),column:c+s.getCurrentTokenColumn()}}else u==e&&(o+=1);c-=1}do{a=s.stepBackward()}while(a&&!n.test(a.type));if(null==a)break;c=(l=a.value).length-1}return null}},this.$findClosingBracket=function(e,t,n){var r=this.$brackets[e],o=1,s=new i(this,t.row,t.column),a=s.getCurrentToken();if(a||(a=s.stepForward()),a){n||(n=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+"));for(var c=t.column-s.getCurrentTokenColumn();;){for(var l=a.value,u=l.length;c<u;){var h=l.charAt(c);if(h==r){if(0==(o-=1))return{row:s.getCurrentTokenRow(),column:c+s.getCurrentTokenColumn()}}else h==e&&(o+=1);c+=1}do{a=s.stepForward()}while(a&&!n.test(a.type));if(null==a)break;c=0}return null}}}})),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],(function(e,t,n){var i=e("./lib/oop"),r=e("./lib/lang"),o=e("./bidihandler").BidiHandler,s=e("./config"),a=e("./lib/event_emitter").EventEmitter,c=e("./selection").Selection,l=e("./mode/text").Mode,u=e("./range").Range,h=e("./document").Document,d=e("./background_tokenizer").BackgroundTokenizer,g=e("./search_highlight").SearchHighlight,f=function(e,t){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++f.$uid,this.$foldData.toString=function(){return this.join("\n")},this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),"object"==typeof e&&e.getLine||(e=new h(e)),this.setDocument(e),this.selection=new c(this),this.$bidiHandler=new o(this),s.resetOptions(this),this.setMode(t),s._signal("session",this)};f.$uid=0,function(){i.implement(this,a),this.setDocument=function(e){this.doc&&this.doc.removeListener("change",this.$onChange),this.doc=e,e.on("change",this.$onChange),this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(e){if(!e)return this.$docRowCache=[],void(this.$screenRowCache=[]);var t=this.$docRowCache.length,n=this.$getRowCacheIndex(this.$docRowCache,e)+1;t>n&&(this.$docRowCache.splice(n,t),this.$screenRowCache.splice(n,t))},this.$getRowCacheIndex=function(e,t){for(var n=0,i=e.length-1;n<=i;){var r=n+i>>1,o=e[r];if(t>o)n=r+1;else{if(!(t<o))return r;i=r-1}}return n-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.bgTokenizer&&this.bgTokenizer.start(0)},this.onChangeFold=function(e){var t=e.data;this.$resetRowCache(t.start.row)},this.onChange=function(e){this.$modified=!0,this.$bidiHandler.onChange(e),this.$resetRowCache(e.start.row);var t=this.$updateInternalDataOnChange(e);!this.$fromUndo&&this.$undoManager&&(t&&t.length&&(this.$undoManager.add({action:"removeFolds",folds:t},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(e,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer&&this.bgTokenizer.$updateOnChange(e),this._signal("change",e)},this.setValue=function(e){this.doc.setValue(e),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(e){return this.bgTokenizer.getState(e)},this.getTokens=function(e){return this.bgTokenizer.getTokens(e)},this.getTokenAt=function(e,t){var n,i=this.bgTokenizer.getTokens(e),r=0;if(null==t){var o=i.length-1;r=this.getLine(e).length}else for(o=0;o<i.length&&!((r+=i[o].value.length)>=t);o++);return(n=i[o])?(n.index=o,n.start=r-n.value.length,n):null},this.setUndoManager=function(e){if(this.$undoManager=e,this.$informUndoManager&&this.$informUndoManager.cancel(),e){var t=this;e.addSession(this),this.$syncInformUndoManager=function(){t.$informUndoManager.cancel(),t.mergeUndoDeltas=!1},this.$informUndoManager=r.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?r.stringRepeat(" ",this.getTabSize()):"\t"},this.setUseSoftTabs=function(e){this.setOption("useSoftTabs",e)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(e){this.setOption("tabSize",e)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(e){return this.$useSoftTabs&&e.column%this.$tabSize==0},this.setNavigateWithinSoftTabs=function(e){this.setOption("navigateWithinSoftTabs",e)},this.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},this.$overwrite=!1,this.setOverwrite=function(e){this.setOption("overwrite",e)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(e,t){this.$decorations[e]||(this.$decorations[e]=""),this.$decorations[e]+=" "+t,this._signal("changeBreakpoint",{})},this.removeGutterDecoration=function(e,t){this.$decorations[e]=(this.$decorations[e]||"").replace(" "+t,""),this._signal("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(e){this.$breakpoints=[];for(var t=0;t<e.length;t++)this.$breakpoints[e[t]]="ace_breakpoint";this._signal("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},this.setBreakpoint=function(e,t){void 0===t&&(t="ace_breakpoint"),t?this.$breakpoints[e]=t:delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.clearBreakpoint=function(e){delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.addMarker=function(e,t,n,i){var r=this.$markerId++,o={range:e,type:n||"line",renderer:"function"==typeof n?n:null,clazz:t,inFront:!!i,id:r};return i?(this.$frontMarkers[r]=o,this._signal("changeFrontMarker")):(this.$backMarkers[r]=o,this._signal("changeBackMarker")),r},this.addDynamicMarker=function(e,t){if(e.update){var n=this.$markerId++;return e.id=n,e.inFront=!!t,t?(this.$frontMarkers[n]=e,this._signal("changeFrontMarker")):(this.$backMarkers[n]=e,this._signal("changeBackMarker")),e}},this.removeMarker=function(e){var t=this.$frontMarkers[e]||this.$backMarkers[e];t&&(delete(t.inFront?this.$frontMarkers:this.$backMarkers)[e],this._signal(t.inFront?"changeFrontMarker":"changeBackMarker"))},this.getMarkers=function(e){return e?this.$frontMarkers:this.$backMarkers},this.highlight=function(e){if(!this.$searchHighlight){var t=new g(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(t)}this.$searchHighlight.setRegexp(e)},this.highlightLines=function(e,t,n,i){"number"!=typeof t&&(n=t,t=e),n||(n="ace_step");var r=new u(e,0,t,1/0);return r.id=this.addMarker(r,n,"fullLine",i),r},this.setAnnotations=function(e){this.$annotations=e,this._signal("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r?\n)/m);this.$autoNewLine=t?t[1]:"\n"},this.getWordRange=function(e,t){var n=this.getLine(e),i=!1;if(t>0&&(i=!!n.charAt(t-1).match(this.tokenRe)),i||(i=!!n.charAt(t).match(this.tokenRe)),i)var r=this.tokenRe;else if(/^\s+$/.test(n.slice(t-1,t+1)))r=/\s/;else r=this.nonTokenRe;var o=t;if(o>0){do{o--}while(o>=0&&n.charAt(o).match(r));o++}for(var s=t;s<n.length&&n.charAt(s).match(r);)s++;return new u(e,o,e,s)},this.getAWordRange=function(e,t){for(var n=this.getWordRange(e,t),i=this.getLine(n.end.row);i.charAt(n.end.column).match(/[ \t]/);)n.end.column+=1;return n},this.setNewLineMode=function(e){this.doc.setNewLineMode(e)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(e){this.setOption("useWorker",e)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(e){var t=e.data;this.bgTokenizer.start(t.first),this._signal("tokenizerUpdate",e)},this.$modes=s.$modes,this.$mode=null,this.$modeId=null,this.setMode=function(e,t){if(e&&"object"==typeof e){if(e.getTokenizer)return this.$onChangeMode(e);var n=e,i=n.path}else i=e||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new l),this.$modes[i]&&!n)return this.$onChangeMode(this.$modes[i]),void(t&&t());this.$modeId=i,s.loadModule(["mode",i],function(e){if(this.$modeId!==i)return t&&t();this.$modes[i]&&!n?this.$onChangeMode(this.$modes[i]):e&&e.Mode&&(e=new e.Mode(n),n||(this.$modes[i]=e,e.$id=i),this.$onChangeMode(e)),t&&t()}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},this.$onChangeMode=function(e,t){if(t||(this.$modeId=e.$id),this.$mode!==e){var n=this.$mode;this.$mode=e,this.$stopWorker(),this.$useWorker&&this.$startWorker();var i=e.getTokenizer();if(void 0!==i.on){var r=this.onReloadTokenizer.bind(this);i.on("update",r)}if(this.bgTokenizer)this.bgTokenizer.setTokenizer(i);else{this.bgTokenizer=new d(i);var o=this;this.bgTokenizer.on("update",(function(e){o._signal("tokenizerUpdate",e)}))}this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=e.tokenRe,this.nonTokenRe=e.nonTokenRe,t||(e.attachToSession&&e.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(e.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:n,mode:e}))}},this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(e){s.warn("Could not load worker",e),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(e){this.$scrollTop===e||isNaN(e)||(this.$scrollTop=e,this._signal("changeScrollTop",e))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(e){this.$scrollLeft===e||isNaN(e)||(this.$scrollLeft=e,this._signal("changeScrollLeft",e))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var e=0;return this.lineWidgets.forEach((function(t){t&&t.screenWidth>e&&(e=t.screenWidth)})),this.lineWidgetWidth=e},this.$computeWidth=function(e){if(this.$modified||e){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var t=this.doc.getAllLines(),n=this.$rowLengthCache,i=0,r=0,o=this.$foldData[r],s=o?o.start.row:1/0,a=t.length,c=0;c<a;c++){if(c>s){if((c=o.end.row+1)>=a)break;s=(o=this.$foldData[r++])?o.start.row:1/0}null==n[c]&&(n[c]=this.$getStringScreenWidth(t[c])[0]),n[c]>i&&(i=n[c])}this.screenWidth=i}},this.getLine=function(e){return this.doc.getLine(e)},this.getLines=function(e,t){return this.doc.getLines(e,t)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(e){return this.doc.getTextRange(e||this.selection.getRange())},this.insert=function(e,t){return this.doc.insert(e,t)},this.remove=function(e){return this.doc.remove(e)},this.removeFullLines=function(e,t){return this.doc.removeFullLines(e,t)},this.undoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var n=e.length-1;-1!=n;n--){var i=e[n];"insert"==i.action||"remove"==i.action?this.doc.revertDelta(i):i.folds&&this.addFolds(i.folds)}!t&&this.$undoSelect&&(e.selectionBefore?this.selection.fromJSON(e.selectionBefore):this.selection.setRange(this.$getUndoSelection(e,!0))),this.$fromUndo=!1}},this.redoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var n=0;n<e.length;n++){var i=e[n];"insert"!=i.action&&"remove"!=i.action||this.doc.$safeApplyDelta(i)}!t&&this.$undoSelect&&(e.selectionAfter?this.selection.fromJSON(e.selectionAfter):this.selection.setRange(this.$getUndoSelection(e,!1))),this.$fromUndo=!1}},this.setUndoSelect=function(e){this.$undoSelect=e},this.$getUndoSelection=function(e,t){function n(e){return t?"insert"!==e.action:"insert"===e.action}for(var i,r,o=0;o<e.length;o++){var s=e[o];s.start&&(i?n(s)?(r=s.start,-1==i.compare(r.row,r.column)&&i.setStart(r),r=s.end,1==i.compare(r.row,r.column)&&i.setEnd(r)):(r=s.start,-1==i.compare(r.row,r.column)&&(i=u.fromPoints(s.start,s.start))):i=n(s)?u.fromPoints(s.start,s.end):u.fromPoints(s.start,s.start))}return i},this.replace=function(e,t){return this.doc.replace(e,t)},this.moveText=function(e,t,n){var i=this.getTextRange(e),r=this.getFoldsInRange(e),o=u.fromPoints(t,t);if(!n){this.remove(e);var s=e.start.row-e.end.row;(l=s?-e.end.column:e.start.column-e.end.column)&&(o.start.row==e.end.row&&o.start.column>e.end.column&&(o.start.column+=l),o.end.row==e.end.row&&o.end.column>e.end.column&&(o.end.column+=l)),s&&o.start.row>=e.end.row&&(o.start.row+=s,o.end.row+=s)}if(o.end=this.insert(o.start,i),r.length){var a=e.start,c=o.start,l=(s=c.row-a.row,c.column-a.column);this.addFolds(r.map((function(e){return(e=e.clone()).start.row==a.row&&(e.start.column+=l),e.end.row==a.row&&(e.end.column+=l),e.start.row+=s,e.end.row+=s,e})))}return o},this.indentRows=function(e,t,n){n=n.replace(/\t/g,this.getTabString());for(var i=e;i<=t;i++)this.doc.insertInLine({row:i,column:0},n)},this.outdentRows=function(e){for(var t=e.collapseRows(),n=new u(0,0,0,0),i=this.getTabSize(),r=t.start.row;r<=t.end.row;++r){var o=this.getLine(r);n.start.row=r,n.end.row=r;for(var s=0;s<i&&" "==o.charAt(s);++s);s<i&&"\t"==o.charAt(s)?(n.start.column=s,n.end.column=s+1):(n.start.column=0,n.end.column=s),this.remove(n)}},this.$moveLines=function(e,t,n){if(e=this.getRowFoldStart(e),t=this.getRowFoldEnd(t),n<0){if((r=this.getRowFoldStart(e+n))<0)return 0;var i=r-e}else if(n>0){var r;if((r=this.getRowFoldEnd(t+n))>this.doc.getLength()-1)return 0;i=r-t}else{e=this.$clipRowToDocument(e);i=(t=this.$clipRowToDocument(t))-e+1}var o=new u(e,0,t,Number.MAX_VALUE),s=this.getFoldsInRange(o).map((function(e){return(e=e.clone()).start.row+=i,e.end.row+=i,e})),a=0==n?this.doc.getLines(e,t):this.doc.removeFullLines(e,t);return this.doc.insertFullLines(e+i,a),s.length&&this.addFolds(s),i},this.moveLinesUp=function(e,t){return this.$moveLines(e,t,-1)},this.moveLinesDown=function(e,t){return this.$moveLines(e,t,1)},this.duplicateLines=function(e,t){return this.$moveLines(e,t,0)},this.$clipRowToDocument=function(e){return Math.max(0,Math.min(e,this.doc.getLength()-1))},this.$clipColumnToRow=function(e,t){return t<0?0:Math.min(this.doc.getLine(e).length,t)},this.$clipPositionToDocument=function(e,t){if(t=Math.max(0,t),e<0)e=0,t=0;else{var n=this.doc.getLength();e>=n?(e=n-1,t=this.doc.getLine(n-1).length):t=Math.min(this.doc.getLine(e).length,t)}return{row:e,column:t}},this.$clipRangeToDocument=function(e){e.start.row<0?(e.start.row=0,e.start.column=0):e.start.column=this.$clipColumnToRow(e.start.row,e.start.column);var t=this.doc.getLength()-1;return e.end.row>t?(e.end.row=t,e.end.column=this.doc.getLine(t).length):e.end.column=this.$clipColumnToRow(e.end.row,e.end.column),e},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(e){if(e!=this.$useWrapMode){if(this.$useWrapMode=e,this.$modified=!0,this.$resetRowCache(0),e){var t=this.getLength();this.$wrapData=Array(t),this.$updateWrapData(0,t-1)}this._signal("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(e,t){this.$wrapLimitRange.min===e&&this.$wrapLimitRange.max===t||(this.$wrapLimitRange={min:e,max:t},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},this.adjustWrapLimit=function(e,t){var n=this.$wrapLimitRange;n.max<0&&(n={min:t,max:t});var i=this.$constrainWrapLimit(e,n.min,n.max);return i!=this.$wrapLimit&&i>1&&(this.$wrapLimit=i,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0)},this.$constrainWrapLimit=function(e,t,n){return t&&(e=Math.max(t,e)),n&&(e=Math.min(n,e)),e},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(e){this.setWrapLimitRange(e,e)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(e){var t=this.$useWrapMode,n=e.action,i=e.start,r=e.end,o=i.row,s=r.row,a=s-o,c=null;if(this.$updating=!0,0!=a)if("remove"===n){this[t?"$wrapData":"$rowLengthCache"].splice(o,a);var l=this.$foldData;c=this.getFoldsInRange(e),this.removeFolds(c);var u=0;if(p=this.getFoldLine(r.row)){p.addRemoveChars(r.row,r.column,i.column-r.column),p.shiftRow(-a);var h=this.getFoldLine(o);h&&h!==p&&(h.merge(p),p=h),u=l.indexOf(p)+1}for(;u<l.length;u++){(p=l[u]).start.row>=r.row&&p.shiftRow(-a)}s=o}else{var d=Array(a);d.unshift(o,0);var g=t?this.$wrapData:this.$rowLengthCache;g.splice.apply(g,d);l=this.$foldData,u=0;if(p=this.getFoldLine(o)){var f=p.range.compareInside(i.row,i.column);0==f?(p=p.split(i.row,i.column))&&(p.shiftRow(a),p.addRemoveChars(s,0,r.column-i.column)):-1==f&&(p.addRemoveChars(o,0,r.column-i.column),p.shiftRow(a)),u=l.indexOf(p)+1}for(;u<l.length;u++){var p;(p=l[u]).start.row>=o&&p.shiftRow(a)}}else a=Math.abs(e.start.column-e.end.column),"remove"===n&&(c=this.getFoldsInRange(e),this.removeFolds(c),a=-a),(p=this.getFoldLine(o))&&p.addRemoveChars(o,i.column,a);return t&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,t?this.$updateWrapData(o,s):this.$updateRowLengthCache(o,s),c},this.$updateRowLengthCache=function(e,t,n){this.$rowLengthCache[e]=null,this.$rowLengthCache[t]=null},this.$updateWrapData=function(n,i){var r,o,s=this.doc.getAllLines(),a=this.getTabSize(),c=this.$wrapData,l=this.$wrapLimit,u=n;for(i=Math.min(i,s.length-1);u<=i;)(o=this.getFoldLine(u,o))?(r=[],o.walk(function(n,i,o,a){var c;if(null!=n){(c=this.$getDisplayTokens(n,r.length))[0]=e;for(var l=1;l<c.length;l++)c[l]=t}else c=this.$getDisplayTokens(s[i].substring(a,o),r.length);r=r.concat(c)}.bind(this),o.end.row,s[o.end.row].length+1),c[o.start.row]=this.$computeWrapSplits(r,l,a),u=o.end.row+1):(r=this.$getDisplayTokens(s[u]),c[u]=this.$computeWrapSplits(r,l,a),u++)};var e=3,t=4;function n(e){return!(e<4352)&&(e>=4352&&e<=4447||e>=4515&&e<=4519||e>=4602&&e<=4607||e>=9001&&e<=9002||e>=11904&&e<=11929||e>=11931&&e<=12019||e>=12032&&e<=12245||e>=12272&&e<=12283||e>=12288&&e<=12350||e>=12353&&e<=12438||e>=12441&&e<=12543||e>=12549&&e<=12589||e>=12593&&e<=12686||e>=12688&&e<=12730||e>=12736&&e<=12771||e>=12784&&e<=12830||e>=12832&&e<=12871||e>=12880&&e<=13054||e>=13056&&e<=19903||e>=19968&&e<=42124||e>=42128&&e<=42182||e>=43360&&e<=43388||e>=44032&&e<=55203||e>=55216&&e<=55238||e>=55243&&e<=55291||e>=63744&&e<=64255||e>=65040&&e<=65049||e>=65072&&e<=65106||e>=65108&&e<=65126||e>=65128&&e<=65131||e>=65281&&e<=65376||e>=65504&&e<=65510)}this.$computeWrapSplits=function(n,i,r){if(0==n.length)return[];var o=[],s=n.length,a=0,c=0,l=this.$wrapAsCode,u=this.$indentedSoftWrap,h=i<=Math.max(2*r,8)||!1===u?0:Math.floor(i/2);function d(e){for(var t=e-a,i=a;i<e;i++){var s=n[i];12!==s&&2!==s||(t-=1)}o.length||(g=function(){var e=0;if(0===h)return e;if(u)for(var t=0;t<n.length;t++){var i=n[t];if(10==i)e+=1;else{if(11!=i){if(12==i)continue;break}e+=r}}return l&&!1!==u&&(e+=r),Math.min(e,h)}(),o.indent=g),c+=t,o.push(c),a=e}for(var g=0;s-a>i-g;){var f=a+i-g;if(n[f-1]>=10&&n[f]>=10)d(f);else if(n[f]!=e&&n[f]!=t){for(var p=Math.max(f-(i-(i>>2)),a-1);f>p&&n[f]<e;)f--;if(l){for(;f>p&&n[f]<e;)f--;for(;f>p&&9==n[f];)f--}else for(;f>p&&n[f]<10;)f--;f>p?d(++f):(2==n[f=a+i]&&f--,d(f-g))}else{for(;f!=a-1&&n[f]!=e;f--);if(f>a){d(f);continue}for(f=a+i;f<n.length&&n[f]==t;f++);if(f==n.length)break;d(f)}}return o},this.$getDisplayTokens=function(e,t){var i,r=[];t=t||0;for(var o=0;o<e.length;o++){var s=e.charCodeAt(o);if(9==s){i=this.getScreenTabSize(r.length+t),r.push(11);for(var a=1;a<i;a++)r.push(12)}else 32==s?r.push(10):s>39&&s<48||s>57&&s<64?r.push(9):s>=4352&&n(s)?r.push(1,2):r.push(1)}return r},this.$getStringScreenWidth=function(e,t,i){if(0==t)return[0,0];var r,o;for(null==t&&(t=1/0),i=i||0,o=0;o<e.length&&(9==(r=e.charCodeAt(o))?i+=this.getScreenTabSize(i):r>=4352&&n(r)?i+=2:i+=1,!(i>t));o++);return[i,o]},this.lineWidgets=null,this.getRowLength=function(e){var t=1;return this.lineWidgets&&(t+=this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0),this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+t:t},this.getRowLineCount=function(e){return this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1:1},this.getRowWrapIndent=function(e){if(this.$useWrapMode){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE),n=this.$wrapData[t.row];return n.length&&n[0]<t.column?n.indent:0}return 0},this.getScreenLastRowColumn=function(e){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE);return this.documentToScreenColumn(t.row,t.column)},this.getDocumentLastRowColumn=function(e,t){var n=this.documentToScreenRow(e,t);return this.getScreenLastRowColumn(n)},this.getDocumentLastRowColumnPosition=function(e,t){var n=this.documentToScreenRow(e,t);return this.screenToDocumentPosition(n,Number.MAX_VALUE/10)},this.getRowSplitData=function(e){return this.$useWrapMode?this.$wrapData[e]:void 0},this.getScreenTabSize=function(e){return this.$tabSize-(e%this.$tabSize|0)},this.screenToDocumentRow=function(e,t){return this.screenToDocumentPosition(e,t).row},this.screenToDocumentColumn=function(e,t){return this.screenToDocumentPosition(e,t).column},this.screenToDocumentPosition=function(e,t,n){if(e<0)return{row:0,column:0};var i,r,o=0,s=0,a=0,c=0,l=this.$screenRowCache,u=this.$getRowCacheIndex(l,e),h=l.length;if(h&&u>=0){a=l[u],o=this.$docRowCache[u];var d=e>l[h-1]}else d=!h;for(var g=this.getLength()-1,f=this.getNextFoldLine(o),p=f?f.start.row:1/0;a<=e&&!(a+(c=this.getRowLength(o))>e||o>=g);)a+=c,++o>p&&(o=f.end.row+1,p=(f=this.getNextFoldLine(o,f))?f.start.row:1/0),d&&(this.$docRowCache.push(o),this.$screenRowCache.push(a));if(f&&f.start.row<=o)i=this.getFoldDisplayLine(f),o=f.start.row;else{if(a+c<=e||o>g)return{row:g,column:this.getLine(g).length};i=this.getLine(o),f=null}var m=0,C=Math.floor(e-a);if(this.$useWrapMode){var I=this.$wrapData[o];I&&(r=I[C],C>0&&I.length&&(m=I.indent,s=I[C-1]||I[I.length-1],i=i.substring(s)))}return void 0!==n&&this.$bidiHandler.isBidiRow(a+C,o,C)&&(t=this.$bidiHandler.offsetToCol(n)),s+=this.$getStringScreenWidth(i,t-m)[1],this.$useWrapMode&&s>=r&&(s=r-1),f?f.idxToPosition(s):{row:o,column:s}},this.documentToScreenPosition=function(e,t){if(void 0===t)var n=this.$clipPositionToDocument(e.row,e.column);else n=this.$clipPositionToDocument(e,t);e=n.row,t=n.column;var i,r=0,o=null;(i=this.getFoldAt(e,t,1))&&(e=i.start.row,t=i.start.column);var s,a=0,c=this.$docRowCache,l=this.$getRowCacheIndex(c,e),u=c.length;if(u&&l>=0){a=c[l],r=this.$screenRowCache[l];var h=e>c[u-1]}else h=!u;for(var d=this.getNextFoldLine(a),g=d?d.start.row:1/0;a<e;){if(a>=g){if((s=d.end.row+1)>e)break;g=(d=this.getNextFoldLine(s,d))?d.start.row:1/0}else s=a+1;r+=this.getRowLength(a),a=s,h&&(this.$docRowCache.push(a),this.$screenRowCache.push(r))}var f="";d&&a>=g?(f=this.getFoldDisplayLine(d,e,t),o=d.start.row):(f=this.getLine(e).substring(0,t),o=e);var p=0;if(this.$useWrapMode){var m=this.$wrapData[o];if(m){for(var C=0;f.length>=m[C];)r++,C++;f=f.substring(m[C-1]||0,f.length),p=C>0?m.indent:0}}return this.lineWidgets&&this.lineWidgets[a]&&this.lineWidgets[a].rowsAbove&&(r+=this.lineWidgets[a].rowsAbove),{row:r,column:p+this.$getStringScreenWidth(f)[0]}},this.documentToScreenColumn=function(e,t){return this.documentToScreenPosition(e,t).column},this.documentToScreenRow=function(e,t){return this.documentToScreenPosition(e,t).row},this.getScreenLength=function(){var e=0,t=null;if(this.$useWrapMode)for(var n=this.$wrapData.length,i=0,r=(a=0,(t=this.$foldData[a++])?t.start.row:1/0);i<n;){var o=this.$wrapData[i];e+=o?o.length+1:1,++i>r&&(i=t.end.row+1,r=(t=this.$foldData[a++])?t.start.row:1/0)}else{e=this.getLength();for(var s=this.$foldData,a=0;a<s.length;a++)e-=(t=s[a]).end.row-t.start.row}return this.lineWidgets&&(e+=this.$getWidgetScreenLength()),e},this.$setFontMetrics=function(e){this.$enableVarChar&&(this.$getStringScreenWidth=function(t,n,i){if(0===n)return[0,0];var r,o;for(n||(n=1/0),i=i||0,o=0;o<t.length&&!((i+="\t"===(r=t.charAt(o))?this.getScreenTabSize(i):e.getCharacterWidth(r))>n);o++);return[i,o]})},this.destroy=function(){this.bgTokenizer&&(this.bgTokenizer.setDocument(null),this.bgTokenizer=null),this.$stopWorker(),this.removeAllListeners(),this.selection.detach()},this.isFullWidth=n}.call(f.prototype),e("./edit_session/folding").Folding.call(f.prototype),e("./edit_session/bracket_match").BracketMatch.call(f.prototype),s.defineOptions(f.prototype,"session",{wrap:{set:function(e){if(e&&"off"!=e?"free"==e?e=!0:"printMargin"==e?e=-1:"string"==typeof e&&(e=parseInt(e,10)||!1):e=!1,this.$wrap!=e)if(this.$wrap=e,e){var t="number"==typeof e?e:null;this.setWrapLimitRange(t,t),this.setUseWrapMode(!0)}else this.setUseWrapMode(!1)},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(e){(e="auto"==e?"text"!=this.$mode.type:"text"!=e)!=this.$wrapAsCode&&(this.$wrapAsCode=e,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(e){this.$useWorker=e,this.$stopWorker(),e&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(e){(e=parseInt(e))>0&&this.$tabSize!==e&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=e,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(e){this.setFoldStyle(e)},handlesSet:!0},overwrite:{set:function(e){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(e){this.doc.setNewLineMode(e)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(e){this.setMode(e)},get:function(){return this.$modeId},handlesSet:!0}}),t.EditSession=f})),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],(function(e,t,n){var i=e("./lib/lang"),r=e("./lib/oop"),o=e("./range").Range,s=function(){this.$options={}};(function(){this.set=function(e){return r.mixin(this.$options,e),this},this.getOptions=function(){return i.copyObject(this.$options)},this.setOptions=function(e){this.$options=e},this.find=function(e){var t=this.$options,n=this.$matchIterator(e,t);if(!n)return!1;var i=null;return n.forEach((function(e,n,r,s){return i=new o(e,n,r,s),!(n==s&&t.start&&t.start.start&&0!=t.skipCurrent&&i.isEqual(t.start))||(i=null,!1)})),i},this.findAll=function(e){var t=this.$options;if(!t.needle)return[];this.$assembleRegExp(t);var n=t.range,r=n?e.getLines(n.start.row,n.end.row):e.doc.getAllLines(),s=[],a=t.re;if(t.$isMultiLine){var c,l=a.length,u=r.length-l;e:for(var h=a.offset||0;h<=u;h++){for(var d=0;d<l;d++)if(-1==r[h+d].search(a[d]))continue e;var g=r[h],f=r[h+l-1],p=g.length-g.match(a[0])[0].length,m=f.match(a[l-1])[0].length;c&&c.end.row===h&&c.end.column>p||(s.push(c=new o(h,p,h+l-1,m)),l>2&&(h=h+l-2))}}else for(var C=0;C<r.length;C++){var I=i.getMatchOffsets(r[C],a);for(d=0;d<I.length;d++){var v=I[d];s.push(new o(C,v.offset,C,v.offset+v.length))}}if(n){var A=n.start.column,y=n.start.column;for(C=0,d=s.length-1;C<d&&s[C].start.column<A&&s[C].start.row==n.start.row;)C++;for(;C<d&&s[d].end.column>y&&s[d].end.row==n.end.row;)d--;for(s=s.slice(C,d+1),C=0,d=s.length;C<d;C++)s[C].start.row+=n.start.row,s[C].end.row+=n.start.row}return s},this.replace=function(e,t){var n=this.$options,i=this.$assembleRegExp(n);if(n.$isMultiLine)return t;if(i){var r=i.exec(e);if(!r||r[0].length!=e.length)return null;if(t=e.replace(i,t),n.preserveCase){t=t.split("");for(var o=Math.min(e.length,e.length);o--;){var s=e[o];s&&s.toLowerCase()!=s?t[o]=t[o].toUpperCase():t[o]=t[o].toLowerCase()}t=t.join("")}return t}},this.$assembleRegExp=function(e,t){if(e.needle instanceof RegExp)return e.re=e.needle;var n=e.needle;if(!e.needle)return e.re=!1;e.regExp||(n=i.escapeRegExp(n)),e.wholeWord&&(n=function(e,t){function n(e){return/\w/.test(e)||t.regExp?"\\b":""}return n(e[0])+e+n(e[e.length-1])}(n,e));var r=e.caseSensitive?"gm":"gmi";if(e.$isMultiLine=!t&&/[\n\r]/.test(n),e.$isMultiLine)return e.re=this.$assembleMultilineRegExp(n,r);try{var o=new RegExp(n,r)}catch(e){o=!1}return e.re=o},this.$assembleMultilineRegExp=function(e,t){for(var n=e.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),i=[],r=0;r<n.length;r++)try{i.push(new RegExp(n[r],t))}catch(e){return!1}return i},this.$matchIterator=function(e,t){var n=this.$assembleRegExp(t);if(!n)return!1;var i=1==t.backwards,r=0!=t.skipCurrent,o=t.range,s=t.start;s||(s=o?o[i?"end":"start"]:e.selection.getRange()),s.start&&(s=s[r!=i?"end":"start"]);var a=o?o.start.row:0,c=o?o.end.row:e.getLength()-1;if(i)var l=function(e){var n=s.row;if(!h(n,s.column,e)){for(n--;n>=a;n--)if(h(n,Number.MAX_VALUE,e))return;if(0!=t.wrap)for(n=c,a=s.row;n>=a;n--)if(h(n,Number.MAX_VALUE,e))return}};else l=function(e){var n=s.row;if(!h(n,s.column,e)){for(n+=1;n<=c;n++)if(h(n,0,e))return;if(0!=t.wrap)for(n=a,c=s.row;n<=c;n++)if(h(n,0,e))return}};if(t.$isMultiLine)var u=n.length,h=function(t,r,o){var s=i?t-u+1:t;if(!(s<0)){var a=e.getLine(s),c=a.search(n[0]);if(!(!i&&c<r||-1===c)){for(var l=1;l<u;l++)if(-1==(a=e.getLine(s+l)).search(n[l]))return;var h=a.match(n[u-1])[0].length;if(!(i&&h>r))return!!o(s,c,s+u-1,h)||void 0}}};else if(i)h=function(t,i,r){var o,s=e.getLine(t),a=[],c=0;for(n.lastIndex=0;o=n.exec(s);){var l=o[0].length;if(c=o.index,!l){if(c>=s.length)break;n.lastIndex=c+=1}if(o.index+l>i)break;a.push(o.index,l)}for(var u=a.length-1;u>=0;u-=2){var h=a[u-1];if(r(t,h,t,h+(l=a[u])))return!0}};else h=function(t,i,r){var o,s,a=e.getLine(t);for(n.lastIndex=i;s=n.exec(a);){var c=s[0].length;if(r(t,o=s.index,t,o+c))return!0;if(!c&&(n.lastIndex=o+=1,o>=a.length))return!1}};return{forEach:l}}}).call(s.prototype),t.Search=s})),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],(function(e,t,n){var i=e("../lib/keys"),r=e("../lib/useragent"),o=i.KEY_MODS;function s(e,t){this.platform=t||(r.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(e),this.$singleCommand=!0}function a(e,t){s.call(this,e,t),this.$singleCommand=!1}a.prototype=s.prototype,function(){function e(e){return"object"==typeof e&&e.bindKey&&e.bindKey.position||(e.isDefault?-100:0)}this.addCommand=function(e){this.commands[e.name]&&this.removeCommand(e),this.commands[e.name]=e,e.bindKey&&this._buildKeyHash(e)},this.removeCommand=function(e,t){var n=e&&("string"==typeof e?e:e.name);e=this.commands[n],t||delete this.commands[n];var i=this.commandKeyBinding;for(var r in i){var o=i[r];if(o==e)delete i[r];else if(Array.isArray(o)){var s=o.indexOf(e);-1!=s&&(o.splice(s,1),1==o.length&&(i[r]=o[0]))}}},this.bindKey=function(e,t,n){if("object"==typeof e&&e&&(null==n&&(n=e.position),e=e[this.platform]),e)return"function"==typeof t?this.addCommand({exec:t,bindKey:e,name:t.name||e}):void e.split("|").forEach((function(e){var i="";if(-1!=e.indexOf(" ")){var r=e.split(/\s+/);e=r.pop(),r.forEach((function(e){var t=this.parseKeys(e),n=o[t.hashId]+t.key;i+=(i?" ":"")+n,this._addCommandToBinding(i,"chainKeys")}),this),i+=" "}var s=this.parseKeys(e),a=o[s.hashId]+s.key;this._addCommandToBinding(i+a,t,n)}),this)},this._addCommandToBinding=function(t,n,i){var r,o=this.commandKeyBinding;if(n)if(!o[t]||this.$singleCommand)o[t]=n;else{Array.isArray(o[t])?-1!=(r=o[t].indexOf(n))&&o[t].splice(r,1):o[t]=[o[t]],"number"!=typeof i&&(i=e(n));var s=o[t];for(r=0;r<s.length;r++){if(e(s[r])>i)break}s.splice(r,0,n)}else delete o[t]},this.addCommands=function(e){e&&Object.keys(e).forEach((function(t){var n=e[t];if(n){if("string"==typeof n)return this.bindKey(n,t);"function"==typeof n&&(n={exec:n}),"object"==typeof n&&(n.name||(n.name=t),this.addCommand(n))}}),this)},this.removeCommands=function(e){Object.keys(e).forEach((function(t){this.removeCommand(e[t])}),this)},this.bindKeys=function(e){Object.keys(e).forEach((function(t){this.bindKey(t,e[t])}),this)},this._buildKeyHash=function(e){this.bindKey(e.bindKey,e)},this.parseKeys=function(e){var t=e.toLowerCase().split(/[\-\+]([\-\+])?/).filter((function(e){return e})),n=t.pop(),r=i[n];if(i.FUNCTION_KEYS[r])n=i.FUNCTION_KEYS[r].toLowerCase();else{if(!t.length)return{key:n,hashId:-1};if(1==t.length&&"shift"==t[0])return{key:n.toUpperCase(),hashId:-1}}for(var o=0,s=t.length;s--;){var a=i.KEY_MODS[t[s]];if(null==a)return"undefined"!=typeof console&&console.error("invalid modifier "+t[s]+" in "+e),!1;o|=a}return{key:n,hashId:o}},this.findKeyCommand=function(e,t){var n=o[e]+t;return this.commandKeyBinding[n]},this.handleKeyboard=function(e,t,n,i){if(!(i<0)){var r=o[t]+n,s=this.commandKeyBinding[r];return e.$keyChain&&(e.$keyChain+=" "+r,s=this.commandKeyBinding[e.$keyChain]||s),!s||"chainKeys"!=s&&"chainKeys"!=s[s.length-1]?(e.$keyChain&&(t&&4!=t||1!=n.length?(-1==t||i>0)&&(e.$keyChain=""):e.$keyChain=e.$keyChain.slice(0,-r.length-1)),{command:s}):(e.$keyChain=e.$keyChain||r,{command:"null"})}},this.getStatusText=function(e,t){return t.$keyChain||""}}.call(s.prototype),t.HashHandler=s,t.MultiHashHandler=a})),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],(function(e,t,n){var i=e("../lib/oop"),r=e("../keyboard/hash_handler").MultiHashHandler,o=e("../lib/event_emitter").EventEmitter,s=function(e,t){r.call(this,t,e),this.byName=this.commands,this.setDefaultHandler("exec",(function(e){return e.command.exec(e.editor,e.args||{})}))};i.inherits(s,r),function(){i.implement(this,o),this.exec=function(e,t,n){if(Array.isArray(e)){for(var i=e.length;i--;)if(this.exec(e[i],t,n))return!0;return!1}if("string"==typeof e&&(e=this.commands[e]),!e)return!1;if(t&&t.$readOnly&&!e.readOnly)return!1;if(0!=this.$checkCommandState&&e.isAvailable&&!e.isAvailable(t))return!1;var r={editor:t,command:e,args:n};return r.returnValue=this._emit("exec",r),this._signal("afterExec",r),!1!==r.returnValue},this.toggleRecording=function(e){if(!this.$inReplay)return e&&e._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(e){this.macro.push([e.command,e.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},this.replay=function(e){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(e);try{this.$inReplay=!0,this.macro.forEach((function(t){"string"==typeof t?this.exec(t,e):this.exec(t[0],e,t[1])}),this)}finally{this.$inReplay=!1}}},this.trimMacro=function(e){return e.map((function(e){return"string"!=typeof e[0]&&(e[0]=e[0].name),e[1]||(e=e[0]),e}))}}.call(s.prototype),t.CommandManager=s})),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],(function(e,t,n){var i=e("../lib/lang"),r=e("../config"),o=e("../range").Range;function s(e,t){return{win:e,mac:t}}t.commands=[{name:"showSettingsMenu",bindKey:s("Ctrl-,","Command-,"),exec:function(e){r.loadModule("ace/ext/settings_menu",(function(t){t.init(e),e.showSettingsMenu()}))},readOnly:!0},{name:"goToNextError",bindKey:s("Alt-E","F4"),exec:function(e){r.loadModule("./ext/error_marker",(function(t){t.showErrorMarker(e,1)}))},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",bindKey:s("Alt-Shift-E","Shift-F4"),exec:function(e){r.loadModule("./ext/error_marker",(function(t){t.showErrorMarker(e,-1)}))},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:s("Ctrl-A","Command-A"),exec:function(e){e.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:s(null,"Ctrl-L"),exec:function(e){e.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:s("Ctrl-L","Command-L"),exec:function(e,t){"number"!=typeof t||isNaN(t)||e.gotoLine(t),e.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:s("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(e){e.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:s("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(e){e.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",bindKey:s("F2","F2"),exec:function(e){e.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",bindKey:s("Alt-F2","Alt-F2"),exec:function(e){e.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:s(null,"Ctrl-Command-Option-0"),exec:function(e){e.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:s(null,"Ctrl-Command-Option-0"),exec:function(e){e.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:s("Alt-0","Command-Option-0"),exec:function(e){e.session.foldAll(),e.session.unfold(e.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:s("Alt-Shift-0","Command-Option-Shift-0"),exec:function(e){e.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:s("Ctrl-K","Command-G"),exec:function(e){e.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:s("Ctrl-Shift-K","Command-Shift-G"),exec:function(e){e.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:s("Alt-K","Ctrl-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:s("Alt-Shift-K","Ctrl-Shift-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:s("Ctrl-F","Command-F"),exec:function(e){r.loadModule("ace/ext/searchbox",(function(t){t.Search(e)}))},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(e){e.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:s("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(e){e.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:s("Ctrl-Home","Command-Home|Command-Up"),exec:function(e){e.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:s("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(e){e.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:s("Up","Up|Ctrl-P"),exec:function(e,t){e.navigateUp(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:s("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(e){e.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:s("Ctrl-End","Command-End|Command-Down"),exec:function(e){e.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:s("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(e){e.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:s("Down","Down|Ctrl-N"),exec:function(e,t){e.navigateDown(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:s("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(e){e.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:s("Ctrl-Left","Option-Left"),exec:function(e){e.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:s("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:s("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(e){e.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:s("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(e){e.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:s("Left","Left|Ctrl-B"),exec:function(e,t){e.navigateLeft(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:s("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(e){e.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:s("Ctrl-Right","Option-Right"),exec:function(e){e.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:s("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:s("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(e){e.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:s("Shift-Right","Shift-Right"),exec:function(e){e.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:s("Right","Right|Ctrl-F"),exec:function(e,t){e.navigateRight(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(e){e.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:s(null,"Option-PageDown"),exec:function(e){e.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:s("PageDown","PageDown|Ctrl-V"),exec:function(e){e.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(e){e.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:s(null,"Option-PageUp"),exec:function(e){e.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(e){e.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:s("Ctrl-Up",null),exec:function(e){e.renderer.scrollBy(0,-2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:s("Ctrl-Down",null),exec:function(e){e.renderer.scrollBy(0,2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:s("Ctrl-Alt-E","Command-Option-E"),exec:function(e){e.commands.toggleRecording(e)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:s("Ctrl-Shift-E","Command-Shift-E"),exec:function(e){e.commands.replay(e)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:s("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(e){e.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:s("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(e){e.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:s("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(e){e.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:s(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(e){},readOnly:!0},{name:"cut",description:"Cut",exec:function(e){var t=e.$copyWithEmptySelection&&e.selection.isEmpty()?e.selection.getLineRange():e.selection.getRange();e._emit("cut",t),t.isEmpty()||e.session.remove(t),e.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(e,t){e.$handlePaste(t)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:s("Ctrl-D","Command-D"),exec:function(e){e.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:s("Ctrl-Shift-D","Command-Shift-D"),exec:function(e){e.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:s("Ctrl-Alt-S","Command-Alt-S"),exec:function(e){e.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:s("Ctrl-/","Command-/"),exec:function(e){e.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:s("Ctrl-Shift-/","Command-Shift-/"),exec:function(e){e.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:s("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(e){e.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:s("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(e){e.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:s("Ctrl-H","Command-Option-F"),exec:function(e){r.loadModule("ace/ext/searchbox",(function(t){t.Search(e,!0)}))}},{name:"undo",description:"Undo",bindKey:s("Ctrl-Z","Command-Z"),exec:function(e){e.undo()}},{name:"redo",description:"Redo",bindKey:s("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(e){e.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:s("Alt-Shift-Up","Command-Option-Up"),exec:function(e){e.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:s("Alt-Up","Option-Up"),exec:function(e){e.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:s("Alt-Shift-Down","Command-Option-Down"),exec:function(e){e.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:s("Alt-Down","Option-Down"),exec:function(e){e.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:s("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(e){e.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:s("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(e){e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:s("Shift-Delete",null),exec:function(e){if(!e.selection.isEmpty())return!1;e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:s("Alt-Backspace","Command-Backspace"),exec:function(e){e.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:s("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(e){e.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:s("Ctrl-Shift-Backspace",null),exec:function(e){var t=e.selection.getRange();t.start.column=0,e.session.remove(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:s("Ctrl-Shift-Delete",null),exec:function(e){var t=e.selection.getRange();t.end.column=Number.MAX_VALUE,e.session.remove(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:s("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(e){e.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:s("Ctrl-Delete","Alt-Delete"),exec:function(e){e.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:s("Shift-Tab","Shift-Tab"),exec:function(e){e.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:s("Tab","Tab"),exec:function(e){e.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:s("Ctrl-[","Ctrl-["),exec:function(e){e.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:s("Ctrl-]","Ctrl-]"),exec:function(e){e.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(e,t){e.insert(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(e,t){e.insert(i.stringRepeat(t.text||"",t.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:s(null,"Ctrl-O"),exec:function(e){e.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:s("Alt-Shift-X","Ctrl-T"),exec:function(e){e.transposeLetters()},multiSelectAction:function(e){e.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:s("Ctrl-U","Ctrl-U"),exec:function(e){e.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:s("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(e){e.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:s(null,null),exec:function(e){e.autoIndent()},multiSelectAction:"forEachLine",scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:s("Ctrl-Shift-L","Command-Shift-L"),exec:function(e){var t=e.selection.getRange();t.start.column=t.end.column=0,t.end.row++,e.selection.setRange(t,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"joinlines",description:"Join lines",bindKey:s(null,null),exec:function(e){for(var t=e.selection.isBackwards(),n=t?e.selection.getSelectionLead():e.selection.getSelectionAnchor(),r=t?e.selection.getSelectionAnchor():e.selection.getSelectionLead(),s=e.session.doc.getLine(n.row).length,a=e.session.doc.getTextRange(e.selection.getRange()).replace(/\n\s*/," ").length,c=e.session.doc.getLine(n.row),l=n.row+1;l<=r.row+1;l++){var u=i.stringTrimLeft(i.stringTrimRight(e.session.doc.getLine(l)));0!==u.length&&(u=" "+u),c+=u}r.row+1<e.session.doc.getLength()-1&&(c+=e.session.doc.getNewLineCharacter()),e.clearSelection(),e.session.doc.replace(new o(n.row,0,r.row+2,0),c),a>0?(e.selection.moveCursorTo(n.row,n.column),e.selection.selectTo(n.row,n.column+a)):(s=e.session.doc.getLine(n.row).length>s?s+1:s,e.selection.moveCursorTo(n.row,s))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:s(null,null),exec:function(e){var t=e.session.doc.getLength()-1,n=e.session.doc.getLine(t).length,i=e.selection.rangeList.ranges,r=[];i.length<1&&(i=[e.selection.getRange()]);for(var s=0;s<i.length;s++)s==i.length-1&&(i[s].end.row===t&&i[s].end.column===n||r.push(new o(i[s].end.row,i[s].end.column,t,n))),0===s?0===i[s].start.row&&0===i[s].start.column||r.push(new o(0,0,i[s].start.row,i[s].start.column)):r.push(new o(i[s-1].end.row,i[s-1].end.column,i[s].start.row,i[s].start.column));e.exitMultiSelectMode(),e.clearSelection();for(s=0;s<r.length;s++)e.selection.addRange(r[s],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",exec:function(e){e.selection.clearSelection(),e.navigateLineEnd(),e.insert("\n")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",exec:function(e){e.selection.clearSelection();var t=e.getCursorPosition();e.selection.moveTo(t.row-1,Number.MAX_VALUE),e.insert("\n"),0===t.row&&e.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",description:"Open command pallete",bindKey:s("F1","F1"),exec:function(e){e.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:s(null,null),exec:function(e){e.prompt({$type:"modes"})},readOnly:!0}];for(var a=1;a<9;a++)t.commands.push({name:"foldToLevel"+a,description:"Fold To Level "+a,level:a,exec:function(e){e.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})})),ace.define("ace/editor",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/clipboard"],(function(e,t,n){e("./lib/fixoldbrowsers");var i=e("./lib/oop"),r=e("./lib/dom"),o=e("./lib/lang"),s=e("./lib/useragent"),a=e("./keyboard/textinput").TextInput,c=e("./mouse/mouse_handler").MouseHandler,l=e("./mouse/fold_handler").FoldHandler,u=e("./keyboard/keybinding").KeyBinding,h=e("./edit_session").EditSession,d=e("./search").Search,g=e("./range").Range,f=e("./lib/event_emitter").EventEmitter,p=e("./commands/command_manager").CommandManager,m=e("./commands/default_commands").commands,C=e("./config"),I=e("./token_iterator").TokenIterator,v=e("./clipboard"),A=function(e,t,n){this.$toDestroy=[];var i=e.getContainerElement();this.container=i,this.renderer=e,this.id="editor"+ ++A.$uid,this.commands=new p(s.isMac?"mac":"win",m),"object"==typeof document&&(this.textInput=new a(e.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new c(this),new l(this)),this.keyBinding=new u(this),this.$search=(new d).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=o.delayedCall(function(){this._signal("input",{}),this.session&&this.session.bgTokenizer&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",(function(e,t){t._$emitInputEvent.schedule(31)})),this.setSession(t||n&&n.session||new h("")),C.resetOptions(this),n&&this.setOptions(n),C._signal("editor",this)};A.$uid=0,function(){i.implement(this,f),this.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=o.delayedCall(this.endOperation.bind(this,!0)),this.on("change",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.selectionChanged=!0}.bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(e){if(this.curOp){if(!e||this.curOp.command)return;this.prevOp=this.curOp}e||(this.previousCommand=null,e={}),this.$opResetTimer.schedule(),this.curOp=this.session.curOp={command:e.command||{},args:e.args,scrollTop:this.renderer.scrollTop},this.curOp.selectionBefore=this.selection.toJSON()},this.endOperation=function(e){if(this.curOp&&this.session){if(e&&!1===e.returnValue||!this.session)return this.curOp=null;if(1==e&&this.curOp.command&&"mouse"==this.curOp.command.name)return;if(this._signal("beforeEndOperation"),!this.curOp)return;var t=this.curOp.command,n=t&&t.scrollIntoView;if(n){switch(n){case"center-animate":n="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var i=this.selection.getRange(),r=this.renderer.layerConfig;(i.start.row>=r.lastRow||i.end.row<=r.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==n&&this.renderer.animateScrolling(this.curOp.scrollTop)}var o=this.selection.toJSON();this.curOp.selectionAfter=o,this.$lastSel=this.selection.toJSON(),this.session.getUndoManager().addSelection(o),this.prevOp=this.curOp,this.curOp=null}},this.$mergeableCommands=["backspace","del","insertstring"],this.$historyTracker=function(e){if(this.$mergeUndoDeltas){var t=this.prevOp,n=this.$mergeableCommands,i=t.command&&e.command.name==t.command.name;if("insertstring"==e.command.name){var r=e.args;void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),i=i&&this.mergeNextCommand&&(!/\s/.test(r)||/\s/.test(t.args)),this.mergeNextCommand=!0}else i=i&&-1!==n.indexOf(e.command.name);"always"!=this.$mergeUndoDeltas&&Date.now()-this.sequenceStartTime>2e3&&(i=!1),i?this.session.mergeUndoDeltas=!0:-1!==n.indexOf(e.command.name)&&(this.sequenceStartTime=Date.now())}},this.setKeyboardHandler=function(e,t){if(e&&"string"==typeof e&&"ace"!=e){this.$keybindingId=e;var n=this;C.loadModule(["keybinding",e],(function(i){n.$keybindingId==e&&n.keyBinding.setKeyboardHandler(i&&i.handler),t&&t()}))}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(e),t&&t()},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(e){if(this.session!=e){this.curOp&&this.endOperation(),this.curOp={};var t=this.session;if(t){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var n=this.session.getSelection();n.off("changeCursor",this.$onCursorChange),n.off("changeSelection",this.$onSelectionChange)}this.session=e,e?(this.$onDocumentChange=this.onDocumentChange.bind(this),e.on("change",this.$onDocumentChange),this.renderer.setSession(e),this.$onChangeMode=this.onChangeMode.bind(this),e.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),e.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),e.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),e.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),e.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),e.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=e.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(e)),this._signal("changeSession",{session:e,oldSession:t}),this.curOp=null,t&&t._signal("changeEditor",{oldEditor:this}),e&&e._signal("changeEditor",{editor:this}),e&&e.bgTokenizer&&e.bgTokenizer.scheduleStart()}},this.getSession=function(){return this.session},this.setValue=function(e,t){return this.session.doc.setValue(e),t?1==t?this.navigateFileEnd():-1==t&&this.navigateFileStart():this.selectAll(),e},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(e){this.renderer.onResize(e)},this.setTheme=function(e,t){this.renderer.setTheme(e,t)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(e){this.renderer.setStyle(e)},this.unsetStyle=function(e){this.renderer.unsetStyle(e)},this.getFontSize=function(){return this.getOption("fontSize")||r.computedStyle(this.container).fontSize},this.setFontSize=function(e){this.setOption("fontSize",e)},this.$highlightBrackets=function(){if(!this.$highlightPending){var e=this;this.$highlightPending=!0,setTimeout((function(){e.$highlightPending=!1;var t=e.session;if(t&&t.bgTokenizer){t.$bracketHighlight&&(t.$bracketHighlight.markerIds.forEach((function(e){t.removeMarker(e)})),t.$bracketHighlight=null);var n=t.getMatchingBracketRanges(e.getCursorPosition());if(!n&&t.$mode.getMatching&&(n=t.$mode.getMatching(e.session)),n){var i="ace_bracket";Array.isArray(n)?1==n.length&&(i="ace_error_bracket"):n=[n],2==n.length&&(0==g.comparePoints(n[0].end,n[1].start)?n=[g.fromPoints(n[0].start,n[1].end)]:0==g.comparePoints(n[0].start,n[1].end)&&(n=[g.fromPoints(n[1].start,n[0].end)])),t.$bracketHighlight={ranges:n,markerIds:n.map((function(e){return t.addMarker(e,i,"text")}))}}}}),50)}},this.$highlightTags=function(){if(!this.$highlightTagPending){var e=this;this.$highlightTagPending=!0,setTimeout((function(){e.$highlightTagPending=!1;var t=e.session;if(t&&t.bgTokenizer){var n=e.getCursorPosition(),i=new I(e.session,n.row,n.column),r=i.getCurrentToken();if(!r||!/\b(?:tag-open|tag-name)/.test(r.type))return t.removeMarker(t.$tagHighlight),void(t.$tagHighlight=null);if(-1===r.type.indexOf("tag-open")||(r=i.stepForward())){var o=r.value,s=r.value,a=0,c=i.stepBackward();if("<"===c.value)do{c=r,(r=i.stepForward())&&(-1!==r.type.indexOf("tag-name")?o===(s=r.value)&&("<"===c.value?a++:"</"===c.value&&a--):o===s&&"/>"===r.value&&a--)}while(r&&a>=0);else{do{if(r=c,c=i.stepBackward(),r)if(-1!==r.type.indexOf("tag-name"))o===r.value&&("<"===c.value?a++:"</"===c.value&&a--);else if("/>"===r.value){for(var l=0,u=c;u;){if(-1!==u.type.indexOf("tag-name")&&u.value===o){a--;break}if("<"===u.value)break;u=i.stepBackward(),l++}for(var h=0;h<l;h++)i.stepForward()}}while(c&&a<=0);i.stepForward()}if(!r)return t.removeMarker(t.$tagHighlight),void(t.$tagHighlight=null);var d=i.getCurrentTokenRow(),f=i.getCurrentTokenColumn(),p=new g(d,f,d,f+r.value.length),m=t.$backMarkers[t.$tagHighlight];t.$tagHighlight&&null!=m&&0!==p.compareRange(m.range)&&(t.removeMarker(t.$tagHighlight),t.$tagHighlight=null),t.$tagHighlight||(t.$tagHighlight=t.addMarker(p,"ace_bracket","text"))}}}),50)}},this.focus=function(){var e=this;setTimeout((function(){e.isFocused()||e.textInput.focus()})),this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(e){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",e))},this.onBlur=function(e){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",e))},this.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$highlightTags(),this.$updateHighlightActiveLine()},this.onDocumentChange=function(e){var t=this.session.$useWrapMode,n=e.start.row==e.end.row?e.end.row:1/0;this.renderer.updateLines(e.start.row,n,t),this._signal("change",e),this.$cursorChange()},this.onTokenizerUpdate=function(e){var t=e.data;this.renderer.updateLines(t.first,t.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},this.$updateHighlightActiveLine=function(){var e,t=this.getSession();if(this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(e=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(e=!1),!this.renderer.$maxLines||1!==this.session.getLength()||this.renderer.$minLines>1||(e=!1)),t.$highlightLineMarker&&!e)t.removeMarker(t.$highlightLineMarker.id),t.$highlightLineMarker=null;else if(!t.$highlightLineMarker&&e){var n=new g(e.row,e.column,e.row,1/0);n.id=t.addMarker(n,"ace_active-line","screenLine"),t.$highlightLineMarker=n}else e&&(t.$highlightLineMarker.start.row=e.row,t.$highlightLineMarker.end.row=e.row,t.$highlightLineMarker.start.column=e.column,t._signal("changeBackMarker"))},this.onSelectionChange=function(e){var t=this.session;if(t.$selectionMarker&&t.removeMarker(t.$selectionMarker),t.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var n=this.selection.getRange(),i=this.getSelectionStyle();t.$selectionMarker=t.addMarker(n,"ace_selection",i)}var r=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(r),this._signal("changeSelection")},this.$getSelectionHighLightRegexp=function(){var e=this.session,t=this.getSelectionRange();if(!t.isEmpty()&&!t.isMultiLine()){var n=t.start.column,i=t.end.column,r=e.getLine(t.start.row),o=r.substring(n,i);if(!(o.length>5e3)&&/[\w\d]/.test(o)){var s=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:o}),a=r.substring(n-1,i+1);if(s.test(a))return s}}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(e){this.renderer.updateText(),this._emit("changeMode",e)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var e=this.getSelectedText(),t=this.session.doc.getNewLineCharacter(),n=!1;if(!e&&this.$copyWithEmptySelection){n=!0;for(var i=this.selection.getAllRanges(),r=0;r<i.length;r++){var o=i[r];r&&i[r-1].start.row==o.start.row||(e+=this.session.getLine(o.start.row)+t)}}var s={text:e};return this._signal("copy",s),v.lineMode=n?s.text:"",s.text},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(e,t){var n={text:e,event:t};this.commands.exec("paste",this,n)},this.$handlePaste=function(e){"string"==typeof e&&(e={text:e}),this._signal("paste",e);var t=e.text,n=t==v.lineMode,i=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)n?i.insert({row:this.selection.lead.row,column:0},t):this.insert(t);else if(n)this.selection.rangeList.ranges.forEach((function(e){i.insert({row:e.start.row,column:0},t)}));else{var r=t.split(/\r\n|\r|\n/),o=this.selection.rangeList.ranges,s=!(2!=r.length||r[0]&&r[1]);if(r.length!=o.length||s)return this.commands.exec("insertstring",this,t);for(var a=o.length;a--;){var c=o[a];c.isEmpty()||i.remove(c),i.insert(c.start,r[a])}}},this.execCommand=function(e,t){return this.commands.exec(e,this,t)},this.insert=function(e,t){var n=this.session,i=n.getMode(),r=this.getCursorPosition();if(this.getBehavioursEnabled()&&!t){var o=i.transformAction(n.getState(r.row),"insertion",this,n,e);o&&(e!==o.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),e=o.text)}if("\t"==e&&(e=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()&&-1==e.indexOf("\n")){(s=new g.fromPoints(r,r)).end.column+=e.length,this.session.remove(s)}}else{var s=this.getSelectionRange();r=this.session.remove(s),this.clearSelection()}if("\n"==e||"\r\n"==e){var a=n.getLine(r.row);if(r.column>a.search(/\S|$/)){var c=a.substr(r.column).search(/\S|$/);n.doc.removeInLine(r.row,r.column,r.column+c)}}this.clearSelection();var l=r.column,u=n.getState(r.row),h=(a=n.getLine(r.row),i.checkOutdent(u,a,e));if(n.insert(r,e),o&&o.selection&&(2==o.selection.length?this.selection.setSelectionRange(new g(r.row,l+o.selection[0],r.row,l+o.selection[1])):this.selection.setSelectionRange(new g(r.row+o.selection[0],o.selection[1],r.row+o.selection[2],o.selection[3]))),this.$enableAutoIndent){if(n.getDocument().isNewLine(e)){var d=i.getNextLineIndent(u,a.slice(0,r.column),n.getTabString());n.insert({row:r.row+1,column:0},d)}h&&i.autoOutdent(u,n,r.row)}},this.autoIndent=function(){var e,t,n=this.session,i=n.getMode();if(this.selection.isEmpty())e=0,t=n.doc.getLength()-1;else{var r=this.getSelectionRange();e=r.start.row,t=r.end.row}for(var o,s,a,c="",l="",u="",h=n.getTabString(),d=e;d<=t;d++)d>0&&(c=n.getState(d-1),l=n.getLine(d-1),u=i.getNextLineIndent(c,l,h)),o=n.getLine(d),u!==(s=i.$getIndent(o))&&(s.length>0&&(a=new g(d,0,d,s.length),n.remove(a)),u.length>0&&n.insert({row:d,column:0},u)),i.autoOutdent(c,n,d)},this.onTextInput=function(e,t){if(!t)return this.keyBinding.onTextInput(e);this.startOperation({command:{name:"insertstring"}});var n=this.applyComposition.bind(this,e,t);this.selection.rangeCount?this.forEachSelection(n):n(),this.endOperation()},this.applyComposition=function(e,t){var n;(t.extendLeft||t.extendRight)&&((n=this.selection.getRange()).start.column-=t.extendLeft,n.end.column+=t.extendRight,n.start.column<0&&(n.start.row--,n.start.column+=this.session.getLine(n.start.row).length+1),this.selection.setRange(n),e||n.isEmpty()||this.remove());(!e&&this.selection.isEmpty()||this.insert(e,!0),t.restoreStart||t.restoreEnd)&&((n=this.selection.getRange()).start.column-=t.restoreStart,n.end.column-=t.restoreEnd,this.selection.setRange(n))},this.onCommandKey=function(e,t,n){return this.keyBinding.onCommandKey(e,t,n)},this.setOverwrite=function(e){this.session.setOverwrite(e)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(e){this.setOption("scrollSpeed",e)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(e){this.setOption("dragDelay",e)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(e){this.setOption("selectionStyle",e)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(e){this.setOption("highlightActiveLine",e)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(e){this.setOption("highlightSelectedWord",e)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(e){this.renderer.setAnimatedScroll(e)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(e){this.renderer.setShowInvisibles(e)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(e){this.renderer.setDisplayIndentGuides(e)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setShowPrintMargin=function(e){this.renderer.setShowPrintMargin(e)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(e){this.renderer.setPrintMarginColumn(e)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(e){this.setOption("readOnly",e)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(e){this.setOption("behavioursEnabled",e)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(e){this.setOption("wrapBehavioursEnabled",e)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(e){this.setOption("showFoldWidgets",e)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(e){this.selection.isEmpty()&&("left"==e?this.selection.selectLeft():this.selection.selectRight());var t=this.getSelectionRange();if(this.getBehavioursEnabled()){var n=this.session,i=n.getState(t.start.row),r=n.getMode().transformAction(i,"deletion",this,n,t);if(0===t.end.column){var o=n.getTextRange(t);if("\n"==o[o.length-1]){var s=n.getLine(t.end.row);/^\s+$/.test(s)&&(t.end.column=s.length)}}r&&(t=r)}this.session.remove(t),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var e=this.getSelectionRange();e.start.column==e.end.column&&e.start.row==e.end.row&&(e.end.column=0,e.end.row++),this.session.remove(e),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var e=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(e)},this.transposeLetters=function(){if(this.selection.isEmpty()){var e=this.getCursorPosition(),t=e.column;if(0!==t){var n,i,r=this.session.getLine(e.row);t<r.length?(n=r.charAt(t)+r.charAt(t-1),i=new g(e.row,t-1,e.row,t+1)):(n=r.charAt(t-1)+r.charAt(t-2),i=new g(e.row,t-2,e.row,t)),this.session.replace(i,n),this.session.selection.moveToPosition(i.end)}}},this.toLowerCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toLowerCase()),this.selection.setSelectionRange(e)},this.toUpperCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toUpperCase()),this.selection.setSelectionRange(e)},this.indent=function(){var e=this.session,t=this.getSelectionRange();if(!(t.start.row<t.end.row)){if(t.start.column<t.end.column){var n=e.getTextRange(t);if(!/^\s+$/.test(n)){u=this.$getSelectedRows();return void e.indentRows(u.first,u.last,"\t")}}var i=e.getLine(t.start.row),r=t.start,s=e.getTabSize(),a=e.documentToScreenColumn(r.row,r.column);if(this.session.getUseSoftTabs())var c=s-a%s,l=o.stringRepeat(" ",c);else{for(c=a%s;" "==i[t.start.column-1]&&c;)t.start.column--,c--;this.selection.setSelectionRange(t),l="\t"}return this.insert(l)}var u=this.$getSelectedRows();e.indentRows(u.first,u.last,"\t")},this.blockIndent=function(){var e=this.$getSelectedRows();this.session.indentRows(e.first,e.last,"\t")},this.blockOutdent=function(){var e=this.session.getSelection();this.session.outdentRows(e.getRange())},this.sortLines=function(){for(var e=this.$getSelectedRows(),t=this.session,n=[],i=e.first;i<=e.last;i++)n.push(t.getLine(i));n.sort((function(e,t){return e.toLowerCase()<t.toLowerCase()?-1:e.toLowerCase()>t.toLowerCase()?1:0}));var r=new g(0,0,0,0);for(i=e.first;i<=e.last;i++){var o=t.getLine(i);r.start.row=i,r.end.row=i,r.end.column=o.length,t.replace(r,n[i-e.first])}},this.toggleCommentLines=function(){var e=this.session.getState(this.getCursorPosition().row),t=this.$getSelectedRows();this.session.getMode().toggleCommentLines(e,this.session,t.first,t.last)},this.toggleBlockComment=function(){var e=this.getCursorPosition(),t=this.session.getState(e.row),n=this.getSelectionRange();this.session.getMode().toggleBlockComment(t,this.session,n,e)},this.getNumberAt=function(e,t){var n=/[\-]?[0-9]+(?:\.[0-9]+)?/g;n.lastIndex=0;for(var i=this.session.getLine(e);n.lastIndex<t;){var r=n.exec(i);if(r.index<=t&&r.index+r[0].length>=t)return{value:r[0],start:r.index,end:r.index+r[0].length}}return null},this.modifyNumber=function(e){var t=this.selection.getCursor().row,n=this.selection.getCursor().column,i=new g(t,n-1,t,n),r=this.session.getTextRange(i);if(!isNaN(parseFloat(r))&&isFinite(r)){var o=this.getNumberAt(t,n);if(o){var s=o.value.indexOf(".")>=0?o.start+o.value.indexOf(".")+1:o.end,a=o.start+o.value.length-s,c=parseFloat(o.value);c*=Math.pow(10,a),s!==o.end&&n<s?e*=Math.pow(10,o.end-n-1):e*=Math.pow(10,o.end-n),c+=e;var l=(c/=Math.pow(10,a)).toFixed(a),u=new g(t,o.start,t,o.end);this.session.replace(u,l),this.moveCursorTo(t,Math.max(o.start+1,n+l.length-o.value.length))}}else this.toggleWord()},this.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],this.toggleWord=function(){var e=this.selection.getCursor().row,t=this.selection.getCursor().column;this.selection.selectWord();var n=this.getSelectedText(),i=this.selection.getWordRange().start.column,r=n.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),s=t-i-1;s<0&&(s=0);var a=0,c=0,l=this;n.match(/[A-Za-z0-9_]+/)&&r.forEach((function(t,r){c=a+t.length,s>=a&&s<=c&&(n=t,l.selection.clearSelection(),l.moveCursorTo(e,a+i),l.selection.selectTo(e,c+i)),a=c}));for(var u,h=this.$toggleWordPairs,d=0;d<h.length;d++)for(var g=h[d],f=0;f<=1;f++){var p=+!f,m=n.match(new RegExp("^\\s?_?("+o.escapeRegExp(g[f])+")\\s?$","i"));if(m)n.match(new RegExp("([_]|^|\\s)("+o.escapeRegExp(m[1])+")($|\\s)","g"))&&(u=n.replace(new RegExp(o.escapeRegExp(g[f]),"i"),(function(e){var t=g[p];return e.toUpperCase()==e?t=t.toUpperCase():e.charAt(0).toUpperCase()==e.charAt(0)&&(t=t.substr(0,0)+g[p].charAt(0).toUpperCase()+t.substr(1)),t})),this.insert(u),u="")}},this.removeLines=function(){var e=this.$getSelectedRows();this.session.removeFullLines(e.first,e.last),this.clearSelection()},this.duplicateSelection=function(){var e=this.selection,t=this.session,n=e.getRange(),i=e.isBackwards();if(n.isEmpty()){var r=n.start.row;t.duplicateLines(r,r)}else{var o=i?n.start:n.end,s=t.insert(o,t.getTextRange(n),!1);n.start=o,n.end=s,e.setSelectionRange(n,i)}},this.moveLinesDown=function(){this.$moveLines(1,!1)},this.moveLinesUp=function(){this.$moveLines(-1,!1)},this.moveText=function(e,t,n){return this.session.moveText(e,t,n)},this.copyLinesUp=function(){this.$moveLines(-1,!0)},this.copyLinesDown=function(){this.$moveLines(1,!0)},this.$moveLines=function(e,t){var n,i,r=this.selection;if(!r.inMultiSelectMode||this.inVirtualSelectionMode){var o=r.toOrientedRange();n=this.$getSelectedRows(o),i=this.session.$moveLines(n.first,n.last,t?0:e),t&&-1==e&&(i=0),o.moveBy(i,0),r.fromOrientedRange(o)}else{var s=r.rangeList.ranges;r.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var a=0,c=0,l=s.length,u=0;u<l;u++){var h=u;s[u].moveBy(a,0);for(var d=(n=this.$getSelectedRows(s[u])).first,g=n.last;++u<l;){c&&s[u].moveBy(c,0);var f=this.$getSelectedRows(s[u]);if(t&&f.first!=g)break;if(!t&&f.first>g+1)break;g=f.last}for(u--,a=this.session.$moveLines(d,g,t?0:e),t&&-1==e&&(h=u+1);h<=u;)s[h].moveBy(a,0),h++;t||(a=0),c+=a}r.fromOrientedRange(r.ranges[0]),r.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},this.$getSelectedRows=function(e){return e=(e||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(e.start.row),last:this.session.getRowFoldEnd(e.end.row)}},this.onCompositionStart=function(e){this.renderer.showComposition(e)},this.onCompositionUpdate=function(e){this.renderer.setCompositionText(e)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(e){return e>=this.getFirstVisibleRow()&&e<=this.getLastVisibleRow()},this.isRowFullyVisible=function(e){return e>=this.renderer.getFirstFullyVisibleRow()&&e<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(e,t){var n=this.renderer,i=this.renderer.layerConfig,r=e*Math.floor(i.height/i.lineHeight);!0===t?this.selection.$moveSelection((function(){this.moveCursorBy(r,0)})):!1===t&&(this.selection.moveCursorBy(r,0),this.selection.clearSelection());var o=n.scrollTop;n.scrollBy(0,r*i.lineHeight),null!=t&&n.scrollCursorIntoView(null,.5),n.animateScrolling(o)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(e){this.renderer.scrollToRow(e)},this.scrollToLine=function(e,t,n,i){this.renderer.scrollToLine(e,t,n,i)},this.centerSelection=function(){var e=this.getSelectionRange(),t={row:Math.floor(e.start.row+(e.end.row-e.start.row)/2),column:Math.floor(e.start.column+(e.end.column-e.start.column)/2)};this.renderer.alignCursor(t,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.selection.selectAll()},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(e,t){this.selection.moveCursorTo(e,t)},this.moveCursorToPosition=function(e){this.selection.moveCursorToPosition(e)},this.jumpToMatching=function(e,t){var n=this.getCursorPosition(),i=new I(this.session,n.row,n.column),r=i.getCurrentToken(),o=r||i.stepForward();if(o){var s,a,c=!1,l={},u=n.column-o.start,h={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(o.value.match(/[{}()\[\]]/g)){for(;u<o.value.length&&!c;u++)if(h[o.value[u]])switch(a=h[o.value[u]]+"."+o.type.replace("rparen","lparen"),isNaN(l[a])&&(l[a]=0),o.value[u]){case"(":case"[":case"{":l[a]++;break;case")":case"]":case"}":l[a]--,-1===l[a]&&(s="bracket",c=!0)}}else-1!==o.type.indexOf("tag-name")&&(isNaN(l[o.value])&&(l[o.value]=0),"<"===r.value?l[o.value]++:"</"===r.value&&l[o.value]--,-1===l[o.value]&&(s="tag",c=!0));c||(r=o,o=i.stepForward(),u=0)}while(o&&!c);if(s){var d,f;if("bracket"===s)(d=this.session.getBracketRange(n))||(f=(d=new g(i.getCurrentTokenRow(),i.getCurrentTokenColumn()+u-1,i.getCurrentTokenRow(),i.getCurrentTokenColumn()+u-1)).start,(t||f.row===n.row&&Math.abs(f.column-n.column)<2)&&(d=this.session.getBracketRange(f)));else if("tag"===s){if(!o||-1===o.type.indexOf("tag-name"))return;var p=o.value;if(0===(d=new g(i.getCurrentTokenRow(),i.getCurrentTokenColumn()-2,i.getCurrentTokenRow(),i.getCurrentTokenColumn()-2)).compare(n.row,n.column)){c=!1;do{o=r,(r=i.stepBackward())&&(-1!==r.type.indexOf("tag-close")&&d.setEnd(i.getCurrentTokenRow(),i.getCurrentTokenColumn()+1),o.value===p&&-1!==o.type.indexOf("tag-name")&&("<"===r.value?l[p]++:"</"===r.value&&l[p]--,0===l[p]&&(c=!0)))}while(r&&!c)}o&&o.type.indexOf("tag-name")&&(f=d.start).row==n.row&&Math.abs(f.column-n.column)<2&&(f=d.end)}(f=d&&d.cursor||f)&&(e?d&&t?this.selection.setRange(d):d&&d.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(f.row,f.column):this.selection.moveTo(f.row,f.column))}}},this.gotoLine=function(e,t,n){this.selection.clearSelection(),this.session.unfold({row:e-1,column:t||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(e-1,t||0),this.isRowFullyVisible(e-1)||this.scrollToLine(e-1,!0,n)},this.navigateTo=function(e,t){this.selection.moveTo(e,t)},this.navigateUp=function(e){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(-e||-1,0)},this.navigateDown=function(e){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(e||1,0)},this.navigateLeft=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorLeft();else{var t=this.getSelectionRange().start;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateRight=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorRight();else{var t=this.getSelectionRange().end;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(e,t){t&&this.$search.set(t);var n=this.$search.find(this.session),i=0;return n?(this.$tryReplace(n,e)&&(i=1),this.selection.setSelectionRange(n),this.renderer.scrollSelectionIntoView(n.start,n.end),i):i},this.replaceAll=function(e,t){t&&this.$search.set(t);var n=this.$search.findAll(this.session),i=0;if(!n.length)return i;var r=this.getSelectionRange();this.selection.moveTo(0,0);for(var o=n.length-1;o>=0;--o)this.$tryReplace(n[o],e)&&i++;return this.selection.setSelectionRange(r),i},this.$tryReplace=function(e,t){var n=this.session.getTextRange(e);return null!==(t=this.$search.replace(n,t))?(e.end=this.session.replace(e,t),e):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(e,t,n){t||(t={}),"string"==typeof e||e instanceof RegExp?t.needle=e:"object"==typeof e&&i.mixin(t,e);var r=this.selection.getRange();null==t.needle&&((e=this.session.getTextRange(r)||this.$search.$options.needle)||(r=this.session.getWordRange(r.start.row,r.start.column),e=this.session.getTextRange(r)),this.$search.set({needle:e})),this.$search.set(t),t.start||this.$search.set({start:r});var o=this.$search.find(this.session);return t.preventScroll?o:o?(this.revealRange(o,n),o):(t.backwards?r.start=r.end:r.end=r.start,void this.selection.setRange(r))},this.findNext=function(e,t){this.find({skipCurrent:!0,backwards:!1},e,t)},this.findPrevious=function(e,t){this.find(e,{skipCurrent:!0,backwards:!0},t)},this.revealRange=function(e,t){this.session.unfold(e),this.selection.setSelectionRange(e);var n=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(e.start,e.end,.5),!1!==t&&this.renderer.animateScrolling(n)},this.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach((function(e){e.destroy()})),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},this.setAutoScrollEditorIntoView=function(e){if(e){var t,n=this,i=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var r=this.$scrollAnchor;r.style.cssText="position:absolute",this.container.insertBefore(r,this.container.firstChild);var o=this.on("changeSelection",(function(){i=!0})),s=this.renderer.on("beforeRender",(function(){i&&(t=n.renderer.container.getBoundingClientRect())})),a=this.renderer.on("afterRender",(function(){if(i&&t&&(n.isFocused()||n.searchBox&&n.searchBox.isFocused())){var e=n.renderer,o=e.$cursorLayer.$pixelPos,s=e.layerConfig,a=o.top-s.offset;null!=(i=o.top>=0&&a+t.top<0||!(o.top<s.height&&o.top+t.top+s.lineHeight>window.innerHeight)&&null)&&(r.style.top=a+"px",r.style.left=o.left+"px",r.style.height=s.lineHeight+"px",r.scrollIntoView(i)),i=t=null}}));this.setAutoScrollEditorIntoView=function(e){e||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",o),this.renderer.off("afterRender",a),this.renderer.off("beforeRender",s))}}},this.$resetCursorStyle=function(){var e=this.$cursorStyle||"ace",t=this.renderer.$cursorLayer;t&&(t.setSmoothBlinking(/smooth/.test(e)),t.isBlinking=!this.$readOnly&&"wide"!=e,r.setCssClass(t.element,"ace_slim-cursors",/slim/.test(e)))},this.prompt=function(e,t,n){var i=this;C.loadModule("./ext/prompt",(function(r){r.prompt(i,e,t,n)}))}}.call(A.prototype),C.defineOptions(A.prototype,"editor",{selectionStyle:{set:function(e){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:e})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(e){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(e){this.textInput.setReadOnly(e),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(e){this.textInput.setCopyWithEmptySelection(e)},initialValue:!1},cursorStyle:{set:function(e){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(e){this.setAutoScrollEditorIntoView(e)}},keyboardHandler:{set:function(e){this.setKeyboardHandler(e)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(e){this.session.setValue(e)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(e){this.setSession(e)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(e){this.renderer.$gutterLayer.setShowLineNumbers(e),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),e&&this.$relativeLineNumbers?y.attach(this):y.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(e){this.$showLineNumbers&&e?y.attach(this):y.detach(this)}},placeholder:{set:function(e){this.$updatePlaceholder||(this.$updatePlaceholder=function(){var e=this.session&&(this.renderer.$composition||this.getValue());if(e&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),r.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(e||this.renderer.placeholderNode)!e&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"");else{this.renderer.on("afterRender",this.$updatePlaceholder),r.addCssClass(this.container,"ace_hasPlaceholder");var t=r.createElement("div");t.className="ace_placeholder",t.textContent=this.$placeholder||"",this.renderer.placeholderNode=t,this.renderer.content.appendChild(this.renderer.placeholderNode)}}.bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var y={getText:function(e,t){return(Math.abs(e.selection.lead.row-t)||t+1+(t<9?"":""))+""},getWidth:function(e,t,n){return Math.max(t.toString().length,(n.lastRow+1).toString().length,2)*n.characterWidth},update:function(e,t){t.renderer.$loop.schedule(t.renderer.CHANGE_GUTTER)},attach:function(e){e.renderer.$gutterLayer.$renderer=this,e.on("changeSelection",this.update),this.update(null,e)},detach:function(e){e.renderer.$gutterLayer.$renderer==this&&(e.renderer.$gutterLayer.$renderer=null),e.off("changeSelection",this.update),this.update(null,e)}};t.Editor=A})),ace.define("ace/undomanager",["require","exports","module","ace/range"],(function(e,t,n){var i=function(){this.$maxRev=0,this.$fromUndo=!1,this.reset()};(function(){this.addSession=function(e){this.$session=e},this.add=function(e,t,n){this.$fromUndo||e!=this.$lastDelta&&(this.$keepRedoStack||(this.$redoStack.length=0),!1!==t&&this.lastDeltas||(this.lastDeltas=[],this.$undoStack.push(this.lastDeltas),e.id=this.$rev=++this.$maxRev),"remove"!=e.action&&"insert"!=e.action||(this.$lastDelta=e),this.lastDeltas.push(e))},this.addSelection=function(e,t){this.selections.push({value:e,rev:t||this.$rev})},this.startNewGroup=function(){return this.lastDeltas=null,this.$rev},this.markIgnored=function(e,t){null==t&&(t=this.$rev+1);for(var n=this.$undoStack,i=n.length;i--;){var r=n[i][0];if(r.id<=e)break;r.id<t&&(r.ignore=!0)}this.lastDeltas=null},this.getSelection=function(e,t){for(var n=this.selections,i=n.length;i--;){var r=n[i];if(r.rev<e)return t&&(r=n[i+1]),r}},this.getRevision=function(){return this.$rev},this.getDeltas=function(e,t){null==t&&(t=this.$rev+1);for(var n=this.$undoStack,i=null,r=0,o=n.length;o--;){var s=n[o][0];if(s.id<t&&!i&&(i=o+1),s.id<=e){r=o+1;break}}return n.slice(r,i)},this.getChangedRanges=function(e,t){null==t&&(t=this.$rev+1)},this.getChangedLines=function(e,t){null==t&&(t=this.$rev+1)},this.undo=function(e,t){this.lastDeltas=null;var n=this.$undoStack;if(function(e,t){for(var n=t;n--;){var i=e[n];if(i&&!i[0].ignore){for(;n<t-1;){var r=u(e[n],e[n+1]);e[n]=r[0],e[n+1]=r[1],n++}return!0}}}(n,n.length)){e||(e=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var i=n.pop(),r=null;return i&&(r=e.undoChanges(i,t),this.$redoStack.push(i),this.$syncRev()),this.$fromUndo=!1,r}},this.redo=function(e,t){if(this.lastDeltas=null,e||(e=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var n=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);!function(e,t){for(var n=0;n<t.length;n++)for(var i=t[n],r=0;r<i.length;r++)p(e,i[r])}(this.$redoStack,n),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach((function(e){e[0].id=++this.$maxRev}),this)}var i=this.$redoStack.pop(),r=null;return i&&(r=e.redoChanges(i,t),this.$undoStack.push(i),this.$syncRev()),this.$fromUndo=!1,r},this.$syncRev=function(){var e=this.$undoStack,t=e[e.length-1],n=t&&t[0].id||0;this.$redoStackBaseRev=n,this.$rev=n},this.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},this.canUndo=function(){return this.$undoStack.length>0},this.canRedo=function(){return this.$redoStack.length>0},this.bookmark=function(e){null==e&&(e=this.$rev),this.mark=e},this.isAtBookmark=function(){return this.$rev===this.mark},this.toJSON=function(){},this.fromJSON=function(){},this.hasUndo=this.canUndo,this.hasRedo=this.canRedo,this.isClean=this.isAtBookmark,this.markClean=this.bookmark,this.$prettyPrint=function(e){return e?a(e):a(this.$undoStack)+"\n---\n"+a(this.$redoStack)}}).call(i.prototype);var r=e("./range").Range,o=r.comparePoints;function s(e){return{row:e.row,column:e.column}}function a(e){if(e=e||this,Array.isArray(e))return e.map(a).join("\n");var t="";return e.action?(t="insert"==e.action?"+":"-",t+="["+e.lines+"]"):e.value&&(t=Array.isArray(e.value)?e.value.map(c).join("\n"):c(e.value)),e.start&&(t+=c(e)),(e.id||e.rev)&&(t+="\t("+(e.id||e.rev)+")"),t}function c(e){return e.start.row+":"+e.start.column+"=>"+e.end.row+":"+e.end.column}function l(e,t){var n="insert"==e.action,i="insert"==t.action;if(n&&i)if(o(t.start,e.end)>=0)d(t,e,-1);else{if(!(o(t.start,e.start)<=0))return null;d(e,t,1)}else if(n&&!i)if(o(t.start,e.end)>=0)d(t,e,-1);else{if(!(o(t.end,e.start)<=0))return null;d(e,t,-1)}else if(!n&&i)if(o(t.start,e.start)>=0)d(t,e,1);else{if(!(o(t.start,e.start)<=0))return null;d(e,t,1)}else if(!n&&!i)if(o(t.start,e.start)>=0)d(t,e,1);else{if(!(o(t.end,e.start)<=0))return null;d(e,t,-1)}return[t,e]}function u(e,t){for(var n=e.length;n--;)for(var i=0;i<t.length;i++)if(!l(e[n],t[i])){for(;n<e.length;){for(;i--;)l(t[i],e[n]);i=t.length,n++}return[e,t]}return e.selectionBefore=t.selectionBefore=e.selectionAfter=t.selectionAfter=null,[t,e]}function h(e,t){var n="insert"==e.action,i="insert"==t.action;if(n&&i)o(e.start,t.start)<0?d(t,e,1):d(e,t,1);else if(n&&!i)o(e.start,t.end)>=0?d(e,t,-1):(o(e.start,t.start)<=0||d(e,r.fromPoints(t.start,e.start),-1),d(t,e,1));else if(!n&&i)o(t.start,e.end)>=0?d(t,e,-1):(o(t.start,e.start)<=0||d(t,r.fromPoints(e.start,t.start),-1),d(e,t,1));else if(!n&&!i)if(o(t.start,e.end)>=0)d(t,e,-1);else{var s,a;if(!(o(t.end,e.start)<=0))return o(e.start,t.start)<0&&(s=e,e=f(e,t.start)),o(e.end,t.end)>0&&(a=f(e,t.end)),g(t.end,e.start,e.end,-1),a&&!s&&(e.lines=a.lines,e.start=a.start,e.end=a.end,a=e),[t,s,a].filter(Boolean);d(e,t,-1)}return[t,e]}function d(e,t,n){g(e.start,t.start,t.end,n),g(e.end,t.start,t.end,n)}function g(e,t,n,i){e.row==(1==i?t:n).row&&(e.column+=i*(n.column-t.column)),e.row+=i*(n.row-t.row)}function f(e,t){var n=e.lines,i=e.end;e.end=s(t);var r=e.end.row-e.start.row,o=n.splice(r,n.length),a=r?t.column:t.column-e.start.column;return n.push(o[0].substring(0,a)),o[0]=o[0].substr(a),{start:s(t),end:i,lines:o,action:e.action}}function p(e,t){t=function(e){return{start:s(e.start),end:s(e.end),action:e.action,lines:e.lines.slice()}}(t);for(var n=e.length;n--;){for(var i=e[n],r=0;r<i.length;r++){var o=h(i[r],t);t=o[0],2!=o.length&&(o[2]?(i.splice(r+1,1,o[1],o[2]),r++):o[1]||(i.splice(r,1),r--))}i.length||e.splice(n,1)}return e}r.comparePoints,t.UndoManager=i})),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],(function(e,t,n){var i=e("../lib/dom"),r=function(e,t){this.element=e,this.canvasHeight=t||5e5,this.element.style.height=2*this.canvasHeight+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0};(function(){this.moveContainer=function(e){i.translate(this.element,0,-e.firstRowScreen*e.lineHeight%this.canvasHeight-e.offset*this.$offsetCoefficient)},this.pageChanged=function(e,t){return Math.floor(e.firstRowScreen*e.lineHeight/this.canvasHeight)!==Math.floor(t.firstRowScreen*t.lineHeight/this.canvasHeight)},this.computeLineTop=function(e,t,n){var i=t.firstRowScreen*t.lineHeight,r=Math.floor(i/this.canvasHeight);return n.documentToScreenRow(e,0)*t.lineHeight-r*this.canvasHeight},this.computeLineHeight=function(e,t,n){return t.lineHeight*n.getRowLineCount(e)},this.getLength=function(){return this.cells.length},this.get=function(e){return this.cells[e]},this.shift=function(){this.$cacheCell(this.cells.shift())},this.pop=function(){this.$cacheCell(this.cells.pop())},this.push=function(e){if(Array.isArray(e)){this.cells.push.apply(this.cells,e);for(var t=i.createFragment(this.element),n=0;n<e.length;n++)t.appendChild(e[n].element);this.element.appendChild(t)}else this.cells.push(e),this.element.appendChild(e.element)},this.unshift=function(e){if(Array.isArray(e)){this.cells.unshift.apply(this.cells,e);for(var t=i.createFragment(this.element),n=0;n<e.length;n++)t.appendChild(e[n].element);this.element.firstChild?this.element.insertBefore(t,this.element.firstChild):this.element.appendChild(t)}else this.cells.unshift(e),this.element.insertAdjacentElement("afterbegin",e.element)},this.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},this.$cacheCell=function(e){e&&(e.element.remove(),this.cellCache.push(e))},this.createCell=function(e,t,n,r){var o=this.cellCache.pop();if(!o){var s=i.createElement("div");r&&r(s),this.element.appendChild(s),o={element:s,text:"",row:e}}return o.row=e,o}}).call(r.prototype),t.Lines=r})),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines"],(function(e,t,n){var i=e("../lib/dom"),r=e("../lib/oop"),o=e("../lib/lang"),s=e("../lib/event_emitter").EventEmitter,a=e("./lines").Lines,c=function(e){this.element=i.createElement("div"),this.element.className="ace_layer ace_gutter-layer",e.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new a(this.element),this.$lines.$offsetCoefficient=1};function l(e){var t=document.createTextNode("");e.appendChild(t);var n=i.createElement("span");return e.appendChild(n),e}(function(){r.implement(this,s),this.setSession=function(e){this.session&&this.session.off("change",this.$updateAnnotations),this.session=e,e&&e.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(e,t)},this.setAnnotations=function(e){this.$annotations=[];for(var t=0;t<e.length;t++){var n=e[t],i=n.row,r=this.$annotations[i];r||(r=this.$annotations[i]={text:[]});var s=n.text;s=s?o.escapeHTML(s):n.html||"",-1===r.text.indexOf(s)&&r.text.push(s);var a=n.type;"error"==a?r.className=" ace_error":"warning"==a&&" ace_error"!=r.className?r.className=" ace_warning":"info"!=a||r.className||(r.className=" ace_info")}},this.$updateAnnotations=function(e){if(this.$annotations.length){var t=e.start.row,n=e.end.row-t;if(0===n);else if("remove"==e.action)this.$annotations.splice(t,n+1,null);else{var i=new Array(n+1);i.unshift(t,1),this.$annotations.splice.apply(this.$annotations,i)}}},this.update=function(e){this.config=e;var t=this.session,n=e.firstRow,i=Math.min(e.lastRow+e.gutterOffset,t.getLength()-1);this.oldLastRow=i,this.config=e,this.$lines.moveContainer(e),this.$updateCursorRow();for(var r=t.getNextFoldLine(n),o=r?r.start.row:1/0,s=null,a=-1,c=n;;){if(c>o&&(c=r.end.row+1,o=(r=t.getNextFoldLine(c,r))?r.start.row:1/0),c>i){for(;this.$lines.getLength()>a+1;)this.$lines.pop();break}(s=this.$lines.get(++a))?s.row=c:(s=this.$lines.createCell(c,e,this.session,l),this.$lines.push(s)),this.$renderCell(s,e,r,c),c++}this._signal("afterRender"),this.$updateGutterWidth(e)},this.$updateGutterWidth=function(e){var t=this.session,n=t.gutterRenderer||this.$renderer,i=t.$firstLineNumber,r=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||t.$useWrapMode)&&(r=t.getLength()+i-1);var o=n?n.getWidth(t,r,e):r.toString().length*e.characterWidth,s=this.$padding||this.$computePadding();(o+=s.left+s.right)===this.gutterWidth||isNaN(o)||(this.gutterWidth=o,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",o))},this.$updateCursorRow=function(){if(this.$highlightGutterLine){var e=this.session.selection.getCursor();this.$cursorRow!==e.row&&(this.$cursorRow=e.row)}},this.updateLineHighlight=function(){if(this.$highlightGutterLine){var e=this.session.selection.cursor.row;if(this.$cursorRow=e,!this.$cursorCell||this.$cursorCell.row!=e){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var t=this.$lines.cells;this.$cursorCell=null;for(var n=0;n<t.length;n++){var i=t[n];if(i.row>=this.$cursorRow){if(i.row>this.$cursorRow){var r=this.session.getFoldLine(this.$cursorRow);if(!(n>0&&r&&r.start.row==t[n-1].row))break;i=t[n-1]}i.element.className="ace_gutter-active-line "+i.element.className,this.$cursorCell=i;break}}}}},this.scrollLines=function(e){var t=this.config;if(this.config=e,this.$updateCursorRow(),this.$lines.pageChanged(t,e))return this.update(e);this.$lines.moveContainer(e);var n=Math.min(e.lastRow+e.gutterOffset,this.session.getLength()-1),i=this.oldLastRow;if(this.oldLastRow=n,!t||i<e.firstRow)return this.update(e);if(n<t.firstRow)return this.update(e);if(t.firstRow<e.firstRow)for(var r=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);r>0;r--)this.$lines.shift();if(i>n)for(r=this.session.getFoldedRowCount(n+1,i);r>0;r--)this.$lines.pop();e.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLines(e,e.firstRow,t.firstRow-1)),n>i&&this.$lines.push(this.$renderLines(e,i+1,n)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(e)},this.$renderLines=function(e,t,n){for(var i=[],r=t,o=this.session.getNextFoldLine(r),s=o?o.start.row:1/0;r>s&&(r=o.end.row+1,s=(o=this.session.getNextFoldLine(r,o))?o.start.row:1/0),!(r>n);){var a=this.$lines.createCell(r,e,this.session,l);this.$renderCell(a,e,o,r),i.push(a),r++}return i},this.$renderCell=function(e,t,n,r){var o=e.element,s=this.session,a=o.childNodes[0],c=o.childNodes[1],l=s.$firstLineNumber,u=s.$breakpoints,h=s.$decorations,d=s.gutterRenderer||this.$renderer,g=this.$showFoldWidgets&&s.foldWidgets,f=n?n.start.row:Number.MAX_VALUE,p="ace_gutter-cell ";if(this.$highlightGutterLine&&(r==this.$cursorRow||n&&r<this.$cursorRow&&r>=f&&this.$cursorRow<=n.end.row)&&(p+="ace_gutter-active-line ",this.$cursorCell!=e&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=e)),u[r]&&(p+=u[r]),h[r]&&(p+=h[r]),this.$annotations[r]&&(p+=this.$annotations[r].className),o.className!=p&&(o.className=p),g){var m=g[r];null==m&&(m=g[r]=s.getFoldWidget(r))}if(m){p="ace_fold-widget ace_"+m;"start"==m&&r==f&&r<n.end.row?p+=" ace_closed":p+=" ace_open",c.className!=p&&(c.className=p);var C=t.lineHeight+"px";i.setStyle(c.style,"height",C),i.setStyle(c.style,"display","inline-block")}else c&&i.setStyle(c.style,"display","none");var I=(d?d.getText(s,r):r+l).toString();return I!==a.data&&(a.data=I),i.setStyle(e.element.style,"height",this.$lines.computeLineHeight(r,t,s)+"px"),i.setStyle(e.element.style,"top",this.$lines.computeLineTop(r,t,s)+"px"),e.text=I,e},this.$fixedWidth=!1,this.$highlightGutterLine=!0,this.$renderer="",this.setHighlightGutterLine=function(e){this.$highlightGutterLine=e},this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(e){this.$renderer=!e&&{getWidth:function(){return 0},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(e){e?i.addCssClass(this.element,"ace_folding-enabled"):i.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=e,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var e=i.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(e.borderLeftWidth)||0)+(parseInt(e.paddingLeft)||0)+1,this.$padding.right=(parseInt(e.borderRightWidth)||0)+(parseInt(e.paddingRight)||0),this.$padding},this.getRegion=function(e){var t=this.$padding||this.$computePadding(),n=this.element.getBoundingClientRect();return e.x<t.left+n.left?"markers":this.$showFoldWidgets&&e.x>n.right-t.right?"foldWidgets":void 0}}).call(c.prototype),t.Gutter=c})),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],(function(e,t,n){var i=e("../range").Range,r=e("../lib/dom"),o=function(e){this.element=r.createElement("div"),this.element.className="ace_layer ace_marker-layer",e.appendChild(this.element)};(function(){this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setMarkers=function(e){this.markers=e},this.elt=function(e,t){var n=-1!=this.i&&this.element.childNodes[this.i];n?this.i++:(n=document.createElement("div"),this.element.appendChild(n),this.i=-1),n.style.cssText=t,n.className=e},this.update=function(e){if(e){var t;for(var n in this.config=e,this.i=0,this.markers){var i=this.markers[n];if(i.range){var r=i.range.clipRows(e.firstRow,e.lastRow);if(!r.isEmpty())if(r=r.toScreenRange(this.session),i.renderer){var o=this.$getTop(r.start.row,e),s=this.$padding+r.start.column*e.characterWidth;i.renderer(t,r,s,o,e)}else"fullLine"==i.type?this.drawFullLineMarker(t,r,i.clazz,e):"screenLine"==i.type?this.drawScreenLineMarker(t,r,i.clazz,e):r.isMultiLine()?"text"==i.type?this.drawTextMarker(t,r,i.clazz,e):this.drawMultiLineMarker(t,r,i.clazz,e):this.drawSingleLineMarker(t,r,i.clazz+" ace_start ace_br15",e)}else i.update(t,this,this.session,e)}if(-1!=this.i)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},this.$getTop=function(e,t){return(e-t.firstRowScreen)*t.lineHeight},this.drawTextMarker=function(e,t,n,r,o){for(var s=this.session,a=t.start.row,c=t.end.row,l=a,u=0,h=0,d=s.getScreenLastRowColumn(l),g=new i(l,t.start.column,l,h);l<=c;l++)g.start.row=g.end.row=l,g.start.column=l==a?t.start.column:s.getRowWrapIndent(l),g.end.column=d,u=h,h=d,d=l+1<c?s.getScreenLastRowColumn(l+1):l==c?0:t.end.column,this.drawSingleLineMarker(e,g,n+(l==a?" ace_start":"")+" ace_br"+((l==a||l==a+1&&t.start.column?1:0)|(u<h?2:0)|(h>d?4:0)|(l==c?8:0)),r,l==c?0:1,o)},this.drawMultiLineMarker=function(e,t,n,i,r){var o=this.$padding,s=i.lineHeight,a=this.$getTop(t.start.row,i),c=o+t.start.column*i.characterWidth;(r=r||"",this.session.$bidiHandler.isBidiRow(t.start.row))?((l=t.clone()).end.row=l.start.row,l.end.column=this.session.getLine(l.start.row).length,this.drawBidiSingleLineMarker(e,l,n+" ace_br1 ace_start",i,null,r)):this.elt(n+" ace_br1 ace_start","height:"+s+"px;right:0;top:"+a+"px;left:"+c+"px;"+(r||""));if(this.session.$bidiHandler.isBidiRow(t.end.row)){var l;(l=t.clone()).start.row=l.end.row,l.start.column=0,this.drawBidiSingleLineMarker(e,l,n+" ace_br12",i,null,r)}else{a=this.$getTop(t.end.row,i);var u=t.end.column*i.characterWidth;this.elt(n+" ace_br12","height:"+s+"px;width:"+u+"px;top:"+a+"px;left:"+o+"px;"+(r||""))}if(!((s=(t.end.row-t.start.row-1)*i.lineHeight)<=0)){a=this.$getTop(t.start.row+1,i);var h=(t.start.column?1:0)|(t.end.column?0:8);this.elt(n+(h?" ace_br"+h:""),"height:"+s+"px;right:0;top:"+a+"px;left:"+o+"px;"+(r||""))}},this.drawSingleLineMarker=function(e,t,n,i,r,o){if(this.session.$bidiHandler.isBidiRow(t.start.row))return this.drawBidiSingleLineMarker(e,t,n,i,r,o);var s=i.lineHeight,a=(t.end.column+(r||0)-t.start.column)*i.characterWidth,c=this.$getTop(t.start.row,i),l=this.$padding+t.start.column*i.characterWidth;this.elt(n,"height:"+s+"px;width:"+a+"px;top:"+c+"px;left:"+l+"px;"+(o||""))},this.drawBidiSingleLineMarker=function(e,t,n,i,r,o){var s=i.lineHeight,a=this.$getTop(t.start.row,i),c=this.$padding;this.session.$bidiHandler.getSelections(t.start.column,t.end.column).forEach((function(e){this.elt(n,"height:"+s+"px;width:"+e.width+(r||0)+"px;top:"+a+"px;left:"+(c+e.left)+"px;"+(o||""))}),this)},this.drawFullLineMarker=function(e,t,n,i,r){var o=this.$getTop(t.start.row,i),s=i.lineHeight;t.start.row!=t.end.row&&(s+=this.$getTop(t.end.row,i)-o),this.elt(n,"height:"+s+"px;top:"+o+"px;left:0;right:0;"+(r||""))},this.drawScreenLineMarker=function(e,t,n,i,r){var o=this.$getTop(t.start.row,i),s=i.lineHeight;this.elt(n,"height:"+s+"px;top:"+o+"px;left:0;right:0;"+(r||""))}}).call(o.prototype),t.Marker=o})),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter"],(function(e,t,n){var i=e("../lib/oop"),r=e("../lib/dom"),o=e("../lib/lang"),s=e("./lines").Lines,a=e("../lib/event_emitter").EventEmitter,c=function(e){this.dom=r,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",e.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new s(this.element)};(function(){i.implement(this,a),this.EOF_CHAR="",this.EOL_CHAR_LF="",this.EOL_CHAR_CRLF="",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR="",this.SPACE_CHAR="",this.$padding=0,this.MAX_LINE_LENGTH=1e4,this.$updateEolChar=function(){var e=this.session.doc,t="\n"==e.getNewLineCharacter()&&"windows"!=e.getNewLineMode()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=t)return this.EOL_CHAR=t,!0},this.setPadding=function(e){this.$padding=e,this.element.style.margin="0 "+e+"px"},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(e){this.$fontMetrics=e,this.$fontMetrics.on("changeCharacterSize",function(e){this._signal("changeCharacterSize",e)}.bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(e){this.session=e,e&&this.$computeTabString()},this.showInvisibles=!1,this.showSpaces=!1,this.showTabs=!1,this.showEOL=!1,this.setShowInvisibles=function(e){return this.showInvisibles!=e&&(this.showInvisibles=e,"string"==typeof e?(this.showSpaces=/tab/i.test(e),this.showTabs=/space/i.test(e),this.showEOL=/eol/i.test(e)):this.showSpaces=this.showTabs=this.showEOL=e,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(e){return this.displayIndentGuides!=e&&(this.displayIndentGuides=e,this.$computeTabString(),!0)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var e=this.session.getTabSize();this.tabSize=e;for(var t=this.$tabStrings=[0],n=1;n<e+1;n++){if(this.showTabs)(i=this.dom.createElement("span")).className="ace_invisible ace_invisible_tab",i.textContent=o.stringRepeat(this.TAB_CHAR,n),t.push(i);else t.push(this.dom.createTextNode(o.stringRepeat(" ",n),this.element))}if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var i,r="ace_indent-guide",s=this.showSpaces?" ace_invisible ace_invisible_space":"",a=this.showSpaces?o.stringRepeat(this.SPACE_CHAR,this.tabSize):o.stringRepeat(" ",this.tabSize),c=this.showTabs?" ace_invisible ace_invisible_tab":"",l=this.showTabs?o.stringRepeat(this.TAB_CHAR,this.tabSize):a;(i=this.dom.createElement("span")).className=r+s,i.textContent=a,this.$tabStrings[" "]=i,(i=this.dom.createElement("span")).className=r+c,i.textContent=l,this.$tabStrings["\t"]=i}},this.updateLines=function(e,t,n){if(this.config.lastRow!=e.lastRow||this.config.firstRow!=e.firstRow)return this.update(e);this.config=e;for(var i=Math.max(t,e.firstRow),r=Math.min(n,e.lastRow),o=this.element.childNodes,s=0,a=e.firstRow;a<i;a++){if(c=this.session.getFoldLine(a)){if(c.containsRow(i)){i=c.start.row;break}a=c.end.row}s++}for(var c,l=!1,u=(a=i,(c=this.session.getNextFoldLine(a))?c.start.row:1/0);a>u&&(a=c.end.row+1,u=(c=this.session.getNextFoldLine(a,c))?c.start.row:1/0),!(a>r);){var h=o[s++];if(h){this.dom.removeChildren(h),this.$renderLine(h,a,a==u&&c),l&&(h.style.top=this.$lines.computeLineTop(a,e,this.session)+"px");var d=e.lineHeight*this.session.getRowLength(a)+"px";h.style.height!=d&&(l=!0,h.style.height=d)}a++}if(l)for(;s<this.$lines.cells.length;){var g=this.$lines.cells[s++];g.element.style.top=this.$lines.computeLineTop(g.row,e,this.session)+"px"}},this.scrollLines=function(e){var t=this.config;if(this.config=e,this.$lines.pageChanged(t,e))return this.update(e);this.$lines.moveContainer(e);var n=e.lastRow,i=t?t.lastRow:-1;if(!t||i<e.firstRow)return this.update(e);if(n<t.firstRow)return this.update(e);if(!t||t.lastRow<e.firstRow)return this.update(e);if(e.lastRow<t.firstRow)return this.update(e);if(t.firstRow<e.firstRow)for(var r=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);r>0;r--)this.$lines.shift();if(t.lastRow>e.lastRow)for(r=this.session.getFoldedRowCount(e.lastRow+1,t.lastRow);r>0;r--)this.$lines.pop();e.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLinesFragment(e,e.firstRow,t.firstRow-1)),e.lastRow>t.lastRow&&this.$lines.push(this.$renderLinesFragment(e,t.lastRow+1,e.lastRow))},this.$renderLinesFragment=function(e,t,n){for(var i=[],o=t,s=this.session.getNextFoldLine(o),a=s?s.start.row:1/0;o>a&&(o=s.end.row+1,a=(s=this.session.getNextFoldLine(o,s))?s.start.row:1/0),!(o>n);){var c=this.$lines.createCell(o,e,this.session),l=c.element;this.dom.removeChildren(l),r.setStyle(l.style,"height",this.$lines.computeLineHeight(o,e,this.session)+"px"),r.setStyle(l.style,"top",this.$lines.computeLineTop(o,e,this.session)+"px"),this.$renderLine(l,o,o==a&&s),this.$useLineGroups()?l.className="ace_line_group":l.className="ace_line",i.push(c),o++}return i},this.update=function(e){this.$lines.moveContainer(e),this.config=e;for(var t=e.firstRow,n=e.lastRow,i=this.$lines;i.getLength();)i.pop();i.push(this.$renderLinesFragment(e,t,n))},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(e,t,n,i){for(var r,s=this,a=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,c=this.dom.createFragment(this.element),l=0;r=a.exec(i);){var u=r[1],h=r[2],d=r[3],g=r[4],f=r[5];if(s.showSpaces||!h){var p=l!=r.index?i.slice(l,r.index):"";if(l=r.index+r[0].length,p&&c.appendChild(this.dom.createTextNode(p,this.element)),u){var m=s.session.getScreenTabSize(t+r.index);c.appendChild(s.$tabStrings[m].cloneNode(!0)),t+=m-1}else if(h){if(s.showSpaces)(I=this.dom.createElement("span")).className="ace_invisible ace_invisible_space",I.textContent=o.stringRepeat(s.SPACE_CHAR,h.length),c.appendChild(I);else c.appendChild(this.com.createTextNode(h,this.element))}else if(d){(I=this.dom.createElement("span")).className="ace_invisible ace_invisible_space ace_invalid",I.textContent=o.stringRepeat(s.SPACE_CHAR,d.length),c.appendChild(I)}else if(g){t+=1,(I=this.dom.createElement("span")).style.width=2*s.config.characterWidth+"px",I.className=s.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",I.textContent=s.showSpaces?s.SPACE_CHAR:g,c.appendChild(I)}else if(f){t+=1,(I=this.dom.createElement("span")).style.width=2*s.config.characterWidth+"px",I.className="ace_cjk",I.textContent=f,c.appendChild(I)}}}if(c.appendChild(this.dom.createTextNode(l?i.slice(l):i,this.element)),this.$textToken[n.type])e.appendChild(c);else{var C="ace_"+n.type.replace(/\./g," ace_"),I=this.dom.createElement("span");"fold"==n.type&&(I.style.width=n.value.length*this.config.characterWidth+"px"),I.className=C,I.appendChild(c),e.appendChild(I)}return t+i.length},this.renderIndentGuide=function(e,t,n){var i=t.search(this.$indentGuideRe);if(i<=0||i>=n)return t;if(" "==t[0]){for(var r=(i-=i%this.tabSize)/this.tabSize,o=0;o<r;o++)e.appendChild(this.$tabStrings[" "].cloneNode(!0));return t.substr(i)}if("\t"==t[0]){for(o=0;o<i;o++)e.appendChild(this.$tabStrings["\t"].cloneNode(!0));return t.substr(i)}return t},this.$createLineElement=function(e){var t=this.dom.createElement("div");return t.className="ace_line",t.style.height=this.config.lineHeight+"px",t},this.$renderWrappedLine=function(e,t,n){var i=0,r=0,s=n[0],a=0,c=this.$createLineElement();e.appendChild(c);for(var l=0;l<t.length;l++){var u=t[l],h=u.value;if(0==l&&this.displayIndentGuides){if(i=h.length,!(h=this.renderIndentGuide(c,h,s)))continue;i-=h.length}if(i+h.length<s)a=this.$renderToken(c,a,u,h),i+=h.length;else{for(;i+h.length>=s;)a=this.$renderToken(c,a,u,h.substring(0,s-i)),h=h.substring(s-i),i=s,c=this.$createLineElement(),e.appendChild(c),c.appendChild(this.dom.createTextNode(o.stringRepeat("",n.indent),this.element)),a=0,s=n[++r]||Number.MAX_VALUE;0!=h.length&&(i+=h.length,a=this.$renderToken(c,a,u,h))}}n[n.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(c,a,null,"",!0)},this.$renderSimpleLine=function(e,t){var n=0,i=t[0],r=i.value;this.displayIndentGuides&&(r=this.renderIndentGuide(e,r)),r&&(n=this.$renderToken(e,n,i,r));for(var o=1;o<t.length;o++){if(n+(r=(i=t[o]).value).length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(e,n,i,r);n=this.$renderToken(e,n,i,r)}},this.$renderOverflowMessage=function(e,t,n,i,r){n&&this.$renderToken(e,t,n,i.slice(0,this.MAX_LINE_LENGTH-t));var o=this.dom.createElement("span");o.className="ace_inline_button ace_keyword ace_toggle_wrap",o.textContent=r?"<hide>":"<click to see more...>",e.appendChild(o)},this.$renderLine=function(e,t,n){if(n||0==n||(n=this.session.getFoldLine(t)),n)var i=this.$getFoldLineTokens(t,n);else i=this.session.getTokens(t);var r=e;if(i.length){var o=this.session.getRowSplitData(t);if(o&&o.length){this.$renderWrappedLine(e,i,o);r=e.lastChild}else{r=e;this.$useLineGroups()&&(r=this.$createLineElement(),e.appendChild(r)),this.$renderSimpleLine(r,i)}}else this.$useLineGroups()&&(r=this.$createLineElement(),e.appendChild(r));if(this.showEOL&&r){n&&(t=n.end.row);var s=this.dom.createElement("span");s.className="ace_invisible ace_invisible_eol",s.textContent=t==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,r.appendChild(s)}},this.$getFoldLineTokens=function(e,t){var n=this.session,i=[];var r=n.getTokens(e);return t.walk((function(e,t,o,s,a){null!=e?i.push({type:"fold",value:e}):(a&&(r=n.getTokens(t)),r.length&&function(e,t,n){for(var r=0,o=0;o+e[r].value.length<t;)if(o+=e[r].value.length,++r==e.length)return;for(o!=t&&((s=e[r].value.substring(t-o)).length>n-t&&(s=s.substring(0,n-t)),i.push({type:e[r].type,value:s}),o=t+s.length,r+=1);o<n&&r<e.length;){var s;(s=e[r].value).length+o>n?i.push({type:e[r].type,value:s.substring(0,n-o)}):i.push(e[r]),o+=s.length,r+=1}}(r,s,o))}),t.end.row,this.session.getLine(t.end.row).length),i},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){}}).call(c.prototype),t.Text=c})),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],(function(e,t,n){var i=e("../lib/dom"),r=function(e){this.element=i.createElement("div"),this.element.className="ace_layer ace_cursor-layer",e.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),i.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)};(function(){this.$updateOpacity=function(e){for(var t=this.cursors,n=t.length;n--;)i.setStyle(t[n].style,"opacity",e?"":"0")},this.$startCssAnimation=function(){for(var e=this.cursors,t=e.length;t--;)e[t].style.animationDuration=this.blinkInterval+"ms";setTimeout(function(){i.addCssClass(this.element,"ace_animate-blinking")}.bind(this))},this.$stopCssAnimation=function(){i.removeCssClass(this.element,"ace_animate-blinking")},this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setBlinking=function(e){e!=this.isBlinking&&(this.isBlinking=e,this.restartTimer())},this.setBlinkInterval=function(e){e!=this.blinkInterval&&(this.blinkInterval=e,this.restartTimer())},this.setSmoothBlinking=function(e){e!=this.smoothBlinking&&(this.smoothBlinking=e,i.setCssClass(this.element,"ace_smooth-blinking",e),this.$updateCursors(!0),this.restartTimer())},this.addCursor=function(){var e=i.createElement("div");return e.className="ace_cursor",this.element.appendChild(e),this.cursors.push(e),e},this.removeCursor=function(){if(this.cursors.length>1){var e=this.cursors.pop();return e.parentNode.removeChild(e),e}},this.hideCursor=function(){this.isVisible=!1,i.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,i.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){var e=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&i.removeCssClass(this.element,"ace_smooth-blinking"),e(!0),this.isBlinking&&this.blinkInterval&&this.isVisible)if(this.smoothBlinking&&setTimeout(function(){i.addCssClass(this.element,"ace_smooth-blinking")}.bind(this)),i.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var t=function(){this.timeoutId=setTimeout((function(){e(!1)}),.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval((function(){e(!0),t()}),this.blinkInterval),t()}else this.$stopCssAnimation()},this.getPixelPosition=function(e,t){if(!this.config||!this.session)return{left:0,top:0};e||(e=this.session.selection.getCursor());var n=this.session.documentToScreenPosition(e);return{left:this.$padding+(this.session.$bidiHandler.isBidiRow(n.row,e.row)?this.session.$bidiHandler.getPosLeft(n.column):n.column*this.config.characterWidth),top:(n.row-(t?this.config.firstRowScreen:0))*this.config.lineHeight}},this.isCursorInView=function(e,t){return e.top>=0&&e.top<t.maxHeight},this.update=function(e){this.config=e;var t=this.session.$selectionMarkers,n=0,r=0;void 0!==t&&0!==t.length||(t=[{cursor:null}]);n=0;for(var o=t.length;n<o;n++){var s=this.getPixelPosition(t[n].cursor,!0);if(!((s.top>e.height+e.offset||s.top<0)&&n>1)){var a=this.cursors[r++]||this.addCursor(),c=a.style;this.drawCursor?this.drawCursor(a,s,e,t[n],this.session):this.isCursorInView(s,e)?(i.setStyle(c,"display","block"),i.translate(a,s.left,s.top),i.setStyle(c,"width",Math.round(e.characterWidth)+"px"),i.setStyle(c,"height",e.lineHeight+"px")):i.setStyle(c,"display","none")}}for(;this.cursors.length>r;)this.removeCursor();var l=this.session.getOverwrite();this.$setOverwrite(l),this.$pixelPos=s,this.restartTimer()},this.drawCursor=null,this.$setOverwrite=function(e){e!=this.overwrite&&(this.overwrite=e,e?i.addCssClass(this.element,"ace_overwrite-cursors"):i.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(r.prototype),t.Cursor=r})),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],(function(e,t,n){var i=e("./lib/oop"),r=e("./lib/dom"),o=e("./lib/event"),s=e("./lib/event_emitter").EventEmitter,a=32768,c=function(e){this.element=r.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix,this.inner=r.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent="",this.element.appendChild(this.inner),e.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,o.addListener(this.element,"scroll",this.onScroll.bind(this)),o.addListener(this.element,"mousedown",o.preventDefault)};(function(){i.implement(this,s),this.setVisible=function(e){this.element.style.display=e?"":"none",this.isVisible=e,this.coeff=1}}).call(c.prototype);var l=function(e,t){c.call(this,e),this.scrollTop=0,this.scrollHeight=0,t.$scrollbarWidth=this.width=r.scrollbarWidth(e.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px",this.$minWidth=0};i.inherits(l,c),function(){this.classSuffix="-v",this.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,1!=this.coeff){var e=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-e)/(this.coeff-e)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},this.setHeight=function(e){this.element.style.height=e+"px"},this.setInnerHeight=this.setScrollHeight=function(e){this.scrollHeight=e,e>a?(this.coeff=a/e,e=a):1!=this.coeff&&(this.coeff=1),this.inner.style.height=e+"px"},this.setScrollTop=function(e){this.scrollTop!=e&&(this.skipEvent=!0,this.scrollTop=e,this.element.scrollTop=e*this.coeff)}}.call(l.prototype);var u=function(e,t){c.call(this,e),this.scrollLeft=0,this.height=t.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};i.inherits(u,c),function(){this.classSuffix="-h",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(e){this.element.style.width=e+"px"},this.setInnerWidth=function(e){this.inner.style.width=e+"px"},this.setScrollWidth=function(e){this.inner.style.width=e+"px"},this.setScrollLeft=function(e){this.scrollLeft!=e&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=e)}}.call(u.prototype),t.ScrollBar=l,t.ScrollBarV=l,t.ScrollBarH=u,t.VScrollBar=l,t.HScrollBar=u})),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],(function(e,t,n){var i=e("./lib/event"),r=function(e,t){this.onRender=e,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=t||window;var n=this;this._flush=function(e){n.pending=!1;var t=n.changes;if(t&&(i.blockIdle(100),n.changes=0,n.onRender(t)),n.changes){if(n.$recursionLimit--<0)return;n.schedule()}else n.$recursionLimit=2}};(function(){this.schedule=function(e){this.changes=this.changes|e,this.changes&&!this.pending&&(i.nextFrame(this._flush),this.pending=!0)},this.clear=function(e){var t=this.changes;return this.changes=0,t}}).call(r.prototype),t.RenderLoop=r})),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],(function(e,t,n){var i=e("../lib/oop"),r=e("../lib/dom"),o=e("../lib/lang"),s=e("../lib/event"),a=e("../lib/useragent"),c=e("../lib/event_emitter").EventEmitter,l=256,u="function"==typeof ResizeObserver,h=200,d=t.FontMetrics=function(e){this.el=r.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=r.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=r.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),e.appendChild(this.el),this.$measureNode.textContent=o.stringRepeat("X",l),this.$characterSize={width:0,height:0},u?this.$addObserver():this.checkForSizeChanges()};(function(){i.implement(this,c),this.$characterSize={width:0,height:0},this.$setMeasureNodeStyles=function(e,t){e.width=e.height="auto",e.left=e.top="0px",e.visibility="hidden",e.position="absolute",e.whiteSpace="pre",a.isIE<8?e["font-family"]="inherit":e.font="inherit",e.overflow=t?"hidden":"visible"},this.checkForSizeChanges=function(e){if(void 0===e&&(e=this.$measureSizes()),e&&(this.$characterSize.width!==e.width||this.$characterSize.height!==e.height)){this.$measureNode.style.fontWeight="bold";var t=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=e,this.charSizes=Object.create(null),this.allowBoldFonts=t&&t.width===e.width&&t.height===e.height,this._emit("changeCharacterSize",{data:e})}},this.$addObserver=function(){var e=this;this.$observer=new window.ResizeObserver((function(t){e.checkForSizeChanges()})),this.$observer.observe(this.$measureNode)},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var e=this;return this.$pollSizeChangesTimer=s.onIdle((function t(){e.checkForSizeChanges(),s.onIdle(t,500)}),500)},this.setPolling=function(e){e?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},this.$measureSizes=function(e){var t={height:(e||this.$measureNode).clientHeight,width:(e||this.$measureNode).clientWidth/l};return 0===t.width||0===t.height?null:t},this.$measureCharWidth=function(e){return this.$main.textContent=o.stringRepeat(e,l),this.$main.getBoundingClientRect().width/l},this.getCharacterWidth=function(e){var t=this.charSizes[e];return void 0===t&&(t=this.charSizes[e]=this.$measureCharWidth(e)/this.$characterSize.width),t},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},this.$getZoom=function e(t){return t&&t.parentElement?(window.getComputedStyle(t).zoom||1)*e(t.parentElement):1},this.$initTransformMeasureNodes=function(){var e=function(e,t){return["div",{style:"position: absolute;top:"+e+"px;left:"+t+"px;"}]};this.els=r.buildDom([e(0,0),e(h,0),e(0,h),e(h,h)],this.el)},this.transformCoordinates=function(e,t){e&&(e=o(1/this.$getZoom(this.el),e));function n(e,t,n){var i=e[1]*t[0]-e[0]*t[1];return[(-t[1]*n[0]+t[0]*n[1])/i,(+e[1]*n[0]-e[0]*n[1])/i]}function i(e,t){return[e[0]-t[0],e[1]-t[1]]}function r(e,t){return[e[0]+t[0],e[1]+t[1]]}function o(e,t){return[e*t[0],e*t[1]]}function s(e){var t=e.getBoundingClientRect();return[t.left,t.top]}this.els||this.$initTransformMeasureNodes();var a=s(this.els[0]),c=s(this.els[1]),l=s(this.els[2]),u=s(this.els[3]),d=n(i(u,c),i(u,l),i(r(c,l),r(u,a))),g=o(1+d[0],i(c,a)),f=o(1+d[1],i(l,a));if(t){var p=t,m=d[0]*p[0]/h+d[1]*p[1]/h+1,C=r(o(p[0],g),o(p[1],f));return r(o(1/m/h,C),a)}var I=i(e,a),v=n(i(g,o(d[0],I)),i(f,o(d[1],I)),I);return o(h,v)}}).call(d.prototype)})),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/lib/useragent"],(function(e,t,n){var i=e("./lib/oop"),r=e("./lib/dom"),o=e("./config"),s=e("./layer/gutter").Gutter,a=e("./layer/marker").Marker,c=e("./layer/text").Text,l=e("./layer/cursor").Cursor,u=e("./scrollbar").HScrollBar,h=e("./scrollbar").VScrollBar,d=e("./renderloop").RenderLoop,g=e("./layer/font_metrics").FontMetrics,f=e("./lib/event_emitter").EventEmitter,p='.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}.ace_editor {position: relative;overflow: hidden;padding: 0;font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;direction: ltr;text-align: left;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;box-sizing: border-box;min-width: 100%;contain: style size layout;font-variant-ligatures: no-common-ligatures;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: \'\';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;contain: style size layout;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {position: absolute;top: 0;left: 0;right: 0;padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {contain: strict;position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;contain: strict;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: transparent;color: inherit;z-index: 1000;opacity: 1;}.ace_composition_placeholder { color: transparent }.ace_composition_marker { border-bottom: 1px solid;position: absolute;border-radius: 0;margin-top: 1px;}[ace_nocontext=true] {transform: none!important;filter: none!important;clip-path: none!important;mask : none!important;contain: none!important;perspective: none!important;mix-blend-mode: initial!important;z-index: auto;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;height: 1000000px;contain: style size layout;}.ace_text-layer {font: inherit !important;position: absolute;height: 1000000px;width: 1000000px;contain: style size layout;}.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {contain: style size layout;position: absolute;top: 0;left: 0;right: 0;}.ace_hidpi .ace_text-layer,.ace_hidpi .ace_gutter-layer,.ace_hidpi .ace_content,.ace_hidpi .ace_gutter {contain: strict;will-change: transform;}.ace_hidpi .ace_text-layer > .ace_line, .ace_hidpi .ace_text-layer > .ace_line_group {contain: strict;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {opacity: 0;}.ace_smooth-blinking .ace_cursor {transition: opacity 0.18s;}.ace_animate-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: step-end;animation-name: blink-ace-animate;animation-iteration-count: infinite;}.ace_animate-blinking.ace_smooth-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: ease-in-out;animation-name: blink-ace-animate-smooth;}@keyframes blink-ace-animate {from, to { opacity: 1; }60% { opacity: 0; }}@keyframes blink-ace-animate-smooth {from, to { opacity: 1; }45% { opacity: 1; }60% { opacity: 0; }85% { opacity: 0; }}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_error_bracket {position: absolute;border-bottom: 1px solid #DE5555;border-radius: 0;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;box-sizing: border-box;}.ace_line .ace_fold {box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_inline_button {border: 1px solid lightgray;display: inline-block;margin: -1px 8px;padding: 0 5px;pointer-events: auto;cursor: pointer;}.ace_inline_button:hover {border-color: gray;background: rgba(200,200,200,0.2);display: inline-block;pointer-events: auto;}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}.ace_mobile-menu {position: absolute;line-height: 1.5;border-radius: 4px;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;background: white;box-shadow: 1px 3px 2px grey;border: 1px solid #dcdcdc;color: black;}.ace_dark > .ace_mobile-menu {background: #333;color: #ccc;box-shadow: 1px 3px 2px grey;border: 1px solid #444;}.ace_mobile-button {padding: 2px;cursor: pointer;overflow: hidden;}.ace_mobile-button:hover {background-color: #eee;opacity:1;}.ace_mobile-button:active {background-color: #ddd;}.ace_placeholder {font-family: arial;transform: scale(0.9);transform-origin: left;white-space: pre;opacity: 0.7;margin: 0 10px;}',m=e("./lib/useragent"),C=m.isIE;r.importCssString(p,"ace_editor.css");var I=function(e,t){var n=this;this.container=e||r.createElement("div"),r.addCssClass(this.container,"ace_editor"),r.HI_DPI&&r.addCssClass(this.container,"ace_hidpi"),this.setTheme(t),this.$gutter=r.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden",!0),this.scroller=r.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=r.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new s(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new a(this.content);var i=this.$textLayer=new c(this.content);this.canvas=i.element,this.$markerFront=new a(this.content),this.$cursorLayer=new l(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new h(this.container,this),this.scrollBarH=new u(this.container,this),this.scrollBarV.on("scroll",(function(e){n.$scrollAnimation||n.session.setScrollTop(e.data-n.scrollMargin.top)})),this.scrollBarH.on("scroll",(function(e){n.$scrollAnimation||n.session.setScrollLeft(e.data-n.scrollMargin.left)})),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new g(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",(function(e){n.updateCharacterSize(),n.onResize(!0,n.gutterWidth,n.$size.width,n.$size.height),n._signal("changeCharacterSize",e)})),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!m.isIOS,this.$loop=new d(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),o.resetOptions(this),o._signal("renderer",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,i.implement(this,f),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),r.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},this.setSession=function(e){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=e,e&&this.scrollMargin.top&&e.getScrollTop()<=0&&e.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(e),this.$markerBack.setSession(e),this.$markerFront.setSession(e),this.$gutterLayer.setSession(e),this.$textLayer.setSession(e),e&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},this.updateLines=function(e,t,n){if(void 0===t&&(t=1/0),this.$changedLines?(this.$changedLines.firstRow>e&&(this.$changedLines.firstRow=e),this.$changedLines.lastRow<t&&(this.$changedLines.lastRow=t)):this.$changedLines={firstRow:e,lastRow:t},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!n)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(e){e?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(e,t,n,i){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=e?1:0;var r=this.container;i||(i=r.clientHeight||r.scrollHeight),n||(n=r.clientWidth||r.scrollWidth);var o=this.$updateCachedSize(e,t,n,i);if(!this.$size.scrollerHeight||!n&&!i)return this.resizing=0;e&&(this.$gutterLayer.$padding=null),e?this.$renderChanges(o|this.$changes,!0):this.$loop.schedule(o|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null}},this.$updateCachedSize=function(e,t,n,i){i-=this.$extraHeight||0;var o=0,s=this.$size,a={width:s.width,height:s.height,scrollerHeight:s.scrollerHeight,scrollerWidth:s.scrollerWidth};if(i&&(e||s.height!=i)&&(s.height=i,o|=this.CHANGE_SIZE,s.scrollerHeight=s.height,this.$horizScroll&&(s.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",o|=this.CHANGE_SCROLL),n&&(e||s.width!=n)){o|=this.CHANGE_SIZE,s.width=n,null==t&&(t=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=t,r.setStyle(this.scrollBarH.element.style,"left",t+"px"),r.setStyle(this.scroller.style,"left",t+this.margin.left+"px"),s.scrollerWidth=Math.max(0,n-t-this.scrollBarV.getWidth()-this.margin.h),r.setStyle(this.$gutter.style,"left",this.margin.left+"px");var c=this.scrollBarV.getWidth()+"px";r.setStyle(this.scrollBarH.element.style,"right",c),r.setStyle(this.scroller.style,"right",c),r.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||e)&&(o|=this.CHANGE_FULL)}return s.$dirty=!n||!i,o&&this._signal("resize",a),o},this.onGutterResize=function(e){var t=this.$showGutter?e:0;t!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,t,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()||this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},this.adjustWrapLimit=function(){var e=this.$size.scrollerWidth-2*this.$padding,t=Math.floor(e/this.characterWidth);return this.session.adjustWrapLimit(t,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(e){this.setOption("animatedScroll",e)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(e){this.setOption("showInvisibles",e),this.session.$bidiHandler.setShowInvisibles(e)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(e){this.setOption("displayIndentGuides",e)},this.setShowPrintMargin=function(e){this.setOption("showPrintMargin",e)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(e){this.setOption("printMarginColumn",e)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(e){return this.setOption("showGutter",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var e=r.createElement("div");e.className="ace_layer ace_print-margin-layer",this.$printMarginEl=r.createElement("div"),this.$printMarginEl.className="ace_print-margin",e.appendChild(this.$printMarginEl),this.content.insertBefore(e,this.content.firstChild)}var t=this.$printMarginEl.style;t.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",t.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&-1==this.session.$wrap&&this.adjustWrapLimit()}},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.scroller},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var e=this.textarea.style,t=this.$composition;if(this.$keepTextAreaAtCursor||t){var n=this.$cursorLayer.$pixelPos;if(n){t&&t.markerRange&&(n=this.$cursorLayer.getPixelPosition(t.markerRange.start,!0));var i=this.layerConfig,o=n.top,s=n.left;o-=i.offset;var a=t&&t.useTextareaForIME?this.lineHeight:C?0:1;if(o<0||o>i.height-a)r.translate(this.textarea,0,0);else{var c=1,l=this.$size.height-a;if(t)if(t.useTextareaForIME){var u=this.textarea.value;c=this.characterWidth*this.session.$getStringScreenWidth(u)[0]}else o+=this.lineHeight+2;else o+=this.lineHeight;(s-=this.scrollLeft)>this.$size.scrollerWidth-c&&(s=this.$size.scrollerWidth-c),s+=this.gutterWidth+this.margin.left,r.setStyle(e,"height",a+"px"),r.setStyle(e,"width",c+"px"),r.translate(this.textarea,Math.min(s,this.$size.scrollerWidth-c),Math.min(o,l))}}}else r.translate(this.textarea,-100,0)}},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},this.getLastFullyVisibleRow=function(){var e=this.layerConfig,t=e.lastRow;return this.session.documentToScreenRow(t,0)*e.lineHeight-this.session.getScrollTop()>e.height-e.lineHeight?t-1:t},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(e){this.$padding=e,this.$textLayer.setPadding(e),this.$cursorLayer.setPadding(e),this.$markerFront.setPadding(e),this.$markerBack.setPadding(e),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(e,t,n,i){var r=this.scrollMargin;r.top=0|e,r.bottom=0|t,r.right=0|i,r.left=0|n,r.v=r.top+r.bottom,r.h=r.left+r.right,r.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-r.top),this.updateFull()},this.setMargin=function(e,t,n,i){var r=this.margin;r.top=0|e,r.bottom=0|t,r.right=0|i,r.left=0|n,r.v=r.top+r.bottom,r.h=r.left+r.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(e){this.setOption("hScrollBarAlwaysVisible",e)},this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(e){this.setOption("vScrollBarAlwaysVisible",e)},this.$updateScrollBarV=function(){var e=this.layerConfig.maxHeight,t=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(e-=(t-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>e-t&&(e=this.scrollTop+t,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(e+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(e,t){if(this.$changes&&(e|=this.$changes,this.$changes=0),this.session&&this.container.offsetWidth&&!this.$frozen&&(e||t)){if(this.$size.$dirty)return this.$changes|=e,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",e),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var n=this.layerConfig;if(e&this.CHANGE_FULL||e&this.CHANGE_SIZE||e&this.CHANGE_TEXT||e&this.CHANGE_LINES||e&this.CHANGE_SCROLL||e&this.CHANGE_H_SCROLL){if(e|=this.$computeLayerConfig()|this.$loop.clear(),n.firstRow!=this.layerConfig.firstRow&&n.firstRowScreen==this.layerConfig.firstRowScreen){var i=this.scrollTop+(n.firstRow-this.layerConfig.firstRow)*this.lineHeight;i>0&&(this.scrollTop=i,e|=this.CHANGE_SCROLL,e|=this.$computeLayerConfig()|this.$loop.clear())}n=this.layerConfig,this.$updateScrollBarV(),e&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),r.translate(this.content,-this.scrollLeft,-n.offset);var o=n.width+2*this.$padding+"px",s=n.minHeight+"px";r.setStyle(this.content.style,"width",o),r.setStyle(this.content.style,"height",s)}if(e&this.CHANGE_H_SCROLL&&(r.translate(this.content,-this.scrollLeft,-n.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),e&this.CHANGE_FULL)return this.$changedLines=null,this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),void this._signal("afterRender",e);if(e&this.CHANGE_SCROLL)return this.$changedLines=null,e&this.CHANGE_TEXT||e&this.CHANGE_LINES?this.$textLayer.update(n):this.$textLayer.scrollLines(n),this.$showGutter&&(e&this.CHANGE_GUTTER||e&this.CHANGE_LINES?this.$gutterLayer.update(n):this.$gutterLayer.scrollLines(n)),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),void this._signal("afterRender",e);e&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n)):e&this.CHANGE_LINES?(this.$updateLines()||e&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(n):e&this.CHANGE_TEXT||e&this.CHANGE_GUTTER?this.$showGutter&&this.$gutterLayer.update(n):e&this.CHANGE_CURSOR&&this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(n),e&this.CHANGE_CURSOR&&(this.$cursorLayer.update(n),this.$moveTextAreaToCursor()),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(n),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(n),this._signal("afterRender",e)}else this.$changes|=e},this.$autosize=function(){var e=this.session.getScreenLength()*this.lineHeight,t=this.$maxLines*this.lineHeight,n=Math.min(t,Math.max((this.$minLines||1)*this.lineHeight,e))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(n+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&n>this.$maxPixelHeight&&(n=this.$maxPixelHeight);var i=!(n<=2*this.lineHeight)&&e>t;if(n!=this.desiredHeight||this.$size.height!=this.desiredHeight||i!=this.$vScroll){i!=this.$vScroll&&(this.$vScroll=i,this.scrollBarV.setVisible(i));var r=this.container.clientWidth;this.container.style.height=n+"px",this.$updateCachedSize(!0,this.$gutterWidth,r,n),this.desiredHeight=n,this._signal("autosize")}},this.$computeLayerConfig=function(){var e=this.session,t=this.$size,n=t.height<=2*this.lineHeight,i=this.session.getScreenLength()*this.lineHeight,r=this.$getLongestLine(),o=!n&&(this.$hScrollBarAlwaysVisible||t.scrollerWidth-r-2*this.$padding<0),s=this.$horizScroll!==o;s&&(this.$horizScroll=o,this.scrollBarH.setVisible(o));var a=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var c=t.scrollerHeight+this.lineHeight,l=!this.$maxLines&&this.$scrollPastEnd?(t.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;i+=l;var u=this.scrollMargin;this.session.setScrollTop(Math.max(-u.top,Math.min(this.scrollTop,i-t.scrollerHeight+u.bottom))),this.session.setScrollLeft(Math.max(-u.left,Math.min(this.scrollLeft,r+2*this.$padding-t.scrollerWidth+u.right)));var h=!n&&(this.$vScrollBarAlwaysVisible||t.scrollerHeight-i+l<0||this.scrollTop>u.top),d=a!==h;d&&(this.$vScroll=h,this.scrollBarV.setVisible(h));var g,f,p=this.scrollTop%this.lineHeight,m=Math.ceil(c/this.lineHeight)-1,C=Math.max(0,Math.round((this.scrollTop-p)/this.lineHeight)),I=C+m,v=this.lineHeight;C=e.screenToDocumentRow(C,0);var A=e.getFoldLine(C);A&&(C=A.start.row),g=e.documentToScreenRow(C,0),f=e.getRowLength(C)*v,I=Math.min(e.screenToDocumentRow(I,0),e.getLength()-1),c=t.scrollerHeight+e.getRowLength(I)*v+f,p=this.scrollTop-g*v;var y=0;return(this.layerConfig.width!=r||s)&&(y=this.CHANGE_H_SCROLL),(s||d)&&(y|=this.$updateCachedSize(!0,this.gutterWidth,t.width,t.height),this._signal("scrollbarVisibilityChanged"),d&&(r=this.$getLongestLine())),this.layerConfig={width:r,padding:this.$padding,firstRow:C,firstRowScreen:g,lastRow:I,lineHeight:v,characterWidth:this.characterWidth,minHeight:c,maxHeight:i,offset:p,gutterOffset:v?Math.max(0,Math.ceil((p+t.height-t.scrollerHeight)/v)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(r-this.$padding),y},this.$updateLines=function(){if(this.$changedLines){var e=this.$changedLines.firstRow,t=this.$changedLines.lastRow;this.$changedLines=null;var n=this.layerConfig;if(!(e>n.lastRow+1||t<n.firstRow))return t===1/0?(this.$showGutter&&this.$gutterLayer.update(n),void this.$textLayer.update(n)):(this.$textLayer.updateLines(n,e,t),!0)}},this.$getLongestLine=function(){var e=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(e+=1),this.$textLayer&&e>this.$textLayer.MAX_LINE_LENGTH&&(e=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(e*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(e,t){this.$gutterLayer.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){this.$gutterLayer.removeGutterDecoration(e,t)},this.updateBreakpoints=function(e){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(e){this.$gutterLayer.setAnnotations(e),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(e,t,n){this.scrollCursorIntoView(e,n),this.scrollCursorIntoView(t,n)},this.scrollCursorIntoView=function(e,t,n){if(0!==this.$size.scrollerHeight){var i=this.$cursorLayer.getPixelPosition(e),r=i.left,o=i.top,s=n&&n.top||0,a=n&&n.bottom||0,c=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;c+s>o?(t&&c+s>o+this.lineHeight&&(o-=t*this.$size.scrollerHeight),0===o&&(o=-this.scrollMargin.top),this.session.setScrollTop(o)):c+this.$size.scrollerHeight-a<o+this.lineHeight&&(t&&c+this.$size.scrollerHeight-a<o-this.lineHeight&&(o+=t*this.$size.scrollerHeight),this.session.setScrollTop(o+this.lineHeight+a-this.$size.scrollerHeight));var l=this.scrollLeft;l>r?(r<this.$padding+2*this.layerConfig.characterWidth&&(r=-this.scrollMargin.left),this.session.setScrollLeft(r)):l+this.$size.scrollerWidth<r+this.characterWidth?this.session.setScrollLeft(Math.round(r+this.characterWidth-this.$size.scrollerWidth)):l<=this.$padding&&r-l<this.characterWidth&&this.session.setScrollLeft(0)}},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(e){this.session.setScrollTop(e*this.lineHeight)},this.alignCursor=function(e,t){"number"==typeof e&&(e={row:e,column:0});var n=this.$cursorLayer.getPixelPosition(e),i=this.$size.scrollerHeight-this.lineHeight,r=n.top-i*(t||0);return this.session.setScrollTop(r),r},this.STEPS=8,this.$calcSteps=function(e,t){var n,i,r=0,o=this.STEPS,s=[];for(r=0;r<o;++r)s.push((n=r/this.STEPS,i=e,(t-e)*(Math.pow(n-1,3)+1)+i));return s},this.scrollToLine=function(e,t,n,i){var r=this.$cursorLayer.getPixelPosition({row:e,column:0}).top;t&&(r-=this.$size.scrollerHeight/2);var o=this.scrollTop;this.session.setScrollTop(r),!1!==n&&this.animateScrolling(o,i)},this.animateScrolling=function(e,t){var n=this.scrollTop;if(this.$animatedScroll){var i=this;if(e!=n){if(this.$scrollAnimation){var r=this.$scrollAnimation.steps;if(r.length&&(e=r[0])==n)return}var o=i.$calcSteps(e,n);this.$scrollAnimation={from:e,to:n,steps:o},clearInterval(this.$timer),i.session.setScrollTop(o.shift()),i.session.$scrollTop=n,this.$timer=setInterval((function(){if(!i.session)return clearInterval(i.$timer);o.length?(i.session.setScrollTop(o.shift()),i.session.$scrollTop=n):null!=n?(i.session.$scrollTop=-1,i.session.setScrollTop(n),n=null):(i.$timer=clearInterval(i.$timer),i.$scrollAnimation=null,t&&t())}),10)}}},this.scrollToY=function(e){this.scrollTop!==e&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=e)},this.scrollToX=function(e){this.scrollLeft!==e&&(this.scrollLeft=e),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(e,t){this.session.setScrollTop(t),this.session.setScrollLeft(t)},this.scrollBy=function(e,t){t&&this.session.setScrollTop(this.session.getScrollTop()+t),e&&this.session.setScrollLeft(this.session.getScrollLeft()+e)},this.isScrollableBy=function(e,t){return t<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||(t>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||(e<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||(e>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right||void 0)))},this.pixelToScreenCoordinates=function(e,t){var n;if(this.$hasCssTransforms){n={top:0,left:0};var i=this.$fontMetrics.transformCoordinates([e,t]);e=i[1]-this.gutterWidth-this.margin.left,t=i[0]}else n=this.scroller.getBoundingClientRect();var r=e+this.scrollLeft-n.left-this.$padding,o=r/this.characterWidth,s=Math.floor((t+this.scrollTop-n.top)/this.lineHeight),a=this.$blockCursor?Math.floor(o):Math.round(o);return{row:s,column:a,side:o-a>0?1:-1,offsetX:r}},this.screenToTextCoordinates=function(e,t){var n;if(this.$hasCssTransforms){n={top:0,left:0};var i=this.$fontMetrics.transformCoordinates([e,t]);e=i[1]-this.gutterWidth-this.margin.left,t=i[0]}else n=this.scroller.getBoundingClientRect();var r=e+this.scrollLeft-n.left-this.$padding,o=r/this.characterWidth,s=this.$blockCursor?Math.floor(o):Math.round(o),a=Math.floor((t+this.scrollTop-n.top)/this.lineHeight);return this.session.screenToDocumentPosition(a,Math.max(s,0),r)},this.textToScreenCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),i=this.session.documentToScreenPosition(e,t),r=this.$padding+(this.session.$bidiHandler.isBidiRow(i.row,e)?this.session.$bidiHandler.getPosLeft(i.column):Math.round(i.column*this.characterWidth)),o=i.row*this.lineHeight;return{pageX:n.left+r-this.scrollLeft,pageY:n.top+o-this.scrollTop}},this.visualizeFocus=function(){r.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){r.removeCssClass(this.container,"ace_focus")},this.showComposition=function(e){this.$composition=e,e.cssText||(e.cssText=this.textarea.style.cssText),null==e.useTextareaForIME&&(e.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(r.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):e.markerId=this.session.addMarker(e.markerRange,"ace_composition_marker","text")},this.setCompositionText=function(e){var t=this.session.selection.cursor;this.addToken(e,"composition_placeholder",t.row,t.column),this.$moveTextAreaToCursor()},this.hideComposition=function(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),r.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var e=this.session.selection.cursor;this.removeExtraToken(e.row,e.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},this.addToken=function(e,t,n,i){var r=this.session;r.bgTokenizer.lines[n]=null;var o={type:t,value:e},s=r.getTokens(n);if(null==i)s.push(o);else for(var a=0,c=0;c<s.length;c++){var l=s[c];if(i<=(a+=l.value.length)){var u=l.value.length-(a-i),h=l.value.slice(0,u),d=l.value.slice(u);s.splice(c,1,{type:l.type,value:h},o,{type:l.type,value:d});break}}this.updateLines(n,n)},this.removeExtraToken=function(e,t){this.updateLines(e,e)},this.setTheme=function(e,t){var n=this;if(this.$themeId=e,n._dispatchEvent("themeChange",{theme:e}),e&&"string"!=typeof e)s(e);else{var i=e||this.$options.theme.initialValue;o.loadModule(["theme",i],s)}function s(i){if(n.$themeId!=e)return t&&t();if(!i||!i.cssClass)throw new Error("couldn't load module "+e+" or it didn't call define");i.$id&&(n.$themeId=i.$id),r.importCssString(i.cssText,i.cssClass,n.container),n.theme&&r.removeCssClass(n.container,n.theme.cssClass);var o="padding"in i?i.padding:"padding"in(n.theme||{})?4:n.$padding;n.$padding&&o!=n.$padding&&n.setPadding(o),n.$theme=i.cssClass,n.theme=i,r.addCssClass(n.container,i.cssClass),r.setCssClass(n.container,"ace_dark",i.isDark),n.$size&&(n.$size.width=0,n.$updateSizeAsync()),n._dispatchEvent("themeLoaded",{theme:i}),t&&t()}},this.getTheme=function(){return this.$themeId},this.setStyle=function(e,t){r.setCssClass(this.container,e,!1!==t)},this.unsetStyle=function(e){r.removeCssClass(this.container,e)},this.setCursorStyle=function(e){r.setStyle(this.scroller.style,"cursor",e)},this.setMouseCursor=function(e){r.setStyle(this.scroller.style,"cursor",e)},this.attachToShadowRoot=function(){r.importCssString(p,"ace_editor.css",this.container)},this.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent=""}}).call(I.prototype),o.defineOptions(I.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(e){this.$textLayer.setShowInvisibles(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(e){"number"==typeof e&&(this.$printMarginColumn=e),this.$showPrintMargin=!!e,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(e){this.$gutter.style.display=e?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(e){r.setCssClass(this.$gutter,"ace_fade-fold-widgets",e)},initialValue:!1},showFoldWidgets:{set:function(e){this.$gutterLayer.setShowFoldWidgets(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(e){this.$textLayer.setDisplayIndentGuides(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightGutterLine:{set:function(e){this.$gutterLayer.setHighlightGutterLine(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(e){this.$hScrollBarAlwaysVisible&&this.$horizScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(e){this.$vScrollBarAlwaysVisible&&this.$vScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(e){"number"==typeof e&&(e+="px"),this.container.style.fontSize=e,this.updateFontSize()},initialValue:12},fontFamily:{set:function(e){this.container.style.fontFamily=e,this.updateFontSize()}},maxLines:{set:function(e){this.updateFull()}},minLines:{set:function(e){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(e){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(e){e=+e||0,this.$scrollPastEnd!=e&&(this.$scrollPastEnd=e,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(e){this.$gutterLayer.$fixedWidth=!!e,this.$loop.schedule(this.CHANGE_GUTTER)}},theme:{set:function(e){this.setTheme(e)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!m.isMobile&&!m.isIE}}),t.VirtualRenderer=I})),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],(function(e,t,n){var i=e("../lib/oop"),r=e("../lib/net"),o=e("../lib/event_emitter").EventEmitter,s=e("../config");function a(e){if("undefined"==typeof Worker)return{postMessage:function(){},terminate:function(){}};if(s.get("loadWorkerFromBlob")){var t=function(e){var t="importScripts('"+r.qualifyURL(e)+"');";try{return new Blob([t],{type:"application/javascript"})}catch(e){var n=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder);return n.append(t),n.getBlob("application/javascript")}}(e),n=(window.URL||window.webkitURL).createObjectURL(t);return new Worker(n)}return new Worker(e)}var c=function(e){e.postMessage||(e=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=e,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){i.implement(this,o),this.$createWorkerFromOldConfig=function(t,n,i,r,o){if(e.nameToUrl&&!e.toUrl&&(e.toUrl=e.nameToUrl),s.get("packaged")||!e.toUrl)r=r||s.moduleUrl(n,"worker");else{var c=this.$normalizePath;r=r||c(e.toUrl("ace/worker/worker.js",null,"_"));var l={};t.forEach((function(t){l[t]=c(e.toUrl(t,null,"_").replace(/(\.js)?(\?.*)?$/,""))}))}return this.$worker=a(r),o&&this.send("importScripts",o),this.$worker.postMessage({init:!0,tlns:l,module:n,classname:i}),this.$worker},this.onMessage=function(e){var t=e.data;switch(t.type){case"event":this._signal(t.name,{data:t.data});break;case"call":var n=this.callbacks[t.id];n&&(n(t.data),delete this.callbacks[t.id]);break;case"error":this.reportError(t.data);break;case"log":window.console&&console.log&&console.log.apply(console,t.data)}},this.reportError=function(e){window.console&&console.error&&console.error(e)},this.$normalizePath=function(e){return r.qualifyURL(e)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(e,t){this.$worker.postMessage({command:e,args:t})},this.call=function(e,t,n){if(n){var i=this.callbackId++;this.callbacks[i]=n,t.push(i)}this.send(e,t)},this.emit=function(e,t){try{t.data&&t.data.err&&(t.data.err={message:t.data.err.message,stack:t.data.err.stack,code:t.data.err.code}),this.$worker.postMessage({event:e,data:{data:t.data}})}catch(e){console.error(e.stack)}},this.attachToDocument=function(e){this.$doc&&this.terminate(),this.$doc=e,this.call("setValue",[e.getValue()]),e.on("change",this.changeListener)},this.changeListener=function(e){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),"insert"==e.action?this.deltaQueue.push(e.start,e.lines):this.deltaQueue.push(e.start,e.end)},this.$sendDeltaQueue=function(){var e=this.deltaQueue;e&&(this.deltaQueue=null,e.length>50&&e.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:e}))}}).call(c.prototype);t.UIWorkerClient=function(e,t,n){var i=null,r=!1,a=Object.create(o),l=[],u=new c({messageBuffer:l,terminate:function(){},postMessage:function(e){l.push(e),i&&(r?setTimeout(h):h())}});u.setEmitSync=function(e){r=e};var h=function(){var e=l.shift();e.command?i[e.command].apply(i,e.args):e.event&&a._signal(e.event,e.data)};return a.postMessage=function(e){u.onMessage({data:e})},a.callback=function(e,t){this.postMessage({type:"call",id:t,data:e})},a.emit=function(e,t){this.postMessage({type:"event",name:e,data:t})},s.loadModule(["worker",t],(function(e){for(i=new e[n](a);l.length;)h()})),u},t.WorkerClient=c,t.createWorker=a})),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],(function(e,t,n){var i=e("./range").Range,r=e("./lib/event_emitter").EventEmitter,o=e("./lib/oop"),s=function(e,t,n,i,r,o){var s=this;this.length=t,this.session=e,this.doc=e.getDocument(),this.mainClass=r,this.othersClass=o,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate),this.$others=i,this.$onCursorChange=function(){setTimeout((function(){s.onCursorChange()}))},this.$pos=n;var a=e.getUndoManager().$undoStack||e.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=a.length,this.setup(),e.selection.on("changeCursor",this.$onCursorChange)};(function(){o.implement(this,r),this.setup=function(){var e=this,t=this.doc,n=this.session;this.selectionBefore=n.selection.toJSON(),n.selection.inMultiSelectMode&&n.selection.toSingleRange(),this.pos=t.createAnchor(this.$pos.row,this.$pos.column);var r=this.pos;r.$insertRight=!0,r.detach(),r.markerId=n.addMarker(new i(r.row,r.column,r.row,r.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach((function(n){var i=t.createAnchor(n.row,n.column);i.$insertRight=!0,i.detach(),e.others.push(i)})),n.setUndoSelect(!1)},this.showOtherMarkers=function(){if(!this.othersActive){var e=this.session,t=this;this.othersActive=!0,this.others.forEach((function(n){n.markerId=e.addMarker(new i(n.row,n.column,n.row,n.column+t.length),t.othersClass,null,!1)}))}},this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var e=0;e<this.others.length;e++)this.session.removeMarker(this.others[e].markerId)}},this.onUpdate=function(e){if(this.$updating)return this.updateAnchors(e);var t=e;if(t.start.row===t.end.row&&t.start.row===this.pos.row){this.$updating=!0;var n="insert"===e.action?t.end.column-t.start.column:t.start.column-t.end.column,r=t.start.column>=this.pos.column&&t.start.column<=this.pos.column+this.length+1,o=t.start.column-this.pos.column;if(this.updateAnchors(e),r&&(this.length+=n),r&&!this.session.$fromUndo)if("insert"===e.action)for(var s=this.others.length-1;s>=0;s--){var a={row:(c=this.others[s]).row,column:c.column+o};this.doc.insertMergedLines(a,e.lines)}else if("remove"===e.action)for(s=this.others.length-1;s>=0;s--){var c;a={row:(c=this.others[s]).row,column:c.column+o};this.doc.remove(new i(a.row,a.column,a.row,a.column-n))}this.$updating=!1,this.updateMarkers()}},this.updateAnchors=function(e){this.pos.onChange(e);for(var t=this.others.length;t--;)this.others[t].onChange(e);this.updateMarkers()},this.updateMarkers=function(){if(!this.$updating){var e=this,t=this.session,n=function(n,r){t.removeMarker(n.markerId),n.markerId=t.addMarker(new i(n.row,n.column,n.row,n.column+e.length),r,null,!1)};n(this.pos,this.mainClass);for(var r=this.others.length;r--;)n(this.others[r],this.othersClass)}},this.onCursorChange=function(e){if(!this.$updating&&this.session){var t=this.session.selection.getCursor();t.row===this.pos.row&&t.column>=this.pos.column&&t.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",e)):(this.hideOtherMarkers(),this._emit("cursorLeave",e))}},this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},this.cancel=function(){if(-1!==this.$undoStackDepth){for(var e=this.session.getUndoManager(),t=(e.$undoStack||e.$undostack).length-this.$undoStackDepth,n=0;n<t;n++)e.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}).call(s.prototype),t.PlaceHolder=s})),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],(function(e,t,n){var i=e("../lib/event"),r=e("../lib/useragent");function o(e,t){return e.row==t.row&&e.column==t.column}t.onMouseDown=function(e){var t=e.domEvent,n=t.altKey,s=t.shiftKey,a=t.ctrlKey,c=e.getAccelKey(),l=e.getButton();if(a&&r.isMac&&(l=t.button),e.editor.inMultiSelectMode&&2==l)e.editor.textInput.onContextMenu(e.domEvent);else if(a||n||c){if(0===l){var u,h=e.editor,d=h.selection,g=h.inMultiSelectMode,f=e.getDocumentPosition(),p=d.getCursor(),m=e.inSelection()||d.isEmpty()&&o(f,p),C=e.x,I=e.y,v=h.session,A=h.renderer.pixelToScreenCoordinates(C,I),y=A;if(h.$mouseHandler.$enableJumpToDef)a&&n||c&&n?u=s?"block":"add":n&&h.$blockSelectEnabled&&(u="block");else if(c&&!n){if(u="add",!g&&s)return}else n&&h.$blockSelectEnabled&&(u="block");if(u&&r.isMac&&t.ctrlKey&&h.$mouseHandler.cancelContextMenu(),"add"==u){if(!g&&m)return;if(!g){var b=d.toOrientedRange();h.addSelectionMarker(b)}var w=d.rangeList.rangeAtPoint(f);h.inVirtualSelectionMode=!0,s&&(w=null,b=d.ranges[0]||b,h.removeSelectionMarker(b)),h.once("mouseup",(function(){var e=d.toOrientedRange();w&&e.isEmpty()&&o(w.cursor,e.cursor)?d.substractPoint(e.cursor):(s?d.substractPoint(b.cursor):b&&(h.removeSelectionMarker(b),d.addRange(b)),d.addRange(e)),h.inVirtualSelectionMode=!1}))}else if("block"==u){var $;e.stop(),h.inVirtualSelectionMode=!0;var S=[],x=function(){var e=h.renderer.pixelToScreenCoordinates(C,I),t=v.screenToDocumentPosition(e.row,e.column,e.offsetX);o(y,e)&&o(t,d.lead)||(y=e,h.selection.moveToPosition(t),h.renderer.scrollCursorIntoView(),h.removeSelectionMarkers(S),S=d.rectangularRangeBlock(y,A),h.$mouseHandler.$clickSelection&&1==S.length&&S[0].isEmpty()&&(S[0]=h.$mouseHandler.$clickSelection.clone()),S.forEach(h.addSelectionMarker,h),h.updateSelectionMarkers())};g&&!c?d.toSingleRange():!g&&c&&($=d.toOrientedRange(),h.addSelectionMarker($)),s?A=v.documentToScreenPosition(d.lead):d.moveToPosition(f),y={row:-1,column:-1};var k=x;i.capture(h.container,(function(e){C=e.clientX,I=e.clientY}),(function(e){x(),clearInterval(R),h.removeSelectionMarkers(S),S.length||(S=[d.toOrientedRange()]),$&&(h.removeSelectionMarker($),d.toSingleRange($));for(var t=0;t<S.length;t++)d.addRange(S[t]);h.inVirtualSelectionMode=!1,h.$mouseHandler.$clickSelection=null}));var R=setInterval((function(){k()}),20);return e.preventDefault()}}}else 0===l&&e.editor.inMultiSelectMode&&e.editor.exitMultiSelectMode()}})),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],(function(e,t,n){t.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(e){e.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(e){e.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(e){e.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(e){e.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(e){e.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(e){e.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(e){e.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(e){e.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split into lines",exec:function(e){e.multiSelect.rangeCount>1?e.multiSelect.joinSelections():e.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(e){e.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(e){e.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(e){e.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],t.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(e){e.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(e){return e&&e.inMultiSelectMode}}];var i=e("../keyboard/hash_handler").HashHandler;t.keyboardHandler=new i(t.multiSelectCommands)})),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],(function(e,t,n){var i=e("./range_list").RangeList,r=e("./range").Range,o=e("./selection").Selection,s=e("./mouse/multi_select_handler").onMouseDown,a=e("./lib/event"),c=e("./lib/lang"),l=e("./commands/multi_select_commands");t.commands=l.defaultCommands.concat(l.multiSelectCommands);var u=new(0,e("./search").Search);var h=e("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(h.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(e,t){if(e){if(!this.inMultiSelectMode&&0===this.rangeCount){var n=this.toOrientedRange();if(this.rangeList.add(n),this.rangeList.add(e),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),t||this.fromOrientedRange(e);this.rangeList.removeAll(),this.rangeList.add(n),this.$onAddRange(n)}e.cursor||(e.cursor=e.end);var i=this.rangeList.add(e);return this.$onAddRange(e),i.length&&this.$onRemoveRange(i),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),t||this.fromOrientedRange(e)}},this.toSingleRange=function(e){e=e||this.ranges[0];var t=this.rangeList.removeAll();t.length&&this.$onRemoveRange(t),e&&this.fromOrientedRange(e)},this.substractPoint=function(e){var t=this.rangeList.substractPoint(e);if(t)return this.$onRemoveRange(t),t[0]},this.mergeOverlappingRanges=function(){var e=this.rangeList.merge();e.length&&this.$onRemoveRange(e)},this.$onAddRange=function(e){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(e),this._signal("addRange",{range:e})},this.$onRemoveRange=function(e){if(this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode){var t=this.rangeList.ranges.pop();e.push(t),this.rangeCount=0}for(var n=e.length;n--;){var i=this.ranges.indexOf(e[n]);this.ranges.splice(i,1)}this._signal("removeRange",{ranges:e}),0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),(t=t||this.ranges[0])&&!t.isEqual(this.getRange())&&this.fromOrientedRange(t)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new i,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var e=this.ranges.length?this.ranges:[this.getRange()],t=[],n=0;n<e.length;n++){var i=e[n],o=i.start.row,s=i.end.row;if(o===s)t.push(i.clone());else{for(t.push(new r(o,i.start.column,o,this.session.getLine(o).length));++o<s;)t.push(this.getLineRange(o,!0));t.push(new r(s,0,s,i.end.column))}0!=n||this.isBackwards()||(t=t.reverse())}this.toSingleRange();for(n=t.length;n--;)this.addRange(t[n])},this.joinSelections=function(){var e=this.rangeList.ranges,t=e[e.length-1],n=r.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var e=this.rangeList.ranges,t=e[e.length-1],n=r.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)}else{var i=this.session.documentToScreenPosition(this.cursor),o=this.session.documentToScreenPosition(this.anchor);this.rectangularRangeBlock(i,o).forEach(this.addRange,this)}},this.rectangularRangeBlock=function(e,t,n){var i=[],o=e.column<t.column;if(o)var s=e.column,a=t.column,c=e.offsetX,l=t.offsetX;else s=t.column,a=e.column,c=t.offsetX,l=e.offsetX;var u,h,d,g=e.row<t.row;if(g)var f=e.row,p=t.row;else f=t.row,p=e.row;s<0&&(s=0),f<0&&(f=0),f==p&&(n=!0);for(var m=f;m<=p;m++){var C=r.fromPoints(this.session.screenToDocumentPosition(m,s,c),this.session.screenToDocumentPosition(m,a,l));if(C.isEmpty()){if(u&&(h=C.end,d=u,h.row==d.row&&h.column==d.column))break;u=C.end}C.cursor=o?C.start:C.end,i.push(C)}if(g&&i.reverse(),!n){for(var I=i.length-1;i[I].isEmpty()&&I>0;)I--;if(I>0)for(var v=0;i[v].isEmpty();)v++;for(var A=I;A>=v;A--)i[A].isEmpty()&&i.splice(A,1)}return i}}.call(o.prototype);var d=e("./editor").Editor;function g(e){e.$multiselectOnSessionChange||(e.$onAddRange=e.$onAddRange.bind(e),e.$onRemoveRange=e.$onRemoveRange.bind(e),e.$onMultiSelect=e.$onMultiSelect.bind(e),e.$onSingleSelect=e.$onSingleSelect.bind(e),e.$multiselectOnSessionChange=t.onSessionChange.bind(e),e.$checkMultiselectChange=e.$checkMultiselectChange.bind(e),e.$multiselectOnSessionChange(e),e.on("changeSession",e.$multiselectOnSessionChange),e.on("mousedown",s),e.commands.addCommands(l.defaultCommands),function(e){if(!e.textInput)return;var t=e.textInput.getElement(),n=!1;function i(t){n&&(e.renderer.setMouseCursor(""),n=!1)}a.addListener(t,"keydown",(function(t){var r=18==t.keyCode&&!(t.ctrlKey||t.shiftKey||t.metaKey);e.$blockSelectEnabled&&r?n||(e.renderer.setMouseCursor("crosshair"),n=!0):n&&i()}),e),a.addListener(t,"keyup",i,e),a.addListener(t,"blur",i,e)}(e))}(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(e){e.cursor||(e.cursor=e.end);var t=this.getSelectionStyle();return e.marker=this.session.addMarker(e,"ace_selection",t),this.session.$selectionMarkers.push(e),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,e},this.removeSelectionMarker=function(e){if(e.marker){this.session.removeMarker(e.marker);var t=this.session.$selectionMarkers.indexOf(e);-1!=t&&this.session.$selectionMarkers.splice(t,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(e){for(var t=this.session.$selectionMarkers,n=e.length;n--;){var i=e[n];if(i.marker){this.session.removeMarker(i.marker);var r=t.indexOf(i);-1!=r&&t.splice(r,1)}}this.session.selectionMarkerCount=t.length},this.$onAddRange=function(e){this.addSelectionMarker(e.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(e){this.removeSelectionMarkers(e.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(e){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(l.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(e){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(l.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(e){var t=e.command,n=e.editor;if(n.multiSelect){if(t.multiSelectAction)"forEach"==t.multiSelectAction?i=n.forEachSelection(t,e.args):"forEachLine"==t.multiSelectAction?i=n.forEachSelection(t,e.args,!0):"single"==t.multiSelectAction?(n.exitMultiSelectMode(),i=t.exec(n,e.args||{})):i=t.multiSelectAction(n,e.args||{});else{var i=t.exec(n,e.args||{});n.multiSelect.addRange(n.multiSelect.toOrientedRange()),n.multiSelect.mergeOverlappingRanges()}return i}},this.forEachSelection=function(e,t,n){if(!this.inVirtualSelectionMode){var i,r=n&&n.keepOrder,s=1==n||n&&n.$byLines,a=this.session,c=this.selection,l=c.rangeList,u=(r?c:l).ranges;if(!u.length)return e.exec?e.exec(this,t||{}):e(this,t||{});var h=c._eventRegistry;c._eventRegistry={};var d=new o(a);this.inVirtualSelectionMode=!0;for(var g=u.length;g--;){if(s)for(;g>0&&u[g].start.row==u[g-1].end.row;)g--;d.fromOrientedRange(u[g]),d.index=g,this.selection=a.selection=d;var f=e.exec?e.exec(this,t||{}):e(this,t||{});i||void 0===f||(i=f),d.toOrientedRange(u[g])}d.detach(),this.selection=a.selection=c,this.inVirtualSelectionMode=!1,c._eventRegistry=h,c.mergeOverlappingRanges(),c.ranges[0]&&c.fromOrientedRange(c.ranges[0]);var p=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),p&&p.from==p.to&&this.renderer.animateScrolling(p.from),i}},this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()},this.getSelectedText=function(){var e="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var t=this.multiSelect.rangeList.ranges,n=[],i=0;i<t.length;i++)n.push(this.session.getTextRange(t[i]));var r=this.session.getDocument().getNewLineCharacter();(e=n.join(r)).length==(n.length-1)*r.length&&(e="")}else this.selection.isEmpty()||(e=this.session.getTextRange(this.getSelectionRange()));return e},this.$checkMultiselectChange=function(e,t){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var n=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&t==this.multiSelect.anchor)return;var i=t==this.multiSelect.anchor?n.cursor==n.start?n.end:n.start:n.cursor;i.row!=t.row||this.session.$clipPositionToDocument(i.row,i.column).column!=t.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(e,t,n){if((t=t||{}).needle=e||t.needle,null==t.needle){var i=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();t.needle=this.session.getTextRange(i)}this.$search.set(t);var r=this.$search.findAll(this.session);if(!r.length)return 0;var o=this.multiSelect;n||o.toSingleRange(r[0]);for(var s=r.length;s--;)o.addRange(r[s],!0);return i&&o.rangeList.rangeAtPoint(i.start)&&o.addRange(i,!0),r.length},this.selectMoreLines=function(e,t){var n=this.selection.toOrientedRange(),i=n.cursor==n.end,o=this.session.documentToScreenPosition(n.cursor);this.selection.$desiredColumn&&(o.column=this.selection.$desiredColumn);var s,a=this.session.screenToDocumentPosition(o.row+e,o.column);if(n.isEmpty())l=a;else var c=this.session.documentToScreenPosition(i?n.end:n.start),l=this.session.screenToDocumentPosition(c.row+e,c.column);i?(s=r.fromPoints(a,l)).cursor=s.start:(s=r.fromPoints(l,a)).cursor=s.end;if(s.desiredColumn=o.column,this.selection.inMultiSelectMode){if(t)var u=n.cursor}else this.selection.addRange(n);this.selection.addRange(s),u&&this.selection.substractPoint(u)},this.transposeSelections=function(e){for(var t=this.session,n=t.multiSelect,i=n.ranges,r=i.length;r--;){if((a=i[r]).isEmpty()){var o=t.getWordRange(a.start.row,a.start.column);a.start.row=o.start.row,a.start.column=o.start.column,a.end.row=o.end.row,a.end.column=o.end.column}}n.mergeOverlappingRanges();var s=[];for(r=i.length;r--;){var a=i[r];s.unshift(t.getTextRange(a))}e<0?s.unshift(s.pop()):s.push(s.shift());for(r=i.length;r--;){o=(a=i[r]).clone();t.replace(a,s[r]),a.start.row=o.start.row,a.start.column=o.start.column}n.fromOrientedRange(n.ranges[0])},this.selectMore=function(e,t,n){var i=this.session,r=i.multiSelect.toOrientedRange();if(!r.isEmpty()||((r=i.getWordRange(r.start.row,r.start.column)).cursor=-1==e?r.start:r.end,this.multiSelect.addRange(r),!n)){var o=i.getTextRange(r),s=function(e,t,n){return u.$options.wrap=!0,u.$options.needle=t,u.$options.backwards=-1==n,u.find(e)}(i,o,e);s&&(s.cursor=-1==e?s.start:s.end,this.session.unfold(s),this.multiSelect.addRange(s),this.renderer.scrollCursorIntoView(null,.5)),t&&this.multiSelect.substractPoint(r.cursor)}},this.alignCursors=function(){var e=this.session,t=e.multiSelect,n=t.ranges,i=-1,o=n.filter((function(e){if(e.cursor.row==i)return!0;i=e.cursor.row}));if(n.length&&o.length!=n.length-1){o.forEach((function(e){t.substractPoint(e.cursor)}));var s=0,a=1/0,l=n.map((function(t){var n=t.cursor,i=e.getLine(n.row).substr(n.column).search(/\S/g);return-1==i&&(i=0),n.column>s&&(s=n.column),i<a&&(a=i),i}));n.forEach((function(t,n){var i=t.cursor,o=s-i.column,u=l[n]-a;o>u?e.insert(i,c.stringRepeat(" ",o-u)):e.remove(new r(i.row,i.column,i.row,i.column-o+u)),t.start.column=t.end.column=s,t.start.row=t.end.row=i.row,t.cursor=t.end})),t.fromOrientedRange(n[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var u=this.selection.getRange(),h=u.start.row,d=u.end.row,g=h==d;if(g){var f,p=this.session.getLength();do{f=this.session.getLine(d)}while(/[=:]/.test(f)&&++d<p);do{f=this.session.getLine(h)}while(/[=:]/.test(f)&&--h>0);h<0&&(h=0),d>=p&&(d=p-1)}var m=this.session.removeFullLines(h,d);m=this.$reAlignText(m,g),this.session.insert({row:h,column:0},m.join("\n")+"\n"),g||(u.start.column=0,u.end.column=m[m.length-1].length),this.selection.setRange(u)}},this.$reAlignText=function(e,t){var n,i,r,o=!0,s=!0;return e.map((function(e){var t=e.match(/(\s*)(.*?)(\s*)([=:].*)/);return t?null==n?(n=t[1].length,i=t[2].length,r=t[3].length,t):(n+i+r!=t[1].length+t[2].length+t[3].length&&(s=!1),n!=t[1].length&&(o=!1),n>t[1].length&&(n=t[1].length),i<t[2].length&&(i=t[2].length),r>t[3].length&&(r=t[3].length),t):[e]})).map(t?l:o?s?function(e){return e[2]?a(n+i-e[2].length)+e[2]+a(r)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}:l:function(e){return e[2]?a(n)+e[2]+a(r)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]});function a(e){return c.stringRepeat(" ",e)}function l(e){return e[2]?a(n)+e[2]+a(i-e[2].length+r)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}}}).call(d.prototype),t.onSessionChange=function(e){var t=e.session;t&&!t.multiSelect&&(t.$selectionMarkers=[],t.selection.$initRangeList(),t.multiSelect=t.selection),this.multiSelect=t&&t.multiSelect;var n=e.oldSession;n&&(n.multiSelect.off("addRange",this.$onAddRange),n.multiSelect.off("removeRange",this.$onRemoveRange),n.multiSelect.off("multiSelect",this.$onMultiSelect),n.multiSelect.off("singleSelect",this.$onSingleSelect),n.multiSelect.lead.off("change",this.$checkMultiselectChange),n.multiSelect.anchor.off("change",this.$checkMultiselectChange)),t&&(t.multiSelect.on("addRange",this.$onAddRange),t.multiSelect.on("removeRange",this.$onRemoveRange),t.multiSelect.on("multiSelect",this.$onMultiSelect),t.multiSelect.on("singleSelect",this.$onSingleSelect),t.multiSelect.lead.on("change",this.$checkMultiselectChange),t.multiSelect.anchor.on("change",this.$checkMultiselectChange)),t&&this.inMultiSelectMode!=t.selection.inMultiSelectMode&&(t.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},t.MultiSelect=g,e("./config").defineOptions(d.prototype,"editor",{enableMultiselect:{set:function(e){g(this),e?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",s)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",s))},value:!0},enableBlockSelect:{set:function(e){this.$blockSelectEnabled=e},value:!0}})})),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],(function(e,t,n){var i=e("../../range").Range,r=t.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(e,t,n){var i=e.getLine(n);return this.foldingStartMarker.test(i)?"start":"markbeginend"==t&&this.foldingStopMarker&&this.foldingStopMarker.test(i)?"end":""},this.getFoldWidgetRange=function(e,t,n){return null},this.indentationBlock=function(e,t,n){var r=/\S/,o=e.getLine(t),s=o.search(r);if(-1!=s){for(var a=n||o.length,c=e.getLength(),l=t,u=t;++t<c;){var h=e.getLine(t).search(r);if(-1!=h){if(h<=s){var d=e.getTokenAt(t,0);if(!d||"string"!==d.type)break}u=t}}if(u>l){var g=e.getLine(u).length;return new i(l,a,u,g)}}},this.openingBracketBlock=function(e,t,n,r,o){var s={row:n,column:r+1},a=e.$findClosingBracket(t,s,o);if(a){var c=e.foldWidgets[a.row];return null==c&&(c=e.getFoldWidget(a.row)),"start"==c&&a.row>s.row&&(a.row--,a.column=e.getLine(a.row).length),i.fromPoints(s,a)}},this.closingBracketBlock=function(e,t,n,r,o){var s={row:n,column:r},a=e.$findOpeningBracket(t,s);if(a)return a.column++,s.column--,i.fromPoints(a,s)}}).call(r.prototype)})),ace.define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],(function(e,t,n){t.isDark=!1,t.cssClass="ace-tm",t.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}',t.$id="ace/theme/textmate",e("../lib/dom").importCssString(t.cssText,t.cssClass)})),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],(function(e,t,n){var i=e("./lib/dom");function r(e){this.session=e,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}(function(){this.getRowLength=function(e){var t;return t=this.lineWidgets&&this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0,this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1+t:1+t},this.$getWidgetScreenLength=function(){var e=0;return this.lineWidgets.forEach((function(t){t&&t.rowCount&&!t.hidden&&(e+=t.rowCount)})),e},this.$onChangeEditor=function(e){this.attach(e.editor)},this.attach=function(e){e&&e.widgetManager&&e.widgetManager!=this&&e.widgetManager.detach(),this.editor!=e&&(this.detach(),this.editor=e,e&&(e.widgetManager=this,e.renderer.on("beforeRender",this.measureWidgets),e.renderer.on("afterRender",this.renderWidgets)))},this.detach=function(e){var t=this.editor;if(t){this.editor=null,t.widgetManager=null,t.renderer.off("beforeRender",this.measureWidgets),t.renderer.off("afterRender",this.renderWidgets);var n=this.session.lineWidgets;n&&n.forEach((function(e){e&&e.el&&e.el.parentNode&&(e._inDocument=!1,e.el.parentNode.removeChild(e.el))}))}},this.updateOnFold=function(e,t){var n=t.lineWidgets;if(n&&e.action){for(var i=e.data,r=i.start.row,o=i.end.row,s="add"==e.action,a=r+1;a<o;a++)n[a]&&(n[a].hidden=s);n[o]&&(s?n[r]?n[o].hidden=s:n[r]=n[o]:(n[r]==n[o]&&(n[r]=void 0),n[o].hidden=s))}},this.updateOnChange=function(e){var t=this.session.lineWidgets;if(t){var n=e.start.row,i=e.end.row-n;if(0===i);else if("remove"==e.action){var r=t.splice(n+1,i);!t[n]&&r[r.length-1]&&(t[n]=r.pop()),r.forEach((function(e){e&&this.removeLineWidget(e)}),this),this.$updateRows()}else{var o=new Array(i);t[n]&&null!=t[n].column&&e.start.column>t[n].column&&n++,o.unshift(n,0),t.splice.apply(t,o),this.$updateRows()}}},this.$updateRows=function(){var e=this.session.lineWidgets;if(e){var t=!0;e.forEach((function(e,n){if(e)for(t=!1,e.row=n;e.$oldWidget;)e.$oldWidget.row=n,e=e.$oldWidget})),t&&(this.session.lineWidgets=null)}},this.$registerLineWidget=function(e){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var t=this.session.lineWidgets[e.row];return t&&(e.$oldWidget=t,t.el&&t.el.parentNode&&(t.el.parentNode.removeChild(t.el),t._inDocument=!1)),this.session.lineWidgets[e.row]=e,e},this.addLineWidget=function(e){if(this.$registerLineWidget(e),e.session=this.session,!this.editor)return e;var t=this.editor.renderer;e.html&&!e.el&&(e.el=i.createElement("div"),e.el.innerHTML=e.html),e.el&&(i.addCssClass(e.el,"ace_lineWidgetContainer"),e.el.style.position="absolute",e.el.style.zIndex=5,t.container.appendChild(e.el),e._inDocument=!0,e.coverGutter||(e.el.style.zIndex=3),null==e.pixelHeight&&(e.pixelHeight=e.el.offsetHeight)),null==e.rowCount&&(e.rowCount=e.pixelHeight/t.layerConfig.lineHeight);var n=this.session.getFoldAt(e.row,0);if(e.$fold=n,n){var r=this.session.lineWidgets;e.row!=n.end.row||r[n.start.row]?e.hidden=!0:r[n.start.row]=e}return this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows(),this.renderWidgets(null,t),this.onWidgetChanged(e),e},this.removeLineWidget=function(e){if(e._inDocument=!1,e.session=null,e.el&&e.el.parentNode&&e.el.parentNode.removeChild(e.el),e.editor&&e.editor.destroy)try{e.editor.destroy()}catch(e){}if(this.session.lineWidgets){var t=this.session.lineWidgets[e.row];if(t==e)this.session.lineWidgets[e.row]=e.$oldWidget,e.$oldWidget&&this.onWidgetChanged(e.$oldWidget);else for(;t;){if(t.$oldWidget==e){t.$oldWidget=e.$oldWidget;break}t=t.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows()},this.getWidgetsAtRow=function(e){for(var t=this.session.lineWidgets,n=t&&t[e],i=[];n;)i.push(n),n=n.$oldWidget;return i},this.onWidgetChanged=function(e){this.session._changedWidgets.push(e),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(e,t){var n=this.session._changedWidgets,i=t.layerConfig;if(n&&n.length){for(var r=1/0,o=0;o<n.length;o++){var s=n[o];if(s&&s.el&&s.session==this.session){if(!s._inDocument){if(this.session.lineWidgets[s.row]!=s)continue;s._inDocument=!0,t.container.appendChild(s.el)}s.h=s.el.offsetHeight,s.fixedWidth||(s.w=s.el.offsetWidth,s.screenWidth=Math.ceil(s.w/i.characterWidth));var a=s.h/i.lineHeight;s.coverLine&&(a-=this.session.getRowLineCount(s.row))<0&&(a=0),s.rowCount!=a&&(s.rowCount=a,s.row<r&&(r=s.row))}}r!=1/0&&(this.session._emit("changeFold",{data:{start:{row:r}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},this.renderWidgets=function(e,t){var n=t.layerConfig,i=this.session.lineWidgets;if(i){for(var r=Math.min(this.firstRow,n.firstRow),o=Math.max(this.lastRow,n.lastRow,i.length);r>0&&!i[r];)r--;this.firstRow=n.firstRow,this.lastRow=n.lastRow,t.$cursorLayer.config=n;for(var s=r;s<=o;s++){var a=i[s];if(a&&a.el)if(a.hidden)a.el.style.top=-100-(a.pixelHeight||0)+"px";else{a._inDocument||(a._inDocument=!0,t.container.appendChild(a.el));var c=t.$cursorLayer.getPixelPosition({row:s,column:0},!0).top;a.coverLine||(c+=n.lineHeight*this.session.getRowLineCount(a.row)),a.el.style.top=c-n.offset+"px";var l=a.coverGutter?0:t.gutterWidth;a.fixedWidth||(l-=t.scrollLeft),a.el.style.left=l+"px",a.fullWidth&&a.screenWidth&&(a.el.style.minWidth=n.width+2*n.padding+"px"),a.fixedWidth?a.el.style.right=t.scrollBar.getWidth()+"px":a.el.style.right=""}}}}}).call(r.prototype),t.LineWidgets=r})),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],(function(e,t,n){var i=e("../line_widgets").LineWidgets,r=e("../lib/dom"),o=e("../range").Range;t.showErrorMarker=function(e,t){var n=e.session;n.widgetManager||(n.widgetManager=new i(n),n.widgetManager.attach(e));var s=e.getCursorPosition(),a=s.row,c=n.widgetManager.getWidgetsAtRow(a).filter((function(e){return"errorMarker"==e.type}))[0];c?c.destroy():a-=t;var l,u=function(e,t,n){var i=e.getAnnotations().sort(o.comparePoints);if(i.length){var r=function(e,t,n){for(var i=0,r=e.length-1;i<=r;){var o=i+r>>1,s=n(t,e[o]);if(s>0)i=o+1;else{if(!(s<0))return o;r=o-1}}return-(i+1)}(i,{row:t,column:-1},o.comparePoints);r<0&&(r=-r-1),r>=i.length?r=n>0?0:i.length-1:0===r&&n<0&&(r=i.length-1);var s=i[r];if(s&&n){if(s.row===t){do{s=i[r+=n]}while(s&&s.row===t);if(!s)return i.slice()}var a=[];t=s.row;do{a[n<0?"unshift":"push"](s),s=i[r+=n]}while(s&&s.row==t);return a.length&&a}}}(n,a,t);if(u){var h=u[0];s.column=(h.pos&&"number"!=typeof h.column?h.pos.sc:h.column)||0,s.row=h.row,l=e.renderer.$gutterLayer.$annotations[s.row]}else{if(c)return;l={text:["Looks good!"],className:"ace_ok"}}e.session.unfold(s.row),e.selection.moveToPosition(s);var d={row:s.row,fixedWidth:!0,coverGutter:!0,el:r.createElement("div"),type:"errorMarker"},g=d.el.appendChild(r.createElement("div")),f=d.el.appendChild(r.createElement("div"));f.className="error_widget_arrow "+l.className;var p=e.renderer.$cursorLayer.getPixelPosition(s).left;f.style.left=p+e.renderer.gutterWidth-5+"px",d.el.className="error_widget_wrapper",g.className="error_widget "+l.className,g.innerHTML=l.text.join("<br>"),g.appendChild(r.createElement("div"));var m=function(e,t,n){if(0===t&&("esc"===n||"return"===n))return d.destroy(),{command:"null"}};d.destroy=function(){e.$mouseHandler.isMousePressed||(e.keyBinding.removeKeyboardHandler(m),n.widgetManager.removeLineWidget(d),e.off("changeSelection",d.destroy),e.off("changeSession",d.destroy),e.off("mouseup",d.destroy),e.off("change",d.destroy))},e.keyBinding.addKeyboardHandler(m),e.on("changeSelection",d.destroy),e.on("changeSession",d.destroy),e.on("mouseup",d.destroy),e.on("change",d.destroy),e.session.widgetManager.addLineWidget(d),d.el.onmousedown=e.focus.bind(e),e.renderer.scrollCursorIntoView(null,.5,{bottom:d.el.offsetHeight})},r.importCssString("    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }","")})),ace.define("ace/ace",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/dom","ace/lib/event","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config"],(function(e,t,n){e("./lib/fixoldbrowsers");var i=e("./lib/dom"),r=e("./lib/event"),o=e("./range").Range,s=e("./editor").Editor,a=e("./edit_session").EditSession,c=e("./undomanager").UndoManager,l=e("./virtual_renderer").VirtualRenderer;e("./worker/worker_client"),e("./keyboard/hash_handler"),e("./placeholder"),e("./multi_select"),e("./mode/folding/fold_mode"),e("./theme/textmate"),e("./ext/error_marker"),t.config=e("./config"),t.require=e,t.edit=function(e,n){if("string"==typeof e){var o=e;if(!(e=document.getElementById(o)))throw new Error("ace.edit can't find div #"+o)}if(e&&e.env&&e.env.editor instanceof s)return e.env.editor;var a="";if(e&&/input|textarea/i.test(e.tagName)){var c=e;a=c.value,e=i.createElement("pre"),c.parentNode.replaceChild(e,c)}else e&&(a=e.textContent,e.innerHTML="");var u=t.createEditSession(a),h=new s(new l(e),u,n),d={document:u,editor:h,onResize:h.resize.bind(h,null)};return c&&(d.textarea=c),r.addListener(window,"resize",d.onResize),h.on("destroy",(function(){r.removeListener(window,"resize",d.onResize),d.editor.container.env=null})),h.container.env=h.env=d,h},t.createEditSession=function(e,t){var n=new a(e,t);return n.setUndoManager(new c),n},t.Range=o,t.Editor=s,t.EditSession=a,t.UndoManager=c,t.VirtualRenderer=l,t.version=t.config.version})),ace.require(["ace/ace"],(function(t){for(var n in t&&(t.config.init(!0),t.define=ace.define),window.ace||(window.ace=t),t)t.hasOwnProperty(n)&&(window.ace[n]=t[n]);window.ace.default=window.ace,e&&(e.exports=window.ace)}))}));He((function(e,t){ace.define("ace/mode/json_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],(function(e,t,n){var i=e("../lib/oop"),r=e("./text_highlight_rules").TextHighlightRules,o=function(){this.$rules={start:[{token:"variable",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]\\s*(?=:)'},{token:"string",regex:'"',next:"string"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"text",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"comment",regex:"\\/\\/.*$"},{token:"comment.start",regex:"\\/\\*",next:"comment"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"text",regex:"\\s+"}],string:[{token:"constant.language.escape",regex:/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\\\/bfnrt])/},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],comment:[{token:"comment.end",regex:"\\*\\/",next:"start"},{defaultToken:"comment"}]}};i.inherits(o,r),t.JsonHighlightRules=o})),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],(function(e,t,n){var i=e("../range").Range,r=function(){};(function(){this.checkOutdent=function(e,t){return!!/^\s+$/.test(e)&&/^\s*\}/.test(t)},this.autoOutdent=function(e,t){var n=e.getLine(t).match(/^(\s*\})/);if(!n)return 0;var r=n[1].length,o=e.findMatchingBracket({row:t,column:r});if(!o||o.row==t)return 0;var s=this.$getIndent(e.getLine(o.row));e.replace(new i(t,0,t,r-1),s)},this.$getIndent=function(e){return e.match(/^\s*/)[0]}}).call(r.prototype),t.MatchingBraceOutdent=r})),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],(function(e,t,n){var i=e("../../lib/oop"),r=e("../../range").Range,o=e("./fold_mode").FoldMode,s=t.FoldMode=function(e){e&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+e.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+e.end)))};i.inherits(s,o),function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(e,t,n){var i=e.getLine(n);if(this.singleLineBlockCommentRe.test(i)&&!this.startRegionRe.test(i)&&!this.tripleStarBlockCommentRe.test(i))return"";var r=this._getFoldWidgetBase(e,t,n);return!r&&this.startRegionRe.test(i)?"start":r},this.getFoldWidgetRange=function(e,t,n,i){var r,o=e.getLine(n);if(this.startRegionRe.test(o))return this.getCommentRegionBlock(e,o,n);if(r=o.match(this.foldingStartMarker)){var s=r.index;if(r[1])return this.openingBracketBlock(e,r[1],n,s);var a=e.getCommentFoldRange(n,s+r[0].length,1);return a&&!a.isMultiLine()&&(i?a=this.getSectionRange(e,n):"all"!=t&&(a=null)),a}if("markbegin"!==t&&(r=o.match(this.foldingStopMarker))){s=r.index+r[0].length;return r[1]?this.closingBracketBlock(e,r[1],n,s):e.getCommentFoldRange(n,s,-1)}},this.getSectionRange=function(e,t){for(var n=e.getLine(t),i=n.search(/\S/),o=t,s=n.length,a=t+=1,c=e.getLength();++t<c;){var l=(n=e.getLine(t)).search(/\S/);if(-1!==l){if(i>l)break;var u=this.getFoldWidgetRange(e,"all",t);if(u){if(u.start.row<=o)break;if(u.isMultiLine())t=u.end.row;else if(i==l)break}a=t}}return new r(o,s,a,e.getLine(a).length)},this.getCommentRegionBlock=function(e,t,n){for(var i=t.search(/\s*$/),o=e.getLength(),s=n,a=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,c=1;++n<o;){t=e.getLine(n);var l=a.exec(t);if(l&&(l[1]?c--:c++,!c))break}if(n>s)return new r(s,i,n,t.length)}}.call(s.prototype)})),ace.define("ace/mode/json",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/json_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle","ace/worker/worker_client"],(function(e,t,n){var i=e("../lib/oop"),r=e("./text").Mode,o=e("./json_highlight_rules").JsonHighlightRules,s=e("./matching_brace_outdent").MatchingBraceOutdent,a=e("./behaviour/cstyle").CstyleBehaviour,c=e("./folding/cstyle").FoldMode,l=e("../worker/worker_client").WorkerClient,u=function(){this.HighlightRules=o,this.$outdent=new s,this.$behaviour=new a,this.foldingRules=new c};i.inherits(u,r),function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(e,t,n){var i=this.$getIndent(t);"start"==e&&(t.match(/^.*[\{\(\[]\s*$/)&&(i+=n));return i},this.checkOutdent=function(e,t,n){return this.$outdent.checkOutdent(t,n)},this.autoOutdent=function(e,t,n){this.$outdent.autoOutdent(t,n)},this.createWorker=function(e){var t=new l(["ace"],"ace/mode/json_worker","JsonWorker");return t.attachToDocument(e.getDocument()),t.on("annotate",(function(t){e.setAnnotations(t.data)})),t.on("terminate",(function(){e.clearAnnotations()})),t},this.$id="ace/mode/json"}.call(u.prototype),t.Mode=u})),ace.require(["ace/mode/json"],(function(t){e&&(e.exports=t)}))})),He((function(e,t){ace.define("ace/ext/searchbox",["require","exports","module","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/keyboard/hash_handler","ace/lib/keys"],(function(e,t,n){var i=e("../lib/dom"),r=e("../lib/lang"),o=e("../lib/event"),s='.ace_search {background-color: #ddd;color: #666;border: 1px solid #cbcbcb;border-top: 0 none;overflow: hidden;margin: 0;padding: 4px 6px 0 4px;position: absolute;top: 0;z-index: 99;white-space: normal;}.ace_search.left {border-left: 0 none;border-radius: 0px 0px 5px 0px;left: 0;}.ace_search.right {border-radius: 0px 0px 0px 5px;border-right: 0 none;right: 0;}.ace_search_form, .ace_replace_form {margin: 0 20px 4px 0;overflow: hidden;line-height: 1.9;}.ace_replace_form {margin-right: 0;}.ace_search_form.ace_nomatch {outline: 1px solid red;}.ace_search_field {border-radius: 3px 0 0 3px;background-color: white;color: black;border: 1px solid #cbcbcb;border-right: 0 none;outline: 0;padding: 0;font-size: inherit;margin: 0;line-height: inherit;padding: 0 6px;min-width: 17em;vertical-align: top;min-height: 1.8em;box-sizing: content-box;}.ace_searchbtn {border: 1px solid #cbcbcb;line-height: inherit;display: inline-block;padding: 0 6px;background: #fff;border-right: 0 none;border-left: 1px solid #dcdcdc;cursor: pointer;margin: 0;position: relative;color: #666;}.ace_searchbtn:last-child {border-radius: 0 3px 3px 0;border-right: 1px solid #cbcbcb;}.ace_searchbtn:disabled {background: none;cursor: default;}.ace_searchbtn:hover {background-color: #eef1f6;}.ace_searchbtn.prev, .ace_searchbtn.next {padding: 0px 0.7em}.ace_searchbtn.prev:after, .ace_searchbtn.next:after {content: "";border: solid 2px #888;width: 0.5em;height: 0.5em;border-width:  2px 0 0 2px;display:inline-block;transform: rotate(-45deg);}.ace_searchbtn.next:after {border-width: 0 2px 2px 0 ;}.ace_searchbtn_close {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAcCAYAAABRVo5BAAAAZ0lEQVR42u2SUQrAMAhDvazn8OjZBilCkYVVxiis8H4CT0VrAJb4WHT3C5xU2a2IQZXJjiQIRMdkEoJ5Q2yMqpfDIo+XY4k6h+YXOyKqTIj5REaxloNAd0xiKmAtsTHqW8sR2W5f7gCu5nWFUpVjZwAAAABJRU5ErkJggg==) no-repeat 50% 0;border-radius: 50%;border: 0 none;color: #656565;cursor: pointer;font: 16px/16px Arial;padding: 0;height: 14px;width: 14px;top: 9px;right: 7px;position: absolute;}.ace_searchbtn_close:hover {background-color: #656565;background-position: 50% 100%;color: white;}.ace_button {margin-left: 2px;cursor: pointer;-webkit-user-select: none;-moz-user-select: none;-o-user-select: none;-ms-user-select: none;user-select: none;overflow: hidden;opacity: 0.7;border: 1px solid rgba(100,100,100,0.23);padding: 1px;box-sizing:    border-box!important;color: black;}.ace_button:hover {background-color: #eee;opacity:1;}.ace_button:active {background-color: #ddd;}.ace_button.checked {border-color: #3399ff;opacity:1;}.ace_search_options{margin-bottom: 3px;text-align: right;-webkit-user-select: none;-moz-user-select: none;-o-user-select: none;-ms-user-select: none;user-select: none;clear: both;}.ace_search_counter {float: left;font-family: arial;padding: 0 8px;}',a=e("../keyboard/hash_handler").HashHandler,c=e("../lib/keys");i.importCssString(s,"ace_searchbox");var l=function(e,t,n){var r=i.createElement("div");i.buildDom(["div",{class:"ace_search right"},["span",{action:"hide",class:"ace_searchbtn_close"}],["div",{class:"ace_search_form"},["input",{class:"ace_search_field",placeholder:"Search for",spellcheck:"false"}],["span",{action:"findPrev",class:"ace_searchbtn prev"},""],["span",{action:"findNext",class:"ace_searchbtn next"},""],["span",{action:"findAll",class:"ace_searchbtn",title:"Alt-Enter"},"All"]],["div",{class:"ace_replace_form"},["input",{class:"ace_search_field",placeholder:"Replace with",spellcheck:"false"}],["span",{action:"replaceAndFindNext",class:"ace_searchbtn"},"Replace"],["span",{action:"replaceAll",class:"ace_searchbtn"},"All"]],["div",{class:"ace_search_options"},["span",{action:"toggleReplace",class:"ace_button",title:"Toggle Replace mode",style:"float:left;margin-top:-2px;padding:0 5px;"},"+"],["span",{class:"ace_search_counter"}],["span",{action:"toggleRegexpMode",class:"ace_button",title:"RegExp Search"},".*"],["span",{action:"toggleCaseSensitive",class:"ace_button",title:"CaseSensitive Search"},"Aa"],["span",{action:"toggleWholeWords",class:"ace_button",title:"Whole Word Search"},"\\b"],["span",{action:"searchInSelection",class:"ace_button",title:"Search In Selection"},"S"]]],r),this.element=r.firstChild,this.setSession=this.setSession.bind(this),this.$init(),this.setEditor(e),i.importCssString(s,"ace_searchbox",e.container)};(function(){this.setEditor=function(e){e.searchBox=this,e.renderer.scroller.appendChild(this.element),this.editor=e},this.setSession=function(e){this.searchRange=null,this.$syncOptions(!0)},this.$initElements=function(e){this.searchBox=e.querySelector(".ace_search_form"),this.replaceBox=e.querySelector(".ace_replace_form"),this.searchOption=e.querySelector("[action=searchInSelection]"),this.replaceOption=e.querySelector("[action=toggleReplace]"),this.regExpOption=e.querySelector("[action=toggleRegexpMode]"),this.caseSensitiveOption=e.querySelector("[action=toggleCaseSensitive]"),this.wholeWordOption=e.querySelector("[action=toggleWholeWords]"),this.searchInput=this.searchBox.querySelector(".ace_search_field"),this.replaceInput=this.replaceBox.querySelector(".ace_search_field"),this.searchCounter=e.querySelector(".ace_search_counter")},this.$init=function(){var e=this.element;this.$initElements(e);var t=this;o.addListener(e,"mousedown",(function(e){setTimeout((function(){t.activeInput.focus()}),0),o.stopPropagation(e)})),o.addListener(e,"click",(function(e){var n=(e.target||e.srcElement).getAttribute("action");n&&t[n]?t[n]():t.$searchBarKb.commands[n]&&t.$searchBarKb.commands[n].exec(t),o.stopPropagation(e)})),o.addCommandKeyListener(e,(function(e,n,i){var r=c.keyCodeToString(i),s=t.$searchBarKb.findKeyCommand(n,r);s&&s.exec&&(s.exec(t),o.stopEvent(e))})),this.$onChange=r.delayedCall((function(){t.find(!1,!1)})),o.addListener(this.searchInput,"input",(function(){t.$onChange.schedule(20)})),o.addListener(this.searchInput,"focus",(function(){t.activeInput=t.searchInput,t.searchInput.value&&t.highlight()})),o.addListener(this.replaceInput,"focus",(function(){t.activeInput=t.replaceInput,t.searchInput.value&&t.highlight()}))},this.$closeSearchBarKb=new a([{bindKey:"Esc",name:"closeSearchBar",exec:function(e){e.searchBox.hide()}}]),this.$searchBarKb=new a,this.$searchBarKb.bindKeys({"Ctrl-f|Command-f":function(e){var t=e.isReplace=!e.isReplace;e.replaceBox.style.display=t?"":"none",e.replaceOption.checked=!1,e.$syncOptions(),e.searchInput.focus()},"Ctrl-H|Command-Option-F":function(e){e.editor.getReadOnly()||(e.replaceOption.checked=!0,e.$syncOptions(),e.replaceInput.focus())},"Ctrl-G|Command-G":function(e){e.findNext()},"Ctrl-Shift-G|Command-Shift-G":function(e){e.findPrev()},esc:function(e){setTimeout((function(){e.hide()}))},Return:function(e){e.activeInput==e.replaceInput&&e.replace(),e.findNext()},"Shift-Return":function(e){e.activeInput==e.replaceInput&&e.replace(),e.findPrev()},"Alt-Return":function(e){e.activeInput==e.replaceInput&&e.replaceAll(),e.findAll()},Tab:function(e){(e.activeInput==e.replaceInput?e.searchInput:e.replaceInput).focus()}}),this.$searchBarKb.addCommands([{name:"toggleRegexpMode",bindKey:{win:"Alt-R|Alt-/",mac:"Ctrl-Alt-R|Ctrl-Alt-/"},exec:function(e){e.regExpOption.checked=!e.regExpOption.checked,e.$syncOptions()}},{name:"toggleCaseSensitive",bindKey:{win:"Alt-C|Alt-I",mac:"Ctrl-Alt-R|Ctrl-Alt-I"},exec:function(e){e.caseSensitiveOption.checked=!e.caseSensitiveOption.checked,e.$syncOptions()}},{name:"toggleWholeWords",bindKey:{win:"Alt-B|Alt-W",mac:"Ctrl-Alt-B|Ctrl-Alt-W"},exec:function(e){e.wholeWordOption.checked=!e.wholeWordOption.checked,e.$syncOptions()}},{name:"toggleReplace",exec:function(e){e.replaceOption.checked=!e.replaceOption.checked,e.$syncOptions()}},{name:"searchInSelection",exec:function(e){e.searchOption.checked=!e.searchRange,e.setSearchRange(e.searchOption.checked&&e.editor.getSelectionRange()),e.$syncOptions()}}]),this.setSearchRange=function(e){this.searchRange=e,e?this.searchRangeMarker=this.editor.session.addMarker(e,"ace_active-line"):this.searchRangeMarker&&(this.editor.session.removeMarker(this.searchRangeMarker),this.searchRangeMarker=null)},this.$syncOptions=function(e){i.setCssClass(this.replaceOption,"checked",this.searchRange),i.setCssClass(this.searchOption,"checked",this.searchOption.checked),this.replaceOption.textContent=this.replaceOption.checked?"-":"+",i.setCssClass(this.regExpOption,"checked",this.regExpOption.checked),i.setCssClass(this.wholeWordOption,"checked",this.wholeWordOption.checked),i.setCssClass(this.caseSensitiveOption,"checked",this.caseSensitiveOption.checked);var t=this.editor.getReadOnly();this.replaceOption.style.display=t?"none":"",this.replaceBox.style.display=this.replaceOption.checked&&!t?"":"none",this.find(!1,!1,e)},this.highlight=function(e){this.editor.session.highlight(e||this.editor.$search.$options.re),this.editor.renderer.updateBackMarkers()},this.find=function(e,t,n){var r=!this.editor.find(this.searchInput.value,{skipCurrent:e,backwards:t,wrap:!0,regExp:this.regExpOption.checked,caseSensitive:this.caseSensitiveOption.checked,wholeWord:this.wholeWordOption.checked,preventScroll:n,range:this.searchRange})&&this.searchInput.value;i.setCssClass(this.searchBox,"ace_nomatch",r),this.editor._emit("findSearchBox",{match:!r}),this.highlight(),this.updateCounter()},this.updateCounter=function(){var e=this.editor,t=e.$search.$options.re,n=0,i=0;if(t){var r=this.searchRange?e.session.getTextRange(this.searchRange):e.getValue(),o=e.session.doc.positionToIndex(e.selection.anchor);this.searchRange&&(o-=e.session.doc.positionToIndex(this.searchRange.start));for(var s,a=t.lastIndex=0;(s=t.exec(r))&&(n++,(a=s.index)<=o&&i++,!(n>999))&&(s[0]||(t.lastIndex=a+=1,!(a>=r.length))););}this.searchCounter.textContent=i+" of "+(n>999?"999+":n)},this.findNext=function(){this.find(!0,!1)},this.findPrev=function(){this.find(!0,!0)},this.findAll=function(){var e=!this.editor.findAll(this.searchInput.value,{regExp:this.regExpOption.checked,caseSensitive:this.caseSensitiveOption.checked,wholeWord:this.wholeWordOption.checked})&&this.searchInput.value;i.setCssClass(this.searchBox,"ace_nomatch",e),this.editor._emit("findSearchBox",{match:!e}),this.highlight(),this.hide()},this.replace=function(){this.editor.getReadOnly()||this.editor.replace(this.replaceInput.value)},this.replaceAndFindNext=function(){this.editor.getReadOnly()||(this.editor.replace(this.replaceInput.value),this.findNext())},this.replaceAll=function(){this.editor.getReadOnly()||this.editor.replaceAll(this.replaceInput.value)},this.hide=function(){this.active=!1,this.setSearchRange(null),this.editor.off("changeSession",this.setSession),this.element.style.display="none",this.editor.keyBinding.removeKeyboardHandler(this.$closeSearchBarKb),this.editor.focus()},this.show=function(e,t){this.active=!0,this.editor.on("changeSession",this.setSession),this.element.style.display="",this.replaceOption.checked=t,e&&(this.searchInput.value=e),this.searchInput.focus(),this.searchInput.select(),this.editor.keyBinding.addKeyboardHandler(this.$closeSearchBarKb),this.$syncOptions(!0)},this.isFocused=function(){var e=document.activeElement;return e==this.searchInput||e==this.replaceInput}}).call(l.prototype),t.SearchBox=l,t.Search=function(e,t){(e.searchBox||new l(e)).show(e.session.getTextRange(),t)}})),ace.require(["ace/ext/searchbox"],(function(t){e&&(e.exports=t)}))})),window.ace.define("ace/theme/jsoneditor",["require","exports","module","ace/lib/dom"],((e,t,n)=>{t.isDark=!1,t.cssClass="ace-jsoneditor",t.cssText='.ace-jsoneditor .ace_gutter {\nbackground: #ebebeb;\ncolor: #333\n}\n\n.ace-jsoneditor.ace_editor {\nfont-family: consolas, monaco, "lucida console", "dejavu sans mono", "droid sans mono", monospace, "courier new", courier;\nline-height: 1.3;\nbackground-color: #fff;\n}\n.ace-jsoneditor .ace_print-margin {\nwidth: 1px;\nbackground: #e8e8e8\n}\n.ace-jsoneditor .ace_scroller {\nbackground-color: #FFFFFF\n}\n.ace-jsoneditor .ace_text-layer {\ncolor: gray\n}\n.ace-jsoneditor .ace_variable {\ncolor: #1a1a1a\n}\n.ace-jsoneditor .ace_cursor {\nborder-left: 2px solid #000000\n}\n.ace-jsoneditor .ace_overwrite-cursors .ace_cursor {\nborder-left: 0px;\nborder-bottom: 1px solid #000000\n}\n.ace-jsoneditor .ace_marker-layer .ace_selection {\nbackground: lightgray\n}\n.ace-jsoneditor.ace_multiselect .ace_selection.ace_start {\nbox-shadow: 0 0 3px 0px #FFFFFF;\nborder-radius: 2px\n}\n.ace-jsoneditor .ace_marker-layer .ace_step {\nbackground: rgb(255, 255, 0)\n}\n.ace-jsoneditor .ace_marker-layer .ace_bracket {\nmargin: -1px 0 0 -1px;\nborder: 1px solid #BFBFBF\n}\n.ace-jsoneditor .ace_marker-layer .ace_active-line {\nbackground: #FFFBD1\n}\n.ace-jsoneditor .ace_gutter-active-line {\nbackground-color : #dcdcdc\n}\n.ace-jsoneditor .ace_marker-layer .ace_selected-word {\nborder: 1px solid lightgray\n}\n.ace-jsoneditor .ace_invisible {\ncolor: #BFBFBF\n}\n.ace-jsoneditor .ace_keyword,\n.ace-jsoneditor .ace_meta,\n.ace-jsoneditor .ace_support.ace_constant.ace_property-value {\ncolor: #AF956F\n}\n.ace-jsoneditor .ace_keyword.ace_operator {\ncolor: #484848\n}\n.ace-jsoneditor .ace_keyword.ace_other.ace_unit {\ncolor: #96DC5F\n}\n.ace-jsoneditor .ace_constant.ace_language {\ncolor: darkorange\n}\n.ace-jsoneditor .ace_constant.ace_numeric {\ncolor: red\n}\n.ace-jsoneditor .ace_constant.ace_character.ace_entity {\ncolor: #BF78CC\n}\n.ace-jsoneditor .ace_invalid {\ncolor: #FFFFFF;\nbackground-color: #FF002A;\n}\n.ace-jsoneditor .ace_fold {\nbackground-color: #AF956F;\nborder-color: #000000\n}\n.ace-jsoneditor .ace_storage,\n.ace-jsoneditor .ace_support.ace_class,\n.ace-jsoneditor .ace_support.ace_function,\n.ace-jsoneditor .ace_support.ace_other,\n.ace-jsoneditor .ace_support.ace_type {\ncolor: #C52727\n}\n.ace-jsoneditor .ace_string {\ncolor: green\n}\n.ace-jsoneditor .ace_comment {\ncolor: #BCC8BA\n}\n.ace-jsoneditor .ace_entity.ace_name.ace_tag,\n.ace-jsoneditor .ace_entity.ace_other.ace_attribute-name {\ncolor: #606060\n}\n.ace-jsoneditor .ace_markup.ace_underline {\ntext-decoration: underline\n}\n.ace-jsoneditor .ace_indent-guide {\nbackground: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y\n}';e("../lib/dom").importCssString(t.cssText,t.cssClass)}));Ub.config.setModuleUrl("ace/mode/json_worker","data:application/javascript;base64,Im5vIHVzZSBzdHJpY3QiOwohKGZ1bmN0aW9uKHdpbmRvdykgewppZiAodHlwZW9mIHdpbmRvdy53aW5kb3cgIT0gInVuZGVmaW5lZCIgJiYgd2luZG93LmRvY3VtZW50KQogICAgcmV0dXJuOwppZiAod2luZG93LnJlcXVpcmUgJiYgd2luZG93LmRlZmluZSkKICAgIHJldHVybjsKCmlmICghd2luZG93LmNvbnNvbGUpIHsKICAgIHdpbmRvdy5jb25zb2xlID0gZnVuY3Rpb24oKSB7CiAgICAgICAgdmFyIG1zZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDApOwogICAgICAgIHBvc3RNZXNzYWdlKHt0eXBlOiAibG9nIiwgZGF0YTogbXNnc30pOwogICAgfTsKICAgIHdpbmRvdy5jb25zb2xlLmVycm9yID0KICAgIHdpbmRvdy5jb25zb2xlLndhcm4gPSAKICAgIHdpbmRvdy5jb25zb2xlLmxvZyA9CiAgICB3aW5kb3cuY29uc29sZS50cmFjZSA9IHdpbmRvdy5jb25zb2xlOwp9CndpbmRvdy53aW5kb3cgPSB3aW5kb3c7CndpbmRvdy5hY2UgPSB3aW5kb3c7Cgp3aW5kb3cub25lcnJvciA9IGZ1bmN0aW9uKG1lc3NhZ2UsIGZpbGUsIGxpbmUsIGNvbCwgZXJyKSB7CiAgICBwb3N0TWVzc2FnZSh7dHlwZTogImVycm9yIiwgZGF0YTogewogICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsCiAgICAgICAgZGF0YTogZXJyLmRhdGEsCiAgICAgICAgZmlsZTogZmlsZSwKICAgICAgICBsaW5lOiBsaW5lLCAKICAgICAgICBjb2w6IGNvbCwKICAgICAgICBzdGFjazogZXJyLnN0YWNrCiAgICB9fSk7Cn07Cgp3aW5kb3cubm9ybWFsaXplTW9kdWxlID0gZnVuY3Rpb24ocGFyZW50SWQsIG1vZHVsZU5hbWUpIHsKICAgIC8vIG5vcm1hbGl6ZSBwbHVnaW4gcmVxdWlyZXMKICAgIGlmIChtb2R1bGVOYW1lLmluZGV4T2YoIiEiKSAhPT0gLTEpIHsKICAgICAgICB2YXIgY2h1bmtzID0gbW9kdWxlTmFtZS5zcGxpdCgiISIpOwogICAgICAgIHJldHVybiB3aW5kb3cubm9ybWFsaXplTW9kdWxlKHBhcmVudElkLCBjaHVua3NbMF0pICsgIiEiICsgd2luZG93Lm5vcm1hbGl6ZU1vZHVsZShwYXJlbnRJZCwgY2h1bmtzWzFdKTsKICAgIH0KICAgIC8vIG5vcm1hbGl6ZSByZWxhdGl2ZSByZXF1aXJlcwogICAgaWYgKG1vZHVsZU5hbWUuY2hhckF0KDApID09ICIuIikgewogICAgICAgIHZhciBiYXNlID0gcGFyZW50SWQuc3BsaXQoIi8iKS5zbGljZSgwLCAtMSkuam9pbigiLyIpOwogICAgICAgIG1vZHVsZU5hbWUgPSAoYmFzZSA/IGJhc2UgKyAiLyIgOiAiIikgKyBtb2R1bGVOYW1lOwogICAgICAgIAogICAgICAgIHdoaWxlIChtb2R1bGVOYW1lLmluZGV4T2YoIi4iKSAhPT0gLTEgJiYgcHJldmlvdXMgIT0gbW9kdWxlTmFtZSkgewogICAgICAgICAgICB2YXIgcHJldmlvdXMgPSBtb2R1bGVOYW1lOwogICAgICAgICAgICBtb2R1bGVOYW1lID0gbW9kdWxlTmFtZS5yZXBsYWNlKC9eXC5cLy8sICIiKS5yZXBsYWNlKC9cL1wuXC8vLCAiLyIpLnJlcGxhY2UoL1teXC9dK1wvXC5cLlwvLywgIiIpOwogICAgICAgIH0KICAgIH0KICAgIAogICAgcmV0dXJuIG1vZHVsZU5hbWU7Cn07Cgp3aW5kb3cucmVxdWlyZSA9IGZ1bmN0aW9uIHJlcXVpcmUocGFyZW50SWQsIGlkKSB7CiAgICBpZiAoIWlkKSB7CiAgICAgICAgaWQgPSBwYXJlbnRJZDsKICAgICAgICBwYXJlbnRJZCA9IG51bGw7CiAgICB9CiAgICBpZiAoIWlkLmNoYXJBdCkKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoIndvcmtlci5qcyByZXF1aXJlKCkgYWNjZXB0cyBvbmx5IChwYXJlbnRJZCwgaWQpIGFzIGFyZ3VtZW50cyIpOwoKICAgIGlkID0gd2luZG93Lm5vcm1hbGl6ZU1vZHVsZShwYXJlbnRJZCwgaWQpOwoKICAgIHZhciBtb2R1bGUgPSB3aW5kb3cucmVxdWlyZS5tb2R1bGVzW2lkXTsKICAgIGlmIChtb2R1bGUpIHsKICAgICAgICBpZiAoIW1vZHVsZS5pbml0aWFsaXplZCkgewogICAgICAgICAgICBtb2R1bGUuaW5pdGlhbGl6ZWQgPSB0cnVlOwogICAgICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IG1vZHVsZS5mYWN0b3J5KCkuZXhwb3J0czsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIG1vZHVsZS5leHBvcnRzOwogICAgfQogICAKICAgIGlmICghd2luZG93LnJlcXVpcmUudGxucykKICAgICAgICByZXR1cm4gY29uc29sZS5sb2coInVuYWJsZSB0byBsb2FkICIgKyBpZCk7CiAgICAKICAgIHZhciBwYXRoID0gcmVzb2x2ZU1vZHVsZUlkKGlkLCB3aW5kb3cucmVxdWlyZS50bG5zKTsKICAgIGlmIChwYXRoLnNsaWNlKC0zKSAhPSAiLmpzIikgcGF0aCArPSAiLmpzIjsKICAgIAogICAgd2luZG93LnJlcXVpcmUuaWQgPSBpZDsKICAgIHdpbmRvdy5yZXF1aXJlLm1vZHVsZXNbaWRdID0ge307IC8vIHByZXZlbnQgaW5maW5pdGUgbG9vcCBvbiBicm9rZW4gbW9kdWxlcwogICAgaW1wb3J0U2NyaXB0cyhwYXRoKTsKICAgIHJldHVybiB3aW5kb3cucmVxdWlyZShwYXJlbnRJZCwgaWQpOwp9OwpmdW5jdGlvbiByZXNvbHZlTW9kdWxlSWQoaWQsIHBhdGhzKSB7CiAgICB2YXIgdGVzdFBhdGggPSBpZCwgdGFpbCA9ICIiOwogICAgd2hpbGUgKHRlc3RQYXRoKSB7CiAgICAgICAgdmFyIGFsaWFzID0gcGF0aHNbdGVzdFBhdGhdOwogICAgICAgIGlmICh0eXBlb2YgYWxpYXMgPT0gInN0cmluZyIpIHsKICAgICAgICAgICAgcmV0dXJuIGFsaWFzICsgdGFpbDsKICAgICAgICB9IGVsc2UgaWYgKGFsaWFzKSB7CiAgICAgICAgICAgIHJldHVybiAgYWxpYXMubG9jYXRpb24ucmVwbGFjZSgvXC8qJC8sICIvIikgKyAodGFpbCB8fCBhbGlhcy5tYWluIHx8IGFsaWFzLm5hbWUpOwogICAgICAgIH0gZWxzZSBpZiAoYWxpYXMgPT09IGZhbHNlKSB7CiAgICAgICAgICAgIHJldHVybiAiIjsKICAgICAgICB9CiAgICAgICAgdmFyIGkgPSB0ZXN0UGF0aC5sYXN0SW5kZXhPZigiLyIpOwogICAgICAgIGlmIChpID09PSAtMSkgYnJlYWs7CiAgICAgICAgdGFpbCA9IHRlc3RQYXRoLnN1YnN0cihpKSArIHRhaWw7CiAgICAgICAgdGVzdFBhdGggPSB0ZXN0UGF0aC5zbGljZSgwLCBpKTsKICAgIH0KICAgIHJldHVybiBpZDsKfQp3aW5kb3cucmVxdWlyZS5tb2R1bGVzID0ge307CndpbmRvdy5yZXF1aXJlLnRsbnMgPSB7fTsKCndpbmRvdy5kZWZpbmUgPSBmdW5jdGlvbihpZCwgZGVwcywgZmFjdG9yeSkgewogICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT0gMikgewogICAgICAgIGZhY3RvcnkgPSBkZXBzOwogICAgICAgIGlmICh0eXBlb2YgaWQgIT0gInN0cmluZyIpIHsKICAgICAgICAgICAgZGVwcyA9IGlkOwogICAgICAgICAgICBpZCA9IHdpbmRvdy5yZXF1aXJlLmlkOwogICAgICAgIH0KICAgIH0gZWxzZSBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PSAxKSB7CiAgICAgICAgZmFjdG9yeSA9IGlkOwogICAgICAgIGRlcHMgPSBbXTsKICAgICAgICBpZCA9IHdpbmRvdy5yZXF1aXJlLmlkOwogICAgfQogICAgCiAgICBpZiAodHlwZW9mIGZhY3RvcnkgIT0gImZ1bmN0aW9uIikgewogICAgICAgIHdpbmRvdy5yZXF1aXJlLm1vZHVsZXNbaWRdID0gewogICAgICAgICAgICBleHBvcnRzOiBmYWN0b3J5LAogICAgICAgICAgICBpbml0aWFsaXplZDogdHJ1ZQogICAgICAgIH07CiAgICAgICAgcmV0dXJuOwogICAgfQoKICAgIGlmICghZGVwcy5sZW5ndGgpCiAgICAgICAgLy8gSWYgdGhlcmUgaXMgbm8gZGVwZW5kZW5jaWVzLCB3ZSBpbmplY3QgInJlcXVpcmUiLCAiZXhwb3J0cyIgYW5kCiAgICAgICAgLy8gIm1vZHVsZSIgYXMgZGVwZW5kZW5jaWVzLCB0byBwcm92aWRlIENvbW1vbkpTIGNvbXBhdGliaWxpdHkuCiAgICAgICAgZGVwcyA9IFsicmVxdWlyZSIsICJleHBvcnRzIiwgIm1vZHVsZSJdOwoKICAgIHZhciByZXEgPSBmdW5jdGlvbihjaGlsZElkKSB7CiAgICAgICAgcmV0dXJuIHdpbmRvdy5yZXF1aXJlKGlkLCBjaGlsZElkKTsKICAgIH07CgogICAgd2luZG93LnJlcXVpcmUubW9kdWxlc1tpZF0gPSB7CiAgICAgICAgZXhwb3J0czoge30sCiAgICAgICAgZmFjdG9yeTogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHZhciBtb2R1bGUgPSB0aGlzOwogICAgICAgICAgICB2YXIgcmV0dXJuRXhwb3J0cyA9IGZhY3RvcnkuYXBwbHkodGhpcywgZGVwcy5zbGljZSgwLCBmYWN0b3J5Lmxlbmd0aCkubWFwKGZ1bmN0aW9uKGRlcCkgewogICAgICAgICAgICAgICAgc3dpdGNoIChkZXApIHsKICAgICAgICAgICAgICAgICAgICAvLyBCZWNhdXNlICJyZXF1aXJlIiwgImV4cG9ydHMiIGFuZCAibW9kdWxlIiBhcmVuJ3QgYWN0dWFsCiAgICAgICAgICAgICAgICAgICAgLy8gZGVwZW5kZW5jaWVzLCB3ZSBtdXN0IGhhbmRsZSB0aGVtIHNlcGVyYXRlbHkuCiAgICAgICAgICAgICAgICAgICAgY2FzZSAicmVxdWlyZSI6IHJldHVybiByZXE7CiAgICAgICAgICAgICAgICAgICAgY2FzZSAiZXhwb3J0cyI6IHJldHVybiBtb2R1bGUuZXhwb3J0czsKICAgICAgICAgICAgICAgICAgICBjYXNlICJtb2R1bGUiOiAgcmV0dXJuIG1vZHVsZTsKICAgICAgICAgICAgICAgICAgICAvLyBCdXQgZm9yIGFsbCBvdGhlciBkZXBlbmRlbmNpZXMsIHdlIGNhbiBqdXN0IGdvIGFoZWFkIGFuZAogICAgICAgICAgICAgICAgICAgIC8vIHJlcXVpcmUgdGhlbS4KICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiAgICAgICAgcmV0dXJuIHJlcShkZXApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KSk7CiAgICAgICAgICAgIGlmIChyZXR1cm5FeHBvcnRzKQogICAgICAgICAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSByZXR1cm5FeHBvcnRzOwogICAgICAgICAgICByZXR1cm4gbW9kdWxlOwogICAgICAgIH0KICAgIH07Cn07CndpbmRvdy5kZWZpbmUuYW1kID0ge307CnJlcXVpcmUudGxucyA9IHt9Owp3aW5kb3cuaW5pdEJhc2VVcmxzICA9IGZ1bmN0aW9uIGluaXRCYXNlVXJscyh0b3BMZXZlbE5hbWVzcGFjZXMpIHsKICAgIGZvciAodmFyIGkgaW4gdG9wTGV2ZWxOYW1lc3BhY2VzKQogICAgICAgIHJlcXVpcmUudGxuc1tpXSA9IHRvcExldmVsTmFtZXNwYWNlc1tpXTsKfTsKCndpbmRvdy5pbml0U2VuZGVyID0gZnVuY3Rpb24gaW5pdFNlbmRlcigpIHsKCiAgICB2YXIgRXZlbnRFbWl0dGVyID0gd2luZG93LnJlcXVpcmUoImFjZS9saWIvZXZlbnRfZW1pdHRlciIpLkV2ZW50RW1pdHRlcjsKICAgIHZhciBvb3AgPSB3aW5kb3cucmVxdWlyZSgiYWNlL2xpYi9vb3AiKTsKICAgIAogICAgdmFyIFNlbmRlciA9IGZ1bmN0aW9uKCkge307CiAgICAKICAgIChmdW5jdGlvbigpIHsKICAgICAgICAKICAgICAgICBvb3AuaW1wbGVtZW50KHRoaXMsIEV2ZW50RW1pdHRlcik7CiAgICAgICAgICAgICAgICAKICAgICAgICB0aGlzLmNhbGxiYWNrID0gZnVuY3Rpb24oZGF0YSwgY2FsbGJhY2tJZCkgewogICAgICAgICAgICBwb3N0TWVzc2FnZSh7CiAgICAgICAgICAgICAgICB0eXBlOiAiY2FsbCIsCiAgICAgICAgICAgICAgICBpZDogY2FsbGJhY2tJZCwKICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEKICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgIAogICAgICAgIHRoaXMuZW1pdCA9IGZ1bmN0aW9uKG5hbWUsIGRhdGEpIHsKICAgICAgICAgICAgcG9zdE1lc3NhZ2UoewogICAgICAgICAgICAgICAgdHlwZTogImV2ZW50IiwKICAgICAgICAgICAgICAgIG5hbWU6IG5hbWUsCiAgICAgICAgICAgICAgICBkYXRhOiBkYXRhCiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgCiAgICB9KS5jYWxsKFNlbmRlci5wcm90b3R5cGUpOwogICAgCiAgICByZXR1cm4gbmV3IFNlbmRlcigpOwp9OwoKdmFyIG1haW4gPSB3aW5kb3cubWFpbiA9IG51bGw7CnZhciBzZW5kZXIgPSB3aW5kb3cuc2VuZGVyID0gbnVsbDsKCndpbmRvdy5vbm1lc3NhZ2UgPSBmdW5jdGlvbihlKSB7CiAgICB2YXIgbXNnID0gZS5kYXRhOwogICAgaWYgKG1zZy5ldmVudCAmJiBzZW5kZXIpIHsKICAgICAgICBzZW5kZXIuX3NpZ25hbChtc2cuZXZlbnQsIG1zZy5kYXRhKTsKICAgIH0KICAgIGVsc2UgaWYgKG1zZy5jb21tYW5kKSB7CiAgICAgICAgaWYgKG1haW5bbXNnLmNvbW1hbmRdKQogICAgICAgICAgICBtYWluW21zZy5jb21tYW5kXS5hcHBseShtYWluLCBtc2cuYXJncyk7CiAgICAgICAgZWxzZSBpZiAod2luZG93W21zZy5jb21tYW5kXSkKICAgICAgICAgICAgd2luZG93W21zZy5jb21tYW5kXS5hcHBseSh3aW5kb3csIG1zZy5hcmdzKTsKICAgICAgICBlbHNlCiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigiVW5rbm93biBjb21tYW5kOiIgKyBtc2cuY29tbWFuZCk7CiAgICB9CiAgICBlbHNlIGlmIChtc2cuaW5pdCkgewogICAgICAgIHdpbmRvdy5pbml0QmFzZVVybHMobXNnLnRsbnMpOwogICAgICAgIHNlbmRlciA9IHdpbmRvdy5zZW5kZXIgPSB3aW5kb3cuaW5pdFNlbmRlcigpOwogICAgICAgIHZhciBjbGF6eiA9IHJlcXVpcmUobXNnLm1vZHVsZSlbbXNnLmNsYXNzbmFtZV07CiAgICAgICAgbWFpbiA9IHdpbmRvdy5tYWluID0gbmV3IGNsYXp6KHNlbmRlcik7CiAgICB9Cn07Cn0pKHRoaXMpOwoKYWNlLmRlZmluZSgiYWNlL2xpYi9vb3AiLFtdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHsKInVzZSBzdHJpY3QiOwoKZXhwb3J0cy5pbmhlcml0cyA9IGZ1bmN0aW9uKGN0b3IsIHN1cGVyQ3RvcikgewogICAgY3Rvci5zdXBlcl8gPSBzdXBlckN0b3I7CiAgICBjdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDdG9yLnByb3RvdHlwZSwgewogICAgICAgIGNvbnN0cnVjdG9yOiB7CiAgICAgICAgICAgIHZhbHVlOiBjdG9yLAogICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSwKICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsCiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZQogICAgICAgIH0KICAgIH0pOwp9OwoKZXhwb3J0cy5taXhpbiA9IGZ1bmN0aW9uKG9iaiwgbWl4aW4pIHsKICAgIGZvciAodmFyIGtleSBpbiBtaXhpbikgewogICAgICAgIG9ialtrZXldID0gbWl4aW5ba2V5XTsKICAgIH0KICAgIHJldHVybiBvYmo7Cn07CgpleHBvcnRzLmltcGxlbWVudCA9IGZ1bmN0aW9uKHByb3RvLCBtaXhpbikgewogICAgZXhwb3J0cy5taXhpbihwcm90bywgbWl4aW4pOwp9OwoKfSk7CgphY2UuZGVmaW5lKCJhY2UvcmFuZ2UiLFtdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHsKInVzZSBzdHJpY3QiOwp2YXIgY29tcGFyZVBvaW50cyA9IGZ1bmN0aW9uKHAxLCBwMikgewogICAgcmV0dXJuIHAxLnJvdyAtIHAyLnJvdyB8fCBwMS5jb2x1bW4gLSBwMi5jb2x1bW47Cn07CnZhciBSYW5nZSA9IGZ1bmN0aW9uKHN0YXJ0Um93LCBzdGFydENvbHVtbiwgZW5kUm93LCBlbmRDb2x1bW4pIHsKICAgIHRoaXMuc3RhcnQgPSB7CiAgICAgICAgcm93OiBzdGFydFJvdywKICAgICAgICBjb2x1bW46IHN0YXJ0Q29sdW1uCiAgICB9OwoKICAgIHRoaXMuZW5kID0gewogICAgICAgIHJvdzogZW5kUm93LAogICAgICAgIGNvbHVtbjogZW5kQ29sdW1uCiAgICB9Owp9OwoKKGZ1bmN0aW9uKCkgewogICAgdGhpcy5pc0VxdWFsID0gZnVuY3Rpb24ocmFuZ2UpIHsKICAgICAgICByZXR1cm4gdGhpcy5zdGFydC5yb3cgPT09IHJhbmdlLnN0YXJ0LnJvdyAmJgogICAgICAgICAgICB0aGlzLmVuZC5yb3cgPT09IHJhbmdlLmVuZC5yb3cgJiYKICAgICAgICAgICAgdGhpcy5zdGFydC5jb2x1bW4gPT09IHJhbmdlLnN0YXJ0LmNvbHVtbiAmJgogICAgICAgICAgICB0aGlzLmVuZC5jb2x1bW4gPT09IHJhbmdlLmVuZC5jb2x1bW47CiAgICB9OwogICAgdGhpcy50b1N0cmluZyA9IGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiAoIlJhbmdlOiBbIiArIHRoaXMuc3RhcnQucm93ICsgIi8iICsgdGhpcy5zdGFydC5jb2x1bW4gKwogICAgICAgICAgICAiXSAtPiBbIiArIHRoaXMuZW5kLnJvdyArICIvIiArIHRoaXMuZW5kLmNvbHVtbiArICJdIik7CiAgICB9OwoKICAgIHRoaXMuY29udGFpbnMgPSBmdW5jdGlvbihyb3csIGNvbHVtbikgewogICAgICAgIHJldHVybiB0aGlzLmNvbXBhcmUocm93LCBjb2x1bW4pID09IDA7CiAgICB9OwogICAgdGhpcy5jb21wYXJlUmFuZ2UgPSBmdW5jdGlvbihyYW5nZSkgewogICAgICAgIHZhciBjbXAsCiAgICAgICAgICAgIGVuZCA9IHJhbmdlLmVuZCwKICAgICAgICAgICAgc3RhcnQgPSByYW5nZS5zdGFydDsKCiAgICAgICAgY21wID0gdGhpcy5jb21wYXJlKGVuZC5yb3csIGVuZC5jb2x1bW4pOwogICAgICAgIGlmIChjbXAgPT0gMSkgewogICAgICAgICAgICBjbXAgPSB0aGlzLmNvbXBhcmUoc3RhcnQucm93LCBzdGFydC5jb2x1bW4pOwogICAgICAgICAgICBpZiAoY21wID09IDEpIHsKICAgICAgICAgICAgICAgIHJldHVybiAyOwogICAgICAgICAgICB9IGVsc2UgaWYgKGNtcCA9PSAwKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gMTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiAwOwogICAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmIChjbXAgPT0gLTEpIHsKICAgICAgICAgICAgcmV0dXJuIC0yOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGNtcCA9IHRoaXMuY29tcGFyZShzdGFydC5yb3csIHN0YXJ0LmNvbHVtbik7CiAgICAgICAgICAgIGlmIChjbXAgPT0gLTEpIHsKICAgICAgICAgICAgICAgIHJldHVybiAtMTsKICAgICAgICAgICAgfSBlbHNlIGlmIChjbXAgPT0gMSkgewogICAgICAgICAgICAgICAgcmV0dXJuIDQyOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9OwogICAgdGhpcy5jb21wYXJlUG9pbnQgPSBmdW5jdGlvbihwKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuY29tcGFyZShwLnJvdywgcC5jb2x1bW4pOwogICAgfTsKICAgIHRoaXMuY29udGFpbnNSYW5nZSA9IGZ1bmN0aW9uKHJhbmdlKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuY29tcGFyZVBvaW50KHJhbmdlLnN0YXJ0KSA9PSAwICYmIHRoaXMuY29tcGFyZVBvaW50KHJhbmdlLmVuZCkgPT0gMDsKICAgIH07CiAgICB0aGlzLmludGVyc2VjdHMgPSBmdW5jdGlvbihyYW5nZSkgewogICAgICAgIHZhciBjbXAgPSB0aGlzLmNvbXBhcmVSYW5nZShyYW5nZSk7CiAgICAgICAgcmV0dXJuIChjbXAgPT0gLTEgfHwgY21wID09IDAgfHwgY21wID09IDEpOwogICAgfTsKICAgIHRoaXMuaXNFbmQgPSBmdW5jdGlvbihyb3csIGNvbHVtbikgewogICAgICAgIHJldHVybiB0aGlzLmVuZC5yb3cgPT0gcm93ICYmIHRoaXMuZW5kLmNvbHVtbiA9PSBjb2x1bW47CiAgICB9OwogICAgdGhpcy5pc1N0YXJ0ID0gZnVuY3Rpb24ocm93LCBjb2x1bW4pIHsKICAgICAgICByZXR1cm4gdGhpcy5zdGFydC5yb3cgPT0gcm93ICYmIHRoaXMuc3RhcnQuY29sdW1uID09IGNvbHVtbjsKICAgIH07CiAgICB0aGlzLnNldFN0YXJ0ID0gZnVuY3Rpb24ocm93LCBjb2x1bW4pIHsKICAgICAgICBpZiAodHlwZW9mIHJvdyA9PSAib2JqZWN0IikgewogICAgICAgICAgICB0aGlzLnN0YXJ0LmNvbHVtbiA9IHJvdy5jb2x1bW47CiAgICAgICAgICAgIHRoaXMuc3RhcnQucm93ID0gcm93LnJvdzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLnN0YXJ0LnJvdyA9IHJvdzsKICAgICAgICAgICAgdGhpcy5zdGFydC5jb2x1bW4gPSBjb2x1bW47CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMuc2V0RW5kID0gZnVuY3Rpb24ocm93LCBjb2x1bW4pIHsKICAgICAgICBpZiAodHlwZW9mIHJvdyA9PSAib2JqZWN0IikgewogICAgICAgICAgICB0aGlzLmVuZC5jb2x1bW4gPSByb3cuY29sdW1uOwogICAgICAgICAgICB0aGlzLmVuZC5yb3cgPSByb3cucm93OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuZW5kLnJvdyA9IHJvdzsKICAgICAgICAgICAgdGhpcy5lbmQuY29sdW1uID0gY29sdW1uOwogICAgICAgIH0KICAgIH07CiAgICB0aGlzLmluc2lkZSA9IGZ1bmN0aW9uKHJvdywgY29sdW1uKSB7CiAgICAgICAgaWYgKHRoaXMuY29tcGFyZShyb3csIGNvbHVtbikgPT0gMCkgewogICAgICAgICAgICBpZiAodGhpcy5pc0VuZChyb3csIGNvbHVtbikgfHwgdGhpcy5pc1N0YXJ0KHJvdywgY29sdW1uKSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfTsKICAgIHRoaXMuaW5zaWRlU3RhcnQgPSBmdW5jdGlvbihyb3csIGNvbHVtbikgewogICAgICAgIGlmICh0aGlzLmNvbXBhcmUocm93LCBjb2x1bW4pID09IDApIHsKICAgICAgICAgICAgaWYgKHRoaXMuaXNFbmQocm93LCBjb2x1bW4pKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9OwogICAgdGhpcy5pbnNpZGVFbmQgPSBmdW5jdGlvbihyb3csIGNvbHVtbikgewogICAgICAgIGlmICh0aGlzLmNvbXBhcmUocm93LCBjb2x1bW4pID09IDApIHsKICAgICAgICAgICAgaWYgKHRoaXMuaXNTdGFydChyb3csIGNvbHVtbikpIHsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH07CiAgICB0aGlzLmNvbXBhcmUgPSBmdW5jdGlvbihyb3csIGNvbHVtbikgewogICAgICAgIGlmICghdGhpcy5pc011bHRpTGluZSgpKSB7CiAgICAgICAgICAgIGlmIChyb3cgPT09IHRoaXMuc3RhcnQucm93KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gY29sdW1uIDwgdGhpcy5zdGFydC5jb2x1bW4gPyAtMSA6IChjb2x1bW4gPiB0aGlzLmVuZC5jb2x1bW4gPyAxIDogMCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmIChyb3cgPCB0aGlzLnN0YXJ0LnJvdykKICAgICAgICAgICAgcmV0dXJuIC0xOwoKICAgICAgICBpZiAocm93ID4gdGhpcy5lbmQucm93KQogICAgICAgICAgICByZXR1cm4gMTsKCiAgICAgICAgaWYgKHRoaXMuc3RhcnQucm93ID09PSByb3cpCiAgICAgICAgICAgIHJldHVybiBjb2x1bW4gPj0gdGhpcy5zdGFydC5jb2x1bW4gPyAwIDogLTE7CgogICAgICAgIGlmICh0aGlzLmVuZC5yb3cgPT09IHJvdykKICAgICAgICAgICAgcmV0dXJuIGNvbHVtbiA8PSB0aGlzLmVuZC5jb2x1bW4gPyAwIDogMTsKCiAgICAgICAgcmV0dXJuIDA7CiAgICB9OwogICAgdGhpcy5jb21wYXJlU3RhcnQgPSBmdW5jdGlvbihyb3csIGNvbHVtbikgewogICAgICAgIGlmICh0aGlzLnN0YXJ0LnJvdyA9PSByb3cgJiYgdGhpcy5zdGFydC5jb2x1bW4gPT0gY29sdW1uKSB7CiAgICAgICAgICAgIHJldHVybiAtMTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gdGhpcy5jb21wYXJlKHJvdywgY29sdW1uKTsKICAgICAgICB9CiAgICB9OwogICAgdGhpcy5jb21wYXJlRW5kID0gZnVuY3Rpb24ocm93LCBjb2x1bW4pIHsKICAgICAgICBpZiAodGhpcy5lbmQucm93ID09IHJvdyAmJiB0aGlzLmVuZC5jb2x1bW4gPT0gY29sdW1uKSB7CiAgICAgICAgICAgIHJldHVybiAxOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbXBhcmUocm93LCBjb2x1bW4pOwogICAgICAgIH0KICAgIH07CiAgICB0aGlzLmNvbXBhcmVJbnNpZGUgPSBmdW5jdGlvbihyb3csIGNvbHVtbikgewogICAgICAgIGlmICh0aGlzLmVuZC5yb3cgPT0gcm93ICYmIHRoaXMuZW5kLmNvbHVtbiA9PSBjb2x1bW4pIHsKICAgICAgICAgICAgcmV0dXJuIDE7CiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnN0YXJ0LnJvdyA9PSByb3cgJiYgdGhpcy5zdGFydC5jb2x1bW4gPT0gY29sdW1uKSB7CiAgICAgICAgICAgIHJldHVybiAtMTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gdGhpcy5jb21wYXJlKHJvdywgY29sdW1uKTsKICAgICAgICB9CiAgICB9OwogICAgdGhpcy5jbGlwUm93cyA9IGZ1bmN0aW9uKGZpcnN0Um93LCBsYXN0Um93KSB7CiAgICAgICAgaWYgKHRoaXMuZW5kLnJvdyA+IGxhc3RSb3cpCiAgICAgICAgICAgIHZhciBlbmQgPSB7cm93OiBsYXN0Um93ICsgMSwgY29sdW1uOiAwfTsKICAgICAgICBlbHNlIGlmICh0aGlzLmVuZC5yb3cgPCBmaXJzdFJvdykKICAgICAgICAgICAgdmFyIGVuZCA9IHtyb3c6IGZpcnN0Um93LCBjb2x1bW46IDB9OwoKICAgICAgICBpZiAodGhpcy5zdGFydC5yb3cgPiBsYXN0Um93KQogICAgICAgICAgICB2YXIgc3RhcnQgPSB7cm93OiBsYXN0Um93ICsgMSwgY29sdW1uOiAwfTsKICAgICAgICBlbHNlIGlmICh0aGlzLnN0YXJ0LnJvdyA8IGZpcnN0Um93KQogICAgICAgICAgICB2YXIgc3RhcnQgPSB7cm93OiBmaXJzdFJvdywgY29sdW1uOiAwfTsKCiAgICAgICAgcmV0dXJuIFJhbmdlLmZyb21Qb2ludHMoc3RhcnQgfHwgdGhpcy5zdGFydCwgZW5kIHx8IHRoaXMuZW5kKTsKICAgIH07CiAgICB0aGlzLmV4dGVuZCA9IGZ1bmN0aW9uKHJvdywgY29sdW1uKSB7CiAgICAgICAgdmFyIGNtcCA9IHRoaXMuY29tcGFyZShyb3csIGNvbHVtbik7CgogICAgICAgIGlmIChjbXAgPT0gMCkKICAgICAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgICAgZWxzZSBpZiAoY21wID09IC0xKQogICAgICAgICAgICB2YXIgc3RhcnQgPSB7cm93OiByb3csIGNvbHVtbjogY29sdW1ufTsKICAgICAgICBlbHNlCiAgICAgICAgICAgIHZhciBlbmQgPSB7cm93OiByb3csIGNvbHVtbjogY29sdW1ufTsKCiAgICAgICAgcmV0dXJuIFJhbmdlLmZyb21Qb2ludHMoc3RhcnQgfHwgdGhpcy5zdGFydCwgZW5kIHx8IHRoaXMuZW5kKTsKICAgIH07CgogICAgdGhpcy5pc0VtcHR5ID0gZnVuY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuICh0aGlzLnN0YXJ0LnJvdyA9PT0gdGhpcy5lbmQucm93ICYmIHRoaXMuc3RhcnQuY29sdW1uID09PSB0aGlzLmVuZC5jb2x1bW4pOwogICAgfTsKICAgIHRoaXMuaXNNdWx0aUxpbmUgPSBmdW5jdGlvbigpIHsKICAgICAgICByZXR1cm4gKHRoaXMuc3RhcnQucm93ICE9PSB0aGlzLmVuZC5yb3cpOwogICAgfTsKICAgIHRoaXMuY2xvbmUgPSBmdW5jdGlvbigpIHsKICAgICAgICByZXR1cm4gUmFuZ2UuZnJvbVBvaW50cyh0aGlzLnN0YXJ0LCB0aGlzLmVuZCk7CiAgICB9OwogICAgdGhpcy5jb2xsYXBzZVJvd3MgPSBmdW5jdGlvbigpIHsKICAgICAgICBpZiAodGhpcy5lbmQuY29sdW1uID09IDApCiAgICAgICAgICAgIHJldHVybiBuZXcgUmFuZ2UodGhpcy5zdGFydC5yb3csIDAsIE1hdGgubWF4KHRoaXMuc3RhcnQucm93LCB0aGlzLmVuZC5yb3ctMSksIDApOwogICAgICAgIGVsc2UKICAgICAgICAgICAgcmV0dXJuIG5ldyBSYW5nZSh0aGlzLnN0YXJ0LnJvdywgMCwgdGhpcy5lbmQucm93LCAwKTsKICAgIH07CiAgICB0aGlzLnRvU2NyZWVuUmFuZ2UgPSBmdW5jdGlvbihzZXNzaW9uKSB7CiAgICAgICAgdmFyIHNjcmVlblBvc1N0YXJ0ID0gc2Vzc2lvbi5kb2N1bWVudFRvU2NyZWVuUG9zaXRpb24odGhpcy5zdGFydCk7CiAgICAgICAgdmFyIHNjcmVlblBvc0VuZCA9IHNlc3Npb24uZG9jdW1lbnRUb1NjcmVlblBvc2l0aW9uKHRoaXMuZW5kKTsKCiAgICAgICAgcmV0dXJuIG5ldyBSYW5nZSgKICAgICAgICAgICAgc2NyZWVuUG9zU3RhcnQucm93LCBzY3JlZW5Qb3NTdGFydC5jb2x1bW4sCiAgICAgICAgICAgIHNjcmVlblBvc0VuZC5yb3csIHNjcmVlblBvc0VuZC5jb2x1bW4KICAgICAgICApOwogICAgfTsKICAgIHRoaXMubW92ZUJ5ID0gZnVuY3Rpb24ocm93LCBjb2x1bW4pIHsKICAgICAgICB0aGlzLnN0YXJ0LnJvdyArPSByb3c7CiAgICAgICAgdGhpcy5zdGFydC5jb2x1bW4gKz0gY29sdW1uOwogICAgICAgIHRoaXMuZW5kLnJvdyArPSByb3c7CiAgICAgICAgdGhpcy5lbmQuY29sdW1uICs9IGNvbHVtbjsKICAgIH07Cgp9KS5jYWxsKFJhbmdlLnByb3RvdHlwZSk7ClJhbmdlLmZyb21Qb2ludHMgPSBmdW5jdGlvbihzdGFydCwgZW5kKSB7CiAgICByZXR1cm4gbmV3IFJhbmdlKHN0YXJ0LnJvdywgc3RhcnQuY29sdW1uLCBlbmQucm93LCBlbmQuY29sdW1uKTsKfTsKUmFuZ2UuY29tcGFyZVBvaW50cyA9IGNvbXBhcmVQb2ludHM7CgpSYW5nZS5jb21wYXJlUG9pbnRzID0gZnVuY3Rpb24ocDEsIHAyKSB7CiAgICByZXR1cm4gcDEucm93IC0gcDIucm93IHx8IHAxLmNvbHVtbiAtIHAyLmNvbHVtbjsKfTsKCgpleHBvcnRzLlJhbmdlID0gUmFuZ2U7Cn0pOwoKYWNlLmRlZmluZSgiYWNlL2FwcGx5X2RlbHRhIixbXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7CiJ1c2Ugc3RyaWN0IjsKCmZ1bmN0aW9uIHRocm93RGVsdGFFcnJvcihkZWx0YSwgZXJyb3JUZXh0KXsKICAgIGNvbnNvbGUubG9nKCJJbnZhbGlkIERlbHRhOiIsIGRlbHRhKTsKICAgIHRocm93ICJJbnZhbGlkIERlbHRhOiAiICsgZXJyb3JUZXh0Owp9CgpmdW5jdGlvbiBwb3NpdGlvbkluRG9jdW1lbnQoZG9jTGluZXMsIHBvc2l0aW9uKSB7CiAgICByZXR1cm4gcG9zaXRpb24ucm93ICAgID49IDAgJiYgcG9zaXRpb24ucm93ICAgIDwgIGRvY0xpbmVzLmxlbmd0aCAmJgogICAgICAgICAgIHBvc2l0aW9uLmNvbHVtbiA+PSAwICYmIHBvc2l0aW9uLmNvbHVtbiA8PSBkb2NMaW5lc1twb3NpdGlvbi5yb3ddLmxlbmd0aDsKfQoKZnVuY3Rpb24gdmFsaWRhdGVEZWx0YShkb2NMaW5lcywgZGVsdGEpIHsKICAgIGlmIChkZWx0YS5hY3Rpb24gIT0gImluc2VydCIgJiYgZGVsdGEuYWN0aW9uICE9ICJyZW1vdmUiKQogICAgICAgIHRocm93RGVsdGFFcnJvcihkZWx0YSwgImRlbHRhLmFjdGlvbiBtdXN0IGJlICdpbnNlcnQnIG9yICdyZW1vdmUnIik7CiAgICBpZiAoIShkZWx0YS5saW5lcyBpbnN0YW5jZW9mIEFycmF5KSkKICAgICAgICB0aHJvd0RlbHRhRXJyb3IoZGVsdGEsICJkZWx0YS5saW5lcyBtdXN0IGJlIGFuIEFycmF5Iik7CiAgICBpZiAoIWRlbHRhLnN0YXJ0IHx8ICFkZWx0YS5lbmQpCiAgICAgICB0aHJvd0RlbHRhRXJyb3IoZGVsdGEsICJkZWx0YS5zdGFydC9lbmQgbXVzdCBiZSBhbiBwcmVzZW50Iik7CiAgICB2YXIgc3RhcnQgPSBkZWx0YS5zdGFydDsKICAgIGlmICghcG9zaXRpb25JbkRvY3VtZW50KGRvY0xpbmVzLCBkZWx0YS5zdGFydCkpCiAgICAgICAgdGhyb3dEZWx0YUVycm9yKGRlbHRhLCAiZGVsdGEuc3RhcnQgbXVzdCBiZSBjb250YWluZWQgaW4gZG9jdW1lbnQiKTsKICAgIHZhciBlbmQgPSBkZWx0YS5lbmQ7CiAgICBpZiAoZGVsdGEuYWN0aW9uID09ICJyZW1vdmUiICYmICFwb3NpdGlvbkluRG9jdW1lbnQoZG9jTGluZXMsIGVuZCkpCiAgICAgICAgdGhyb3dEZWx0YUVycm9yKGRlbHRhLCAiZGVsdGEuZW5kIG11c3QgY29udGFpbmVkIGluIGRvY3VtZW50IGZvciAncmVtb3ZlJyBhY3Rpb25zIik7CiAgICB2YXIgbnVtUmFuZ2VSb3dzID0gZW5kLnJvdyAtIHN0YXJ0LnJvdzsKICAgIHZhciBudW1SYW5nZUxhc3RMaW5lQ2hhcnMgPSAoZW5kLmNvbHVtbiAtIChudW1SYW5nZVJvd3MgPT0gMCA/IHN0YXJ0LmNvbHVtbiA6IDApKTsKICAgIGlmIChudW1SYW5nZVJvd3MgIT0gZGVsdGEubGluZXMubGVuZ3RoIC0gMSB8fCBkZWx0YS5saW5lc1tudW1SYW5nZVJvd3NdLmxlbmd0aCAhPSBudW1SYW5nZUxhc3RMaW5lQ2hhcnMpCiAgICAgICAgdGhyb3dEZWx0YUVycm9yKGRlbHRhLCAiZGVsdGEucmFuZ2UgbXVzdCBtYXRjaCBkZWx0YSBsaW5lcyIpOwp9CgpleHBvcnRzLmFwcGx5RGVsdGEgPSBmdW5jdGlvbihkb2NMaW5lcywgZGVsdGEsIGRvTm90VmFsaWRhdGUpIHsKICAgIAogICAgdmFyIHJvdyA9IGRlbHRhLnN0YXJ0LnJvdzsKICAgIHZhciBzdGFydENvbHVtbiA9IGRlbHRhLnN0YXJ0LmNvbHVtbjsKICAgIHZhciBsaW5lID0gZG9jTGluZXNbcm93XSB8fCAiIjsKICAgIHN3aXRjaCAoZGVsdGEuYWN0aW9uKSB7CiAgICAgICAgY2FzZSAiaW5zZXJ0IjoKICAgICAgICAgICAgdmFyIGxpbmVzID0gZGVsdGEubGluZXM7CiAgICAgICAgICAgIGlmIChsaW5lcy5sZW5ndGggPT09IDEpIHsKICAgICAgICAgICAgICAgIGRvY0xpbmVzW3Jvd10gPSBsaW5lLnN1YnN0cmluZygwLCBzdGFydENvbHVtbikgKyBkZWx0YS5saW5lc1swXSArIGxpbmUuc3Vic3RyaW5nKHN0YXJ0Q29sdW1uKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHZhciBhcmdzID0gW3JvdywgMV0uY29uY2F0KGRlbHRhLmxpbmVzKTsKICAgICAgICAgICAgICAgIGRvY0xpbmVzLnNwbGljZS5hcHBseShkb2NMaW5lcywgYXJncyk7CiAgICAgICAgICAgICAgICBkb2NMaW5lc1tyb3ddID0gbGluZS5zdWJzdHJpbmcoMCwgc3RhcnRDb2x1bW4pICsgZG9jTGluZXNbcm93XTsKICAgICAgICAgICAgICAgIGRvY0xpbmVzW3JvdyArIGRlbHRhLmxpbmVzLmxlbmd0aCAtIDFdICs9IGxpbmUuc3Vic3RyaW5nKHN0YXJ0Q29sdW1uKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICJyZW1vdmUiOgogICAgICAgICAgICB2YXIgZW5kQ29sdW1uID0gZGVsdGEuZW5kLmNvbHVtbjsKICAgICAgICAgICAgdmFyIGVuZFJvdyA9IGRlbHRhLmVuZC5yb3c7CiAgICAgICAgICAgIGlmIChyb3cgPT09IGVuZFJvdykgewogICAgICAgICAgICAgICAgZG9jTGluZXNbcm93XSA9IGxpbmUuc3Vic3RyaW5nKDAsIHN0YXJ0Q29sdW1uKSArIGxpbmUuc3Vic3RyaW5nKGVuZENvbHVtbik7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBkb2NMaW5lcy5zcGxpY2UoCiAgICAgICAgICAgICAgICAgICAgcm93LCBlbmRSb3cgLSByb3cgKyAxLAogICAgICAgICAgICAgICAgICAgIGxpbmUuc3Vic3RyaW5nKDAsIHN0YXJ0Q29sdW1uKSArIGRvY0xpbmVzW2VuZFJvd10uc3Vic3RyaW5nKGVuZENvbHVtbikKICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgYnJlYWs7CiAgICB9Cn07Cn0pOwoKYWNlLmRlZmluZSgiYWNlL2xpYi9ldmVudF9lbWl0dGVyIixbXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7CiJ1c2Ugc3RyaWN0IjsKCnZhciBFdmVudEVtaXR0ZXIgPSB7fTsKdmFyIHN0b3BQcm9wYWdhdGlvbiA9IGZ1bmN0aW9uKCkgeyB0aGlzLnByb3BhZ2F0aW9uU3RvcHBlZCA9IHRydWU7IH07CnZhciBwcmV2ZW50RGVmYXVsdCA9IGZ1bmN0aW9uKCkgeyB0aGlzLmRlZmF1bHRQcmV2ZW50ZWQgPSB0cnVlOyB9OwoKRXZlbnRFbWl0dGVyLl9lbWl0ID0KRXZlbnRFbWl0dGVyLl9kaXNwYXRjaEV2ZW50ID0gZnVuY3Rpb24oZXZlbnROYW1lLCBlKSB7CiAgICB0aGlzLl9ldmVudFJlZ2lzdHJ5IHx8ICh0aGlzLl9ldmVudFJlZ2lzdHJ5ID0ge30pOwogICAgdGhpcy5fZGVmYXVsdEhhbmRsZXJzIHx8ICh0aGlzLl9kZWZhdWx0SGFuZGxlcnMgPSB7fSk7CgogICAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50UmVnaXN0cnlbZXZlbnROYW1lXSB8fCBbXTsKICAgIHZhciBkZWZhdWx0SGFuZGxlciA9IHRoaXMuX2RlZmF1bHRIYW5kbGVyc1tldmVudE5hbWVdOwogICAgaWYgKCFsaXN0ZW5lcnMubGVuZ3RoICYmICFkZWZhdWx0SGFuZGxlcikKICAgICAgICByZXR1cm47CgogICAgaWYgKHR5cGVvZiBlICE9ICJvYmplY3QiIHx8ICFlKQogICAgICAgIGUgPSB7fTsKCiAgICBpZiAoIWUudHlwZSkKICAgICAgICBlLnR5cGUgPSBldmVudE5hbWU7CiAgICBpZiAoIWUuc3RvcFByb3BhZ2F0aW9uKQogICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uID0gc3RvcFByb3BhZ2F0aW9uOwogICAgaWYgKCFlLnByZXZlbnREZWZhdWx0KQogICAgICAgIGUucHJldmVudERlZmF1bHQgPSBwcmV2ZW50RGVmYXVsdDsKCiAgICBsaXN0ZW5lcnMgPSBsaXN0ZW5lcnMuc2xpY2UoKTsKICAgIGZvciAodmFyIGk9MDsgaTxsaXN0ZW5lcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICBsaXN0ZW5lcnNbaV0oZSwgdGhpcyk7CiAgICAgICAgaWYgKGUucHJvcGFnYXRpb25TdG9wcGVkKQogICAgICAgICAgICBicmVhazsKICAgIH0KICAgIAogICAgaWYgKGRlZmF1bHRIYW5kbGVyICYmICFlLmRlZmF1bHRQcmV2ZW50ZWQpCiAgICAgICAgcmV0dXJuIGRlZmF1bHRIYW5kbGVyKGUsIHRoaXMpOwp9OwoKCkV2ZW50RW1pdHRlci5fc2lnbmFsID0gZnVuY3Rpb24oZXZlbnROYW1lLCBlKSB7CiAgICB2YXIgbGlzdGVuZXJzID0gKHRoaXMuX2V2ZW50UmVnaXN0cnkgfHwge30pW2V2ZW50TmFtZV07CiAgICBpZiAoIWxpc3RlbmVycykKICAgICAgICByZXR1cm47CiAgICBsaXN0ZW5lcnMgPSBsaXN0ZW5lcnMuc2xpY2UoKTsKICAgIGZvciAodmFyIGk9MDsgaTxsaXN0ZW5lcnMubGVuZ3RoOyBpKyspCiAgICAgICAgbGlzdGVuZXJzW2ldKGUsIHRoaXMpOwp9OwoKRXZlbnRFbWl0dGVyLm9uY2UgPSBmdW5jdGlvbihldmVudE5hbWUsIGNhbGxiYWNrKSB7CiAgICB2YXIgX3NlbGYgPSB0aGlzOwogICAgdGhpcy5vbihldmVudE5hbWUsIGZ1bmN0aW9uIG5ld0NhbGxiYWNrKCkgewogICAgICAgIF9zZWxmLm9mZihldmVudE5hbWUsIG5ld0NhbGxiYWNrKTsKICAgICAgICBjYWxsYmFjay5hcHBseShudWxsLCBhcmd1bWVudHMpOwogICAgfSk7CiAgICBpZiAoIWNhbGxiYWNrKSB7CiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUpIHsKICAgICAgICAgICAgY2FsbGJhY2sgPSByZXNvbHZlOwogICAgICAgIH0pOwogICAgfQp9OwoKCkV2ZW50RW1pdHRlci5zZXREZWZhdWx0SGFuZGxlciA9IGZ1bmN0aW9uKGV2ZW50TmFtZSwgY2FsbGJhY2spIHsKICAgIHZhciBoYW5kbGVycyA9IHRoaXMuX2RlZmF1bHRIYW5kbGVyczsKICAgIGlmICghaGFuZGxlcnMpCiAgICAgICAgaGFuZGxlcnMgPSB0aGlzLl9kZWZhdWx0SGFuZGxlcnMgPSB7X2Rpc2FibGVkXzoge319OwogICAgCiAgICBpZiAoaGFuZGxlcnNbZXZlbnROYW1lXSkgewogICAgICAgIHZhciBvbGQgPSBoYW5kbGVyc1tldmVudE5hbWVdOwogICAgICAgIHZhciBkaXNhYmxlZCA9IGhhbmRsZXJzLl9kaXNhYmxlZF9bZXZlbnROYW1lXTsKICAgICAgICBpZiAoIWRpc2FibGVkKQogICAgICAgICAgICBoYW5kbGVycy5fZGlzYWJsZWRfW2V2ZW50TmFtZV0gPSBkaXNhYmxlZCA9IFtdOwogICAgICAgIGRpc2FibGVkLnB1c2gob2xkKTsKICAgICAgICB2YXIgaSA9IGRpc2FibGVkLmluZGV4T2YoY2FsbGJhY2spOwogICAgICAgIGlmIChpICE9IC0xKSAKICAgICAgICAgICAgZGlzYWJsZWQuc3BsaWNlKGksIDEpOwogICAgfQogICAgaGFuZGxlcnNbZXZlbnROYW1lXSA9IGNhbGxiYWNrOwp9OwpFdmVudEVtaXR0ZXIucmVtb3ZlRGVmYXVsdEhhbmRsZXIgPSBmdW5jdGlvbihldmVudE5hbWUsIGNhbGxiYWNrKSB7CiAgICB2YXIgaGFuZGxlcnMgPSB0aGlzLl9kZWZhdWx0SGFuZGxlcnM7CiAgICBpZiAoIWhhbmRsZXJzKQogICAgICAgIHJldHVybjsKICAgIHZhciBkaXNhYmxlZCA9IGhhbmRsZXJzLl9kaXNhYmxlZF9bZXZlbnROYW1lXTsKICAgIAogICAgaWYgKGhhbmRsZXJzW2V2ZW50TmFtZV0gPT0gY2FsbGJhY2spIHsKICAgICAgICBpZiAoZGlzYWJsZWQpCiAgICAgICAgICAgIHRoaXMuc2V0RGVmYXVsdEhhbmRsZXIoZXZlbnROYW1lLCBkaXNhYmxlZC5wb3AoKSk7CiAgICB9IGVsc2UgaWYgKGRpc2FibGVkKSB7CiAgICAgICAgdmFyIGkgPSBkaXNhYmxlZC5pbmRleE9mKGNhbGxiYWNrKTsKICAgICAgICBpZiAoaSAhPSAtMSkKICAgICAgICAgICAgZGlzYWJsZWQuc3BsaWNlKGksIDEpOwogICAgfQp9OwoKRXZlbnRFbWl0dGVyLm9uID0KRXZlbnRFbWl0dGVyLmFkZEV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbihldmVudE5hbWUsIGNhbGxiYWNrLCBjYXB0dXJpbmcpIHsKICAgIHRoaXMuX2V2ZW50UmVnaXN0cnkgPSB0aGlzLl9ldmVudFJlZ2lzdHJ5IHx8IHt9OwoKICAgIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudFJlZ2lzdHJ5W2V2ZW50TmFtZV07CiAgICBpZiAoIWxpc3RlbmVycykKICAgICAgICBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudFJlZ2lzdHJ5W2V2ZW50TmFtZV0gPSBbXTsKCiAgICBpZiAobGlzdGVuZXJzLmluZGV4T2YoY2FsbGJhY2spID09IC0xKQogICAgICAgIGxpc3RlbmVyc1tjYXB0dXJpbmcgPyAidW5zaGlmdCIgOiAicHVzaCJdKGNhbGxiYWNrKTsKICAgIHJldHVybiBjYWxsYmFjazsKfTsKCkV2ZW50RW1pdHRlci5vZmYgPQpFdmVudEVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIgPQpFdmVudEVtaXR0ZXIucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uKGV2ZW50TmFtZSwgY2FsbGJhY2spIHsKICAgIHRoaXMuX2V2ZW50UmVnaXN0cnkgPSB0aGlzLl9ldmVudFJlZ2lzdHJ5IHx8IHt9OwoKICAgIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudFJlZ2lzdHJ5W2V2ZW50TmFtZV07CiAgICBpZiAoIWxpc3RlbmVycykKICAgICAgICByZXR1cm47CgogICAgdmFyIGluZGV4ID0gbGlzdGVuZXJzLmluZGV4T2YoY2FsbGJhY2spOwogICAgaWYgKGluZGV4ICE9PSAtMSkKICAgICAgICBsaXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAxKTsKfTsKCkV2ZW50RW1pdHRlci5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBmdW5jdGlvbihldmVudE5hbWUpIHsKICAgIGlmICghZXZlbnROYW1lKSB0aGlzLl9ldmVudFJlZ2lzdHJ5ID0gdGhpcy5fZGVmYXVsdEhhbmRsZXJzID0gdW5kZWZpbmVkOwogICAgaWYgKHRoaXMuX2V2ZW50UmVnaXN0cnkpIHRoaXMuX2V2ZW50UmVnaXN0cnlbZXZlbnROYW1lXSA9IHVuZGVmaW5lZDsKICAgIGlmICh0aGlzLl9kZWZhdWx0SGFuZGxlcnMpIHRoaXMuX2RlZmF1bHRIYW5kbGVyc1tldmVudE5hbWVdID0gdW5kZWZpbmVkOwp9OwoKZXhwb3J0cy5FdmVudEVtaXR0ZXIgPSBFdmVudEVtaXR0ZXI7Cgp9KTsKCmFjZS5kZWZpbmUoImFjZS9hbmNob3IiLFtdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHsKInVzZSBzdHJpY3QiOwoKdmFyIG9vcCA9IHJlcXVpcmUoIi4vbGliL29vcCIpOwp2YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgiLi9saWIvZXZlbnRfZW1pdHRlciIpLkV2ZW50RW1pdHRlcjsKCnZhciBBbmNob3IgPSBleHBvcnRzLkFuY2hvciA9IGZ1bmN0aW9uKGRvYywgcm93LCBjb2x1bW4pIHsKICAgIHRoaXMuJG9uQ2hhbmdlID0gdGhpcy5vbkNoYW5nZS5iaW5kKHRoaXMpOwogICAgdGhpcy5hdHRhY2goZG9jKTsKICAgIAogICAgaWYgKHR5cGVvZiBjb2x1bW4gPT0gInVuZGVmaW5lZCIpCiAgICAgICAgdGhpcy5zZXRQb3NpdGlvbihyb3cucm93LCByb3cuY29sdW1uKTsKICAgIGVsc2UKICAgICAgICB0aGlzLnNldFBvc2l0aW9uKHJvdywgY29sdW1uKTsKfTsKCihmdW5jdGlvbigpIHsKCiAgICBvb3AuaW1wbGVtZW50KHRoaXMsIEV2ZW50RW1pdHRlcik7CiAgICB0aGlzLmdldFBvc2l0aW9uID0gZnVuY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJGNsaXBQb3NpdGlvblRvRG9jdW1lbnQodGhpcy5yb3csIHRoaXMuY29sdW1uKTsKICAgIH07CiAgICB0aGlzLmdldERvY3VtZW50ID0gZnVuY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZG9jdW1lbnQ7CiAgICB9OwogICAgdGhpcy4kaW5zZXJ0UmlnaHQgPSBmYWxzZTsKICAgIHRoaXMub25DaGFuZ2UgPSBmdW5jdGlvbihkZWx0YSkgewogICAgICAgIGlmIChkZWx0YS5zdGFydC5yb3cgPT0gZGVsdGEuZW5kLnJvdyAmJiBkZWx0YS5zdGFydC5yb3cgIT0gdGhpcy5yb3cpCiAgICAgICAgICAgIHJldHVybjsKCiAgICAgICAgaWYgKGRlbHRhLnN0YXJ0LnJvdyA+IHRoaXMucm93KQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIAogICAgICAgIHZhciBwb2ludCA9ICRnZXRUcmFuc2Zvcm1lZFBvaW50KGRlbHRhLCB7cm93OiB0aGlzLnJvdywgY29sdW1uOiB0aGlzLmNvbHVtbn0sIHRoaXMuJGluc2VydFJpZ2h0KTsKICAgICAgICB0aGlzLnNldFBvc2l0aW9uKHBvaW50LnJvdywgcG9pbnQuY29sdW1uLCB0cnVlKTsKICAgIH07CiAgICAKICAgIGZ1bmN0aW9uICRwb2ludHNJbk9yZGVyKHBvaW50MSwgcG9pbnQyLCBlcXVhbFBvaW50c0luT3JkZXIpIHsKICAgICAgICB2YXIgYkNvbElzQWZ0ZXIgPSBlcXVhbFBvaW50c0luT3JkZXIgPyBwb2ludDEuY29sdW1uIDw9IHBvaW50Mi5jb2x1bW4gOiBwb2ludDEuY29sdW1uIDwgcG9pbnQyLmNvbHVtbjsKICAgICAgICByZXR1cm4gKHBvaW50MS5yb3cgPCBwb2ludDIucm93KSB8fCAocG9pbnQxLnJvdyA9PSBwb2ludDIucm93ICYmIGJDb2xJc0FmdGVyKTsKICAgIH0KICAgICAgICAgICAgCiAgICBmdW5jdGlvbiAkZ2V0VHJhbnNmb3JtZWRQb2ludChkZWx0YSwgcG9pbnQsIG1vdmVJZkVxdWFsKSB7CiAgICAgICAgdmFyIGRlbHRhSXNJbnNlcnQgPSBkZWx0YS5hY3Rpb24gPT0gImluc2VydCI7CiAgICAgICAgdmFyIGRlbHRhUm93U2hpZnQgPSAoZGVsdGFJc0luc2VydCA/IDEgOiAtMSkgKiAoZGVsdGEuZW5kLnJvdyAgICAtIGRlbHRhLnN0YXJ0LnJvdyk7CiAgICAgICAgdmFyIGRlbHRhQ29sU2hpZnQgPSAoZGVsdGFJc0luc2VydCA/IDEgOiAtMSkgKiAoZGVsdGEuZW5kLmNvbHVtbiAtIGRlbHRhLnN0YXJ0LmNvbHVtbik7CiAgICAgICAgdmFyIGRlbHRhU3RhcnQgPSBkZWx0YS5zdGFydDsKICAgICAgICB2YXIgZGVsdGFFbmQgPSBkZWx0YUlzSW5zZXJ0ID8gZGVsdGFTdGFydCA6IGRlbHRhLmVuZDsgLy8gQ29sbGFwc2UgaW5zZXJ0IHJhbmdlLgogICAgICAgIGlmICgkcG9pbnRzSW5PcmRlcihwb2ludCwgZGVsdGFTdGFydCwgbW92ZUlmRXF1YWwpKSB7CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICByb3c6IHBvaW50LnJvdywKICAgICAgICAgICAgICAgIGNvbHVtbjogcG9pbnQuY29sdW1uCiAgICAgICAgICAgIH07CiAgICAgICAgfQogICAgICAgIGlmICgkcG9pbnRzSW5PcmRlcihkZWx0YUVuZCwgcG9pbnQsICFtb3ZlSWZFcXVhbCkpIHsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIHJvdzogcG9pbnQucm93ICsgZGVsdGFSb3dTaGlmdCwKICAgICAgICAgICAgICAgIGNvbHVtbjogcG9pbnQuY29sdW1uICsgKHBvaW50LnJvdyA9PSBkZWx0YUVuZC5yb3cgPyBkZWx0YUNvbFNoaWZ0IDogMCkKICAgICAgICAgICAgfTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgcm93OiBkZWx0YVN0YXJ0LnJvdywKICAgICAgICAgICAgY29sdW1uOiBkZWx0YVN0YXJ0LmNvbHVtbgogICAgICAgIH07CiAgICB9CiAgICB0aGlzLnNldFBvc2l0aW9uID0gZnVuY3Rpb24ocm93LCBjb2x1bW4sIG5vQ2xpcCkgewogICAgICAgIHZhciBwb3M7CiAgICAgICAgaWYgKG5vQ2xpcCkgewogICAgICAgICAgICBwb3MgPSB7CiAgICAgICAgICAgICAgICByb3c6IHJvdywKICAgICAgICAgICAgICAgIGNvbHVtbjogY29sdW1uCiAgICAgICAgICAgIH07CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcG9zID0gdGhpcy4kY2xpcFBvc2l0aW9uVG9Eb2N1bWVudChyb3csIGNvbHVtbik7CiAgICAgICAgfQoKICAgICAgICBpZiAodGhpcy5yb3cgPT0gcG9zLnJvdyAmJiB0aGlzLmNvbHVtbiA9PSBwb3MuY29sdW1uKQogICAgICAgICAgICByZXR1cm47CgogICAgICAgIHZhciBvbGQgPSB7CiAgICAgICAgICAgIHJvdzogdGhpcy5yb3csCiAgICAgICAgICAgIGNvbHVtbjogdGhpcy5jb2x1bW4KICAgICAgICB9OwoKICAgICAgICB0aGlzLnJvdyA9IHBvcy5yb3c7CiAgICAgICAgdGhpcy5jb2x1bW4gPSBwb3MuY29sdW1uOwogICAgICAgIHRoaXMuX3NpZ25hbCgiY2hhbmdlIiwgewogICAgICAgICAgICBvbGQ6IG9sZCwKICAgICAgICAgICAgdmFsdWU6IHBvcwogICAgICAgIH0pOwogICAgfTsKICAgIHRoaXMuZGV0YWNoID0gZnVuY3Rpb24oKSB7CiAgICAgICAgdGhpcy5kb2N1bWVudC5vZmYoImNoYW5nZSIsIHRoaXMuJG9uQ2hhbmdlKTsKICAgIH07CiAgICB0aGlzLmF0dGFjaCA9IGZ1bmN0aW9uKGRvYykgewogICAgICAgIHRoaXMuZG9jdW1lbnQgPSBkb2MgfHwgdGhpcy5kb2N1bWVudDsKICAgICAgICB0aGlzLmRvY3VtZW50Lm9uKCJjaGFuZ2UiLCB0aGlzLiRvbkNoYW5nZSk7CiAgICB9OwogICAgdGhpcy4kY2xpcFBvc2l0aW9uVG9Eb2N1bWVudCA9IGZ1bmN0aW9uKHJvdywgY29sdW1uKSB7CiAgICAgICAgdmFyIHBvcyA9IHt9OwoKICAgICAgICBpZiAocm93ID49IHRoaXMuZG9jdW1lbnQuZ2V0TGVuZ3RoKCkpIHsKICAgICAgICAgICAgcG9zLnJvdyA9IE1hdGgubWF4KDAsIHRoaXMuZG9jdW1lbnQuZ2V0TGVuZ3RoKCkgLSAxKTsKICAgICAgICAgICAgcG9zLmNvbHVtbiA9IHRoaXMuZG9jdW1lbnQuZ2V0TGluZShwb3Mucm93KS5sZW5ndGg7CiAgICAgICAgfQogICAgICAgIGVsc2UgaWYgKHJvdyA8IDApIHsKICAgICAgICAgICAgcG9zLnJvdyA9IDA7CiAgICAgICAgICAgIHBvcy5jb2x1bW4gPSAwOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgcG9zLnJvdyA9IHJvdzsKICAgICAgICAgICAgcG9zLmNvbHVtbiA9IE1hdGgubWluKHRoaXMuZG9jdW1lbnQuZ2V0TGluZShwb3Mucm93KS5sZW5ndGgsIE1hdGgubWF4KDAsIGNvbHVtbikpOwogICAgICAgIH0KCiAgICAgICAgaWYgKGNvbHVtbiA8IDApCiAgICAgICAgICAgIHBvcy5jb2x1bW4gPSAwOwoKICAgICAgICByZXR1cm4gcG9zOwogICAgfTsKCn0pLmNhbGwoQW5jaG9yLnByb3RvdHlwZSk7Cgp9KTsKCmFjZS5kZWZpbmUoImFjZS9kb2N1bWVudCIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkgewoidXNlIHN0cmljdCI7Cgp2YXIgb29wID0gcmVxdWlyZSgiLi9saWIvb29wIik7CnZhciBhcHBseURlbHRhID0gcmVxdWlyZSgiLi9hcHBseV9kZWx0YSIpLmFwcGx5RGVsdGE7CnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCIuL2xpYi9ldmVudF9lbWl0dGVyIikuRXZlbnRFbWl0dGVyOwp2YXIgUmFuZ2UgPSByZXF1aXJlKCIuL3JhbmdlIikuUmFuZ2U7CnZhciBBbmNob3IgPSByZXF1aXJlKCIuL2FuY2hvciIpLkFuY2hvcjsKCnZhciBEb2N1bWVudCA9IGZ1bmN0aW9uKHRleHRPckxpbmVzKSB7CiAgICB0aGlzLiRsaW5lcyA9IFsiIl07CiAgICBpZiAodGV4dE9yTGluZXMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgdGhpcy4kbGluZXMgPSBbIiJdOwogICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHRleHRPckxpbmVzKSkgewogICAgICAgIHRoaXMuaW5zZXJ0TWVyZ2VkTGluZXMoe3JvdzogMCwgY29sdW1uOiAwfSwgdGV4dE9yTGluZXMpOwogICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmluc2VydCh7cm93OiAwLCBjb2x1bW46MH0sIHRleHRPckxpbmVzKTsKICAgIH0KfTsKCihmdW5jdGlvbigpIHsKCiAgICBvb3AuaW1wbGVtZW50KHRoaXMsIEV2ZW50RW1pdHRlcik7CiAgICB0aGlzLnNldFZhbHVlID0gZnVuY3Rpb24odGV4dCkgewogICAgICAgIHZhciBsZW4gPSB0aGlzLmdldExlbmd0aCgpIC0gMTsKICAgICAgICB0aGlzLnJlbW92ZShuZXcgUmFuZ2UoMCwgMCwgbGVuLCB0aGlzLmdldExpbmUobGVuKS5sZW5ndGgpKTsKICAgICAgICB0aGlzLmluc2VydCh7cm93OiAwLCBjb2x1bW46IDB9LCB0ZXh0KTsKICAgIH07CiAgICB0aGlzLmdldFZhbHVlID0gZnVuY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QWxsTGluZXMoKS5qb2luKHRoaXMuZ2V0TmV3TGluZUNoYXJhY3RlcigpKTsKICAgIH07CiAgICB0aGlzLmNyZWF0ZUFuY2hvciA9IGZ1bmN0aW9uKHJvdywgY29sdW1uKSB7CiAgICAgICAgcmV0dXJuIG5ldyBBbmNob3IodGhpcywgcm93LCBjb2x1bW4pOwogICAgfTsKICAgIGlmICgiYWFhIi5zcGxpdCgvYS8pLmxlbmd0aCA9PT0gMCkgewogICAgICAgIHRoaXMuJHNwbGl0ID0gZnVuY3Rpb24odGV4dCkgewogICAgICAgICAgICByZXR1cm4gdGV4dC5yZXBsYWNlKC9cclxufFxyL2csICJcbiIpLnNwbGl0KCJcbiIpOwogICAgICAgIH07CiAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJHNwbGl0ID0gZnVuY3Rpb24odGV4dCkgewogICAgICAgICAgICByZXR1cm4gdGV4dC5zcGxpdCgvXHJcbnxccnxcbi8pOwogICAgICAgIH07CiAgICB9CgoKICAgIHRoaXMuJGRldGVjdE5ld0xpbmUgPSBmdW5jdGlvbih0ZXh0KSB7CiAgICAgICAgdmFyIG1hdGNoID0gdGV4dC5tYXRjaCgvXi4qPyhcclxufFxyfFxuKS9tKTsKICAgICAgICB0aGlzLiRhdXRvTmV3TGluZSA9IG1hdGNoID8gbWF0Y2hbMV0gOiAiXG4iOwogICAgICAgIHRoaXMuX3NpZ25hbCgiY2hhbmdlTmV3TGluZU1vZGUiKTsKICAgIH07CiAgICB0aGlzLmdldE5ld0xpbmVDaGFyYWN0ZXIgPSBmdW5jdGlvbigpIHsKICAgICAgICBzd2l0Y2ggKHRoaXMuJG5ld0xpbmVNb2RlKSB7CiAgICAgICAgICBjYXNlICJ3aW5kb3dzIjoKICAgICAgICAgICAgcmV0dXJuICJcclxuIjsKICAgICAgICAgIGNhc2UgInVuaXgiOgogICAgICAgICAgICByZXR1cm4gIlxuIjsKICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgIHJldHVybiB0aGlzLiRhdXRvTmV3TGluZSB8fCAiXG4iOwogICAgICAgIH0KICAgIH07CgogICAgdGhpcy4kYXV0b05ld0xpbmUgPSAiIjsKICAgIHRoaXMuJG5ld0xpbmVNb2RlID0gImF1dG8iOwogICAgdGhpcy5zZXROZXdMaW5lTW9kZSA9IGZ1bmN0aW9uKG5ld0xpbmVNb2RlKSB7CiAgICAgICAgaWYgKHRoaXMuJG5ld0xpbmVNb2RlID09PSBuZXdMaW5lTW9kZSkKICAgICAgICAgICAgcmV0dXJuOwoKICAgICAgICB0aGlzLiRuZXdMaW5lTW9kZSA9IG5ld0xpbmVNb2RlOwogICAgICAgIHRoaXMuX3NpZ25hbCgiY2hhbmdlTmV3TGluZU1vZGUiKTsKICAgIH07CiAgICB0aGlzLmdldE5ld0xpbmVNb2RlID0gZnVuY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJG5ld0xpbmVNb2RlOwogICAgfTsKICAgIHRoaXMuaXNOZXdMaW5lID0gZnVuY3Rpb24odGV4dCkgewogICAgICAgIHJldHVybiAodGV4dCA9PSAiXHJcbiIgfHwgdGV4dCA9PSAiXHIiIHx8IHRleHQgPT0gIlxuIik7CiAgICB9OwogICAgdGhpcy5nZXRMaW5lID0gZnVuY3Rpb24ocm93KSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJGxpbmVzW3Jvd10gfHwgIiI7CiAgICB9OwogICAgdGhpcy5nZXRMaW5lcyA9IGZ1bmN0aW9uKGZpcnN0Um93LCBsYXN0Um93KSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJGxpbmVzLnNsaWNlKGZpcnN0Um93LCBsYXN0Um93ICsgMSk7CiAgICB9OwogICAgdGhpcy5nZXRBbGxMaW5lcyA9IGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiB0aGlzLmdldExpbmVzKDAsIHRoaXMuZ2V0TGVuZ3RoKCkpOwogICAgfTsKICAgIHRoaXMuZ2V0TGVuZ3RoID0gZnVuY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJGxpbmVzLmxlbmd0aDsKICAgIH07CiAgICB0aGlzLmdldFRleHRSYW5nZSA9IGZ1bmN0aW9uKHJhbmdlKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TGluZXNGb3JSYW5nZShyYW5nZSkuam9pbih0aGlzLmdldE5ld0xpbmVDaGFyYWN0ZXIoKSk7CiAgICB9OwogICAgdGhpcy5nZXRMaW5lc0ZvclJhbmdlID0gZnVuY3Rpb24ocmFuZ2UpIHsKICAgICAgICB2YXIgbGluZXM7CiAgICAgICAgaWYgKHJhbmdlLnN0YXJ0LnJvdyA9PT0gcmFuZ2UuZW5kLnJvdykgewogICAgICAgICAgICBsaW5lcyA9IFt0aGlzLmdldExpbmUocmFuZ2Uuc3RhcnQucm93KS5zdWJzdHJpbmcocmFuZ2Uuc3RhcnQuY29sdW1uLCByYW5nZS5lbmQuY29sdW1uKV07CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgbGluZXMgPSB0aGlzLmdldExpbmVzKHJhbmdlLnN0YXJ0LnJvdywgcmFuZ2UuZW5kLnJvdyk7CiAgICAgICAgICAgIGxpbmVzWzBdID0gKGxpbmVzWzBdIHx8ICIiKS5zdWJzdHJpbmcocmFuZ2Uuc3RhcnQuY29sdW1uKTsKICAgICAgICAgICAgdmFyIGwgPSBsaW5lcy5sZW5ndGggLSAxOwogICAgICAgICAgICBpZiAocmFuZ2UuZW5kLnJvdyAtIHJhbmdlLnN0YXJ0LnJvdyA9PSBsKQogICAgICAgICAgICAgICAgbGluZXNbbF0gPSBsaW5lc1tsXS5zdWJzdHJpbmcoMCwgcmFuZ2UuZW5kLmNvbHVtbik7CiAgICAgICAgfQogICAgICAgIHJldHVybiBsaW5lczsKICAgIH07CiAgICB0aGlzLmluc2VydExpbmVzID0gZnVuY3Rpb24ocm93LCBsaW5lcykgewogICAgICAgIGNvbnNvbGUud2FybigiVXNlIG9mIGRvY3VtZW50Lmluc2VydExpbmVzIGlzIGRlcHJlY2F0ZWQuIFVzZSB0aGUgaW5zZXJ0RnVsbExpbmVzIG1ldGhvZCBpbnN0ZWFkLiIpOwogICAgICAgIHJldHVybiB0aGlzLmluc2VydEZ1bGxMaW5lcyhyb3csIGxpbmVzKTsKICAgIH07CiAgICB0aGlzLnJlbW92ZUxpbmVzID0gZnVuY3Rpb24oZmlyc3RSb3csIGxhc3RSb3cpIHsKICAgICAgICBjb25zb2xlLndhcm4oIlVzZSBvZiBkb2N1bWVudC5yZW1vdmVMaW5lcyBpcyBkZXByZWNhdGVkLiBVc2UgdGhlIHJlbW92ZUZ1bGxMaW5lcyBtZXRob2QgaW5zdGVhZC4iKTsKICAgICAgICByZXR1cm4gdGhpcy5yZW1vdmVGdWxsTGluZXMoZmlyc3RSb3csIGxhc3RSb3cpOwogICAgfTsKICAgIHRoaXMuaW5zZXJ0TmV3TGluZSA9IGZ1bmN0aW9uKHBvc2l0aW9uKSB7CiAgICAgICAgY29uc29sZS53YXJuKCJVc2Ugb2YgZG9jdW1lbnQuaW5zZXJ0TmV3TGluZSBpcyBkZXByZWNhdGVkLiBVc2UgaW5zZXJ0TWVyZ2VkTGluZXMocG9zaXRpb24sIFsnJywgJyddKSBpbnN0ZWFkLiIpOwogICAgICAgIHJldHVybiB0aGlzLmluc2VydE1lcmdlZExpbmVzKHBvc2l0aW9uLCBbIiIsICIiXSk7CiAgICB9OwogICAgdGhpcy5pbnNlcnQgPSBmdW5jdGlvbihwb3NpdGlvbiwgdGV4dCkgewogICAgICAgIGlmICh0aGlzLmdldExlbmd0aCgpIDw9IDEpCiAgICAgICAgICAgIHRoaXMuJGRldGVjdE5ld0xpbmUodGV4dCk7CiAgICAgICAgCiAgICAgICAgcmV0dXJuIHRoaXMuaW5zZXJ0TWVyZ2VkTGluZXMocG9zaXRpb24sIHRoaXMuJHNwbGl0KHRleHQpKTsKICAgIH07CiAgICB0aGlzLmluc2VydEluTGluZSA9IGZ1bmN0aW9uKHBvc2l0aW9uLCB0ZXh0KSB7CiAgICAgICAgdmFyIHN0YXJ0ID0gdGhpcy5jbGlwcGVkUG9zKHBvc2l0aW9uLnJvdywgcG9zaXRpb24uY29sdW1uKTsKICAgICAgICB2YXIgZW5kID0gdGhpcy5wb3MocG9zaXRpb24ucm93LCBwb3NpdGlvbi5jb2x1bW4gKyB0ZXh0Lmxlbmd0aCk7CiAgICAgICAgCiAgICAgICAgdGhpcy5hcHBseURlbHRhKHsKICAgICAgICAgICAgc3RhcnQ6IHN0YXJ0LAogICAgICAgICAgICBlbmQ6IGVuZCwKICAgICAgICAgICAgYWN0aW9uOiAiaW5zZXJ0IiwKICAgICAgICAgICAgbGluZXM6IFt0ZXh0XQogICAgICAgIH0sIHRydWUpOwogICAgICAgIAogICAgICAgIHJldHVybiB0aGlzLmNsb25lUG9zKGVuZCk7CiAgICB9OwogICAgCiAgICB0aGlzLmNsaXBwZWRQb3MgPSBmdW5jdGlvbihyb3csIGNvbHVtbikgewogICAgICAgIHZhciBsZW5ndGggPSB0aGlzLmdldExlbmd0aCgpOwogICAgICAgIGlmIChyb3cgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICByb3cgPSBsZW5ndGg7CiAgICAgICAgfSBlbHNlIGlmIChyb3cgPCAwKSB7CiAgICAgICAgICAgIHJvdyA9IDA7CiAgICAgICAgfSBlbHNlIGlmIChyb3cgPj0gbGVuZ3RoKSB7CiAgICAgICAgICAgIHJvdyA9IGxlbmd0aCAtIDE7CiAgICAgICAgICAgIGNvbHVtbiA9IHVuZGVmaW5lZDsKICAgICAgICB9CiAgICAgICAgdmFyIGxpbmUgPSB0aGlzLmdldExpbmUocm93KTsKICAgICAgICBpZiAoY29sdW1uID09IHVuZGVmaW5lZCkKICAgICAgICAgICAgY29sdW1uID0gbGluZS5sZW5ndGg7CiAgICAgICAgY29sdW1uID0gTWF0aC5taW4oTWF0aC5tYXgoY29sdW1uLCAwKSwgbGluZS5sZW5ndGgpOwogICAgICAgIHJldHVybiB7cm93OiByb3csIGNvbHVtbjogY29sdW1ufTsKICAgIH07CiAgICAKICAgIHRoaXMuY2xvbmVQb3MgPSBmdW5jdGlvbihwb3MpIHsKICAgICAgICByZXR1cm4ge3JvdzogcG9zLnJvdywgY29sdW1uOiBwb3MuY29sdW1ufTsKICAgIH07CiAgICAKICAgIHRoaXMucG9zID0gZnVuY3Rpb24ocm93LCBjb2x1bW4pIHsKICAgICAgICByZXR1cm4ge3Jvdzogcm93LCBjb2x1bW46IGNvbHVtbn07CiAgICB9OwogICAgCiAgICB0aGlzLiRjbGlwUG9zaXRpb24gPSBmdW5jdGlvbihwb3NpdGlvbikgewogICAgICAgIHZhciBsZW5ndGggPSB0aGlzLmdldExlbmd0aCgpOwogICAgICAgIGlmIChwb3NpdGlvbi5yb3cgPj0gbGVuZ3RoKSB7CiAgICAgICAgICAgIHBvc2l0aW9uLnJvdyA9IE1hdGgubWF4KDAsIGxlbmd0aCAtIDEpOwogICAgICAgICAgICBwb3NpdGlvbi5jb2x1bW4gPSB0aGlzLmdldExpbmUobGVuZ3RoIC0gMSkubGVuZ3RoOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHBvc2l0aW9uLnJvdyA9IE1hdGgubWF4KDAsIHBvc2l0aW9uLnJvdyk7CiAgICAgICAgICAgIHBvc2l0aW9uLmNvbHVtbiA9IE1hdGgubWluKE1hdGgubWF4KHBvc2l0aW9uLmNvbHVtbiwgMCksIHRoaXMuZ2V0TGluZShwb3NpdGlvbi5yb3cpLmxlbmd0aCk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBwb3NpdGlvbjsKICAgIH07CiAgICB0aGlzLmluc2VydEZ1bGxMaW5lcyA9IGZ1bmN0aW9uKHJvdywgbGluZXMpIHsKICAgICAgICByb3cgPSBNYXRoLm1pbihNYXRoLm1heChyb3csIDApLCB0aGlzLmdldExlbmd0aCgpKTsKICAgICAgICB2YXIgY29sdW1uID0gMDsKICAgICAgICBpZiAocm93IDwgdGhpcy5nZXRMZW5ndGgoKSkgewogICAgICAgICAgICBsaW5lcyA9IGxpbmVzLmNvbmNhdChbIiJdKTsKICAgICAgICAgICAgY29sdW1uID0gMDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBsaW5lcyA9IFsiIl0uY29uY2F0KGxpbmVzKTsKICAgICAgICAgICAgcm93LS07CiAgICAgICAgICAgIGNvbHVtbiA9IHRoaXMuJGxpbmVzW3Jvd10ubGVuZ3RoOwogICAgICAgIH0KICAgICAgICB0aGlzLmluc2VydE1lcmdlZExpbmVzKHtyb3c6IHJvdywgY29sdW1uOiBjb2x1bW59LCBsaW5lcyk7CiAgICB9OyAgICAKICAgIHRoaXMuaW5zZXJ0TWVyZ2VkTGluZXMgPSBmdW5jdGlvbihwb3NpdGlvbiwgbGluZXMpIHsKICAgICAgICB2YXIgc3RhcnQgPSB0aGlzLmNsaXBwZWRQb3MocG9zaXRpb24ucm93LCBwb3NpdGlvbi5jb2x1bW4pOwogICAgICAgIHZhciBlbmQgPSB7CiAgICAgICAgICAgIHJvdzogc3RhcnQucm93ICsgbGluZXMubGVuZ3RoIC0gMSwKICAgICAgICAgICAgY29sdW1uOiAobGluZXMubGVuZ3RoID09IDEgPyBzdGFydC5jb2x1bW4gOiAwKSArIGxpbmVzW2xpbmVzLmxlbmd0aCAtIDFdLmxlbmd0aAogICAgICAgIH07CiAgICAgICAgCiAgICAgICAgdGhpcy5hcHBseURlbHRhKHsKICAgICAgICAgICAgc3RhcnQ6IHN0YXJ0LAogICAgICAgICAgICBlbmQ6IGVuZCwKICAgICAgICAgICAgYWN0aW9uOiAiaW5zZXJ0IiwKICAgICAgICAgICAgbGluZXM6IGxpbmVzCiAgICAgICAgfSk7CiAgICAgICAgCiAgICAgICAgcmV0dXJuIHRoaXMuY2xvbmVQb3MoZW5kKTsKICAgIH07CiAgICB0aGlzLnJlbW92ZSA9IGZ1bmN0aW9uKHJhbmdlKSB7CiAgICAgICAgdmFyIHN0YXJ0ID0gdGhpcy5jbGlwcGVkUG9zKHJhbmdlLnN0YXJ0LnJvdywgcmFuZ2Uuc3RhcnQuY29sdW1uKTsKICAgICAgICB2YXIgZW5kID0gdGhpcy5jbGlwcGVkUG9zKHJhbmdlLmVuZC5yb3csIHJhbmdlLmVuZC5jb2x1bW4pOwogICAgICAgIHRoaXMuYXBwbHlEZWx0YSh7CiAgICAgICAgICAgIHN0YXJ0OiBzdGFydCwKICAgICAgICAgICAgZW5kOiBlbmQsCiAgICAgICAgICAgIGFjdGlvbjogInJlbW92ZSIsCiAgICAgICAgICAgIGxpbmVzOiB0aGlzLmdldExpbmVzRm9yUmFuZ2Uoe3N0YXJ0OiBzdGFydCwgZW5kOiBlbmR9KQogICAgICAgIH0pOwogICAgICAgIHJldHVybiB0aGlzLmNsb25lUG9zKHN0YXJ0KTsKICAgIH07CiAgICB0aGlzLnJlbW92ZUluTGluZSA9IGZ1bmN0aW9uKHJvdywgc3RhcnRDb2x1bW4sIGVuZENvbHVtbikgewogICAgICAgIHZhciBzdGFydCA9IHRoaXMuY2xpcHBlZFBvcyhyb3csIHN0YXJ0Q29sdW1uKTsKICAgICAgICB2YXIgZW5kID0gdGhpcy5jbGlwcGVkUG9zKHJvdywgZW5kQ29sdW1uKTsKICAgICAgICAKICAgICAgICB0aGlzLmFwcGx5RGVsdGEoewogICAgICAgICAgICBzdGFydDogc3RhcnQsCiAgICAgICAgICAgIGVuZDogZW5kLAogICAgICAgICAgICBhY3Rpb246ICJyZW1vdmUiLAogICAgICAgICAgICBsaW5lczogdGhpcy5nZXRMaW5lc0ZvclJhbmdlKHtzdGFydDogc3RhcnQsIGVuZDogZW5kfSkKICAgICAgICB9LCB0cnVlKTsKICAgICAgICAKICAgICAgICByZXR1cm4gdGhpcy5jbG9uZVBvcyhzdGFydCk7CiAgICB9OwogICAgdGhpcy5yZW1vdmVGdWxsTGluZXMgPSBmdW5jdGlvbihmaXJzdFJvdywgbGFzdFJvdykgewogICAgICAgIGZpcnN0Um93ID0gTWF0aC5taW4oTWF0aC5tYXgoMCwgZmlyc3RSb3cpLCB0aGlzLmdldExlbmd0aCgpIC0gMSk7CiAgICAgICAgbGFzdFJvdyAgPSBNYXRoLm1pbihNYXRoLm1heCgwLCBsYXN0Um93ICksIHRoaXMuZ2V0TGVuZ3RoKCkgLSAxKTsKICAgICAgICB2YXIgZGVsZXRlRmlyc3ROZXdMaW5lID0gbGFzdFJvdyA9PSB0aGlzLmdldExlbmd0aCgpIC0gMSAmJiBmaXJzdFJvdyA+IDA7CiAgICAgICAgdmFyIGRlbGV0ZUxhc3ROZXdMaW5lICA9IGxhc3RSb3cgIDwgdGhpcy5nZXRMZW5ndGgoKSAtIDE7CiAgICAgICAgdmFyIHN0YXJ0Um93ID0gKCBkZWxldGVGaXJzdE5ld0xpbmUgPyBmaXJzdFJvdyAtIDEgICAgICAgICAgICAgICAgICA6IGZpcnN0Um93ICAgICAgICAgICAgICAgICAgICApOwogICAgICAgIHZhciBzdGFydENvbCA9ICggZGVsZXRlRmlyc3ROZXdMaW5lID8gdGhpcy5nZXRMaW5lKHN0YXJ0Um93KS5sZW5ndGggOiAwICAgICAgICAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICB2YXIgZW5kUm93ICAgPSAoIGRlbGV0ZUxhc3ROZXdMaW5lICA/IGxhc3RSb3cgKyAxICAgICAgICAgICAgICAgICAgIDogbGFzdFJvdyAgICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgdmFyIGVuZENvbCAgID0gKCBkZWxldGVMYXN0TmV3TGluZSAgPyAwICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHRoaXMuZ2V0TGluZShlbmRSb3cpLmxlbmd0aCApOyAKICAgICAgICB2YXIgcmFuZ2UgPSBuZXcgUmFuZ2Uoc3RhcnRSb3csIHN0YXJ0Q29sLCBlbmRSb3csIGVuZENvbCk7CiAgICAgICAgdmFyIGRlbGV0ZWRMaW5lcyA9IHRoaXMuJGxpbmVzLnNsaWNlKGZpcnN0Um93LCBsYXN0Um93ICsgMSk7CiAgICAgICAgCiAgICAgICAgdGhpcy5hcHBseURlbHRhKHsKICAgICAgICAgICAgc3RhcnQ6IHJhbmdlLnN0YXJ0LAogICAgICAgICAgICBlbmQ6IHJhbmdlLmVuZCwKICAgICAgICAgICAgYWN0aW9uOiAicmVtb3ZlIiwKICAgICAgICAgICAgbGluZXM6IHRoaXMuZ2V0TGluZXNGb3JSYW5nZShyYW5nZSkKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gZGVsZXRlZExpbmVzOwogICAgfTsKICAgIHRoaXMucmVtb3ZlTmV3TGluZSA9IGZ1bmN0aW9uKHJvdykgewogICAgICAgIGlmIChyb3cgPCB0aGlzLmdldExlbmd0aCgpIC0gMSAmJiByb3cgPj0gMCkgewogICAgICAgICAgICB0aGlzLmFwcGx5RGVsdGEoewogICAgICAgICAgICAgICAgc3RhcnQ6IHRoaXMucG9zKHJvdywgdGhpcy5nZXRMaW5lKHJvdykubGVuZ3RoKSwKICAgICAgICAgICAgICAgIGVuZDogdGhpcy5wb3Mocm93ICsgMSwgMCksCiAgICAgICAgICAgICAgICBhY3Rpb246ICJyZW1vdmUiLAogICAgICAgICAgICAgICAgbGluZXM6IFsiIiwgIiJdCiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgIH07CiAgICB0aGlzLnJlcGxhY2UgPSBmdW5jdGlvbihyYW5nZSwgdGV4dCkgewogICAgICAgIGlmICghKHJhbmdlIGluc3RhbmNlb2YgUmFuZ2UpKQogICAgICAgICAgICByYW5nZSA9IFJhbmdlLmZyb21Qb2ludHMocmFuZ2Uuc3RhcnQsIHJhbmdlLmVuZCk7CiAgICAgICAgaWYgKHRleHQubGVuZ3RoID09PSAwICYmIHJhbmdlLmlzRW1wdHkoKSkKICAgICAgICAgICAgcmV0dXJuIHJhbmdlLnN0YXJ0OwogICAgICAgIGlmICh0ZXh0ID09IHRoaXMuZ2V0VGV4dFJhbmdlKHJhbmdlKSkKICAgICAgICAgICAgcmV0dXJuIHJhbmdlLmVuZDsKCiAgICAgICAgdGhpcy5yZW1vdmUocmFuZ2UpOwogICAgICAgIHZhciBlbmQ7CiAgICAgICAgaWYgKHRleHQpIHsKICAgICAgICAgICAgZW5kID0gdGhpcy5pbnNlcnQocmFuZ2Uuc3RhcnQsIHRleHQpOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgZW5kID0gcmFuZ2Uuc3RhcnQ7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIHJldHVybiBlbmQ7CiAgICB9OwogICAgdGhpcy5hcHBseURlbHRhcyA9IGZ1bmN0aW9uKGRlbHRhcykgewogICAgICAgIGZvciAodmFyIGk9MDsgaTxkZWx0YXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgdGhpcy5hcHBseURlbHRhKGRlbHRhc1tpXSk7CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMucmV2ZXJ0RGVsdGFzID0gZnVuY3Rpb24oZGVsdGFzKSB7CiAgICAgICAgZm9yICh2YXIgaT1kZWx0YXMubGVuZ3RoLTE7IGk+PTA7IGktLSkgewogICAgICAgICAgICB0aGlzLnJldmVydERlbHRhKGRlbHRhc1tpXSk7CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMuYXBwbHlEZWx0YSA9IGZ1bmN0aW9uKGRlbHRhLCBkb05vdFZhbGlkYXRlKSB7CiAgICAgICAgdmFyIGlzSW5zZXJ0ID0gZGVsdGEuYWN0aW9uID09ICJpbnNlcnQiOwogICAgICAgIGlmIChpc0luc2VydCA/IGRlbHRhLmxpbmVzLmxlbmd0aCA8PSAxICYmICFkZWx0YS5saW5lc1swXQogICAgICAgICAgICA6ICFSYW5nZS5jb21wYXJlUG9pbnRzKGRlbHRhLnN0YXJ0LCBkZWx0YS5lbmQpKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgaWYgKGlzSW5zZXJ0ICYmIGRlbHRhLmxpbmVzLmxlbmd0aCA+IDIwMDAwKSB7CiAgICAgICAgICAgIHRoaXMuJHNwbGl0QW5kYXBwbHlMYXJnZURlbHRhKGRlbHRhLCAyMDAwMCk7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBhcHBseURlbHRhKHRoaXMuJGxpbmVzLCBkZWx0YSwgZG9Ob3RWYWxpZGF0ZSk7CiAgICAgICAgICAgIHRoaXMuX3NpZ25hbCgiY2hhbmdlIiwgZGVsdGEpOwogICAgICAgIH0KICAgIH07CiAgICAKICAgIHRoaXMuJHNhZmVBcHBseURlbHRhID0gZnVuY3Rpb24oZGVsdGEpIHsKICAgICAgICB2YXIgZG9jTGVuZ3RoID0gdGhpcy4kbGluZXMubGVuZ3RoOwogICAgICAgIGlmICgKICAgICAgICAgICAgZGVsdGEuYWN0aW9uID09ICJyZW1vdmUiICYmIGRlbHRhLnN0YXJ0LnJvdyA8IGRvY0xlbmd0aCAmJiBkZWx0YS5lbmQucm93IDwgZG9jTGVuZ3RoCiAgICAgICAgICAgIHx8IGRlbHRhLmFjdGlvbiA9PSAiaW5zZXJ0IiAmJiBkZWx0YS5zdGFydC5yb3cgPD0gZG9jTGVuZ3RoCiAgICAgICAgKSB7CiAgICAgICAgICAgIHRoaXMuYXBwbHlEZWx0YShkZWx0YSk7CiAgICAgICAgfQogICAgfTsKICAgIAogICAgdGhpcy4kc3BsaXRBbmRhcHBseUxhcmdlRGVsdGEgPSBmdW5jdGlvbihkZWx0YSwgTUFYKSB7CiAgICAgICAgdmFyIGxpbmVzID0gZGVsdGEubGluZXM7CiAgICAgICAgdmFyIGwgPSBsaW5lcy5sZW5ndGggLSBNQVggKyAxOwogICAgICAgIHZhciByb3cgPSBkZWx0YS5zdGFydC5yb3c7IAogICAgICAgIHZhciBjb2x1bW4gPSBkZWx0YS5zdGFydC5jb2x1bW47CiAgICAgICAgZm9yICh2YXIgZnJvbSA9IDAsIHRvID0gMDsgZnJvbSA8IGw7IGZyb20gPSB0bykgewogICAgICAgICAgICB0byArPSBNQVggLSAxOwogICAgICAgICAgICB2YXIgY2h1bmsgPSBsaW5lcy5zbGljZShmcm9tLCB0byk7CiAgICAgICAgICAgIGNodW5rLnB1c2goIiIpOwogICAgICAgICAgICB0aGlzLmFwcGx5RGVsdGEoewogICAgICAgICAgICAgICAgc3RhcnQ6IHRoaXMucG9zKHJvdyArIGZyb20sIGNvbHVtbiksCiAgICAgICAgICAgICAgICBlbmQ6IHRoaXMucG9zKHJvdyArIHRvLCBjb2x1bW4gPSAwKSwKICAgICAgICAgICAgICAgIGFjdGlvbjogZGVsdGEuYWN0aW9uLAogICAgICAgICAgICAgICAgbGluZXM6IGNodW5rCiAgICAgICAgICAgIH0sIHRydWUpOwogICAgICAgIH0KICAgICAgICBkZWx0YS5saW5lcyA9IGxpbmVzLnNsaWNlKGZyb20pOwogICAgICAgIGRlbHRhLnN0YXJ0LnJvdyA9IHJvdyArIGZyb207CiAgICAgICAgZGVsdGEuc3RhcnQuY29sdW1uID0gY29sdW1uOwogICAgICAgIHRoaXMuYXBwbHlEZWx0YShkZWx0YSwgdHJ1ZSk7CiAgICB9OwogICAgdGhpcy5yZXZlcnREZWx0YSA9IGZ1bmN0aW9uKGRlbHRhKSB7CiAgICAgICAgdGhpcy4kc2FmZUFwcGx5RGVsdGEoewogICAgICAgICAgICBzdGFydDogdGhpcy5jbG9uZVBvcyhkZWx0YS5zdGFydCksCiAgICAgICAgICAgIGVuZDogdGhpcy5jbG9uZVBvcyhkZWx0YS5lbmQpLAogICAgICAgICAgICBhY3Rpb246IChkZWx0YS5hY3Rpb24gPT0gImluc2VydCIgPyAicmVtb3ZlIiA6ICJpbnNlcnQiKSwKICAgICAgICAgICAgbGluZXM6IGRlbHRhLmxpbmVzLnNsaWNlKCkKICAgICAgICB9KTsKICAgIH07CiAgICB0aGlzLmluZGV4VG9Qb3NpdGlvbiA9IGZ1bmN0aW9uKGluZGV4LCBzdGFydFJvdykgewogICAgICAgIHZhciBsaW5lcyA9IHRoaXMuJGxpbmVzIHx8IHRoaXMuZ2V0QWxsTGluZXMoKTsKICAgICAgICB2YXIgbmV3bGluZUxlbmd0aCA9IHRoaXMuZ2V0TmV3TGluZUNoYXJhY3RlcigpLmxlbmd0aDsKICAgICAgICBmb3IgKHZhciBpID0gc3RhcnRSb3cgfHwgMCwgbCA9IGxpbmVzLmxlbmd0aDsgaSA8IGw7IGkrKykgewogICAgICAgICAgICBpbmRleCAtPSBsaW5lc1tpXS5sZW5ndGggKyBuZXdsaW5lTGVuZ3RoOwogICAgICAgICAgICBpZiAoaW5kZXggPCAwKQogICAgICAgICAgICAgICAgcmV0dXJuIHtyb3c6IGksIGNvbHVtbjogaW5kZXggKyBsaW5lc1tpXS5sZW5ndGggKyBuZXdsaW5lTGVuZ3RofTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHtyb3c6IGwtMSwgY29sdW1uOiBpbmRleCArIGxpbmVzW2wtMV0ubGVuZ3RoICsgbmV3bGluZUxlbmd0aH07CiAgICB9OwogICAgdGhpcy5wb3NpdGlvblRvSW5kZXggPSBmdW5jdGlvbihwb3MsIHN0YXJ0Um93KSB7CiAgICAgICAgdmFyIGxpbmVzID0gdGhpcy4kbGluZXMgfHwgdGhpcy5nZXRBbGxMaW5lcygpOwogICAgICAgIHZhciBuZXdsaW5lTGVuZ3RoID0gdGhpcy5nZXROZXdMaW5lQ2hhcmFjdGVyKCkubGVuZ3RoOwogICAgICAgIHZhciBpbmRleCA9IDA7CiAgICAgICAgdmFyIHJvdyA9IE1hdGgubWluKHBvcy5yb3csIGxpbmVzLmxlbmd0aCk7CiAgICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0Um93IHx8IDA7IGkgPCByb3c7ICsraSkKICAgICAgICAgICAgaW5kZXggKz0gbGluZXNbaV0ubGVuZ3RoICsgbmV3bGluZUxlbmd0aDsKCiAgICAgICAgcmV0dXJuIGluZGV4ICsgcG9zLmNvbHVtbjsKICAgIH07Cgp9KS5jYWxsKERvY3VtZW50LnByb3RvdHlwZSk7CgpleHBvcnRzLkRvY3VtZW50ID0gRG9jdW1lbnQ7Cn0pOwoKYWNlLmRlZmluZSgiYWNlL2xpYi9sYW5nIixbXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7CiJ1c2Ugc3RyaWN0IjsKCmV4cG9ydHMubGFzdCA9IGZ1bmN0aW9uKGEpIHsKICAgIHJldHVybiBhW2EubGVuZ3RoIC0gMV07Cn07CgpleHBvcnRzLnN0cmluZ1JldmVyc2UgPSBmdW5jdGlvbihzdHJpbmcpIHsKICAgIHJldHVybiBzdHJpbmcuc3BsaXQoIiIpLnJldmVyc2UoKS5qb2luKCIiKTsKfTsKCmV4cG9ydHMuc3RyaW5nUmVwZWF0ID0gZnVuY3Rpb24gKHN0cmluZywgY291bnQpIHsKICAgIHZhciByZXN1bHQgPSAnJzsKICAgIHdoaWxlIChjb3VudCA+IDApIHsKICAgICAgICBpZiAoY291bnQgJiAxKQogICAgICAgICAgICByZXN1bHQgKz0gc3RyaW5nOwoKICAgICAgICBpZiAoY291bnQgPj49IDEpCiAgICAgICAgICAgIHN0cmluZyArPSBzdHJpbmc7CiAgICB9CiAgICByZXR1cm4gcmVzdWx0Owp9OwoKdmFyIHRyaW1CZWdpblJlZ2V4cCA9IC9eXHNccyovOwp2YXIgdHJpbUVuZFJlZ2V4cCA9IC9cc1xzKiQvOwoKZXhwb3J0cy5zdHJpbmdUcmltTGVmdCA9IGZ1bmN0aW9uIChzdHJpbmcpIHsKICAgIHJldHVybiBzdHJpbmcucmVwbGFjZSh0cmltQmVnaW5SZWdleHAsICcnKTsKfTsKCmV4cG9ydHMuc3RyaW5nVHJpbVJpZ2h0ID0gZnVuY3Rpb24gKHN0cmluZykgewogICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKHRyaW1FbmRSZWdleHAsICcnKTsKfTsKCmV4cG9ydHMuY29weU9iamVjdCA9IGZ1bmN0aW9uKG9iaikgewogICAgdmFyIGNvcHkgPSB7fTsKICAgIGZvciAodmFyIGtleSBpbiBvYmopIHsKICAgICAgICBjb3B5W2tleV0gPSBvYmpba2V5XTsKICAgIH0KICAgIHJldHVybiBjb3B5Owp9OwoKZXhwb3J0cy5jb3B5QXJyYXkgPSBmdW5jdGlvbihhcnJheSl7CiAgICB2YXIgY29weSA9IFtdOwogICAgZm9yICh2YXIgaT0wLCBsPWFycmF5Lmxlbmd0aDsgaTxsOyBpKyspIHsKICAgICAgICBpZiAoYXJyYXlbaV0gJiYgdHlwZW9mIGFycmF5W2ldID09ICJvYmplY3QiKQogICAgICAgICAgICBjb3B5W2ldID0gdGhpcy5jb3B5T2JqZWN0KGFycmF5W2ldKTsKICAgICAgICBlbHNlIAogICAgICAgICAgICBjb3B5W2ldID0gYXJyYXlbaV07CiAgICB9CiAgICByZXR1cm4gY29weTsKfTsKCmV4cG9ydHMuZGVlcENvcHkgPSBmdW5jdGlvbiBkZWVwQ29weShvYmopIHsKICAgIGlmICh0eXBlb2Ygb2JqICE9PSAib2JqZWN0IiB8fCAhb2JqKQogICAgICAgIHJldHVybiBvYmo7CiAgICB2YXIgY29weTsKICAgIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHsKICAgICAgICBjb3B5ID0gW107CiAgICAgICAgZm9yICh2YXIga2V5ID0gMDsga2V5IDwgb2JqLmxlbmd0aDsga2V5KyspIHsKICAgICAgICAgICAgY29weVtrZXldID0gZGVlcENvcHkob2JqW2tleV0pOwogICAgICAgIH0KICAgICAgICByZXR1cm4gY29weTsKICAgIH0KICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSAhPT0gIltvYmplY3QgT2JqZWN0XSIpCiAgICAgICAgcmV0dXJuIG9iajsKICAgIAogICAgY29weSA9IHt9OwogICAgZm9yICh2YXIga2V5IGluIG9iaikKICAgICAgICBjb3B5W2tleV0gPSBkZWVwQ29weShvYmpba2V5XSk7CiAgICByZXR1cm4gY29weTsKfTsKCmV4cG9ydHMuYXJyYXlUb01hcCA9IGZ1bmN0aW9uKGFycikgewogICAgdmFyIG1hcCA9IHt9OwogICAgZm9yICh2YXIgaT0wOyBpPGFyci5sZW5ndGg7IGkrKykgewogICAgICAgIG1hcFthcnJbaV1dID0gMTsKICAgIH0KICAgIHJldHVybiBtYXA7Cgp9OwoKZXhwb3J0cy5jcmVhdGVNYXAgPSBmdW5jdGlvbihwcm9wcykgewogICAgdmFyIG1hcCA9IE9iamVjdC5jcmVhdGUobnVsbCk7CiAgICBmb3IgKHZhciBpIGluIHByb3BzKSB7CiAgICAgICAgbWFwW2ldID0gcHJvcHNbaV07CiAgICB9CiAgICByZXR1cm4gbWFwOwp9OwpleHBvcnRzLmFycmF5UmVtb3ZlID0gZnVuY3Rpb24oYXJyYXksIHZhbHVlKSB7CiAgZm9yICh2YXIgaSA9IDA7IGkgPD0gYXJyYXkubGVuZ3RoOyBpKyspIHsKICAgIGlmICh2YWx1ZSA9PT0gYXJyYXlbaV0pIHsKICAgICAgYXJyYXkuc3BsaWNlKGksIDEpOwogICAgfQogIH0KfTsKCmV4cG9ydHMuZXNjYXBlUmVnRXhwID0gZnVuY3Rpb24oc3RyKSB7CiAgICByZXR1cm4gc3RyLnJlcGxhY2UoLyhbLiorP14ke30oKXxbXF1cL1xcXSkvZywgJ1xcJDEnKTsKfTsKCmV4cG9ydHMuZXNjYXBlSFRNTCA9IGZ1bmN0aW9uKHN0cikgewogICAgcmV0dXJuICgiIiArIHN0cikucmVwbGFjZSgvJi9nLCAiJiMzODsiKS5yZXBsYWNlKC8iL2csICImIzM0OyIpLnJlcGxhY2UoLycvZywgIiYjMzk7IikucmVwbGFjZSgvPC9nLCAiJiM2MDsiKTsKfTsKCmV4cG9ydHMuZ2V0TWF0Y2hPZmZzZXRzID0gZnVuY3Rpb24oc3RyaW5nLCByZWdFeHApIHsKICAgIHZhciBtYXRjaGVzID0gW107CgogICAgc3RyaW5nLnJlcGxhY2UocmVnRXhwLCBmdW5jdGlvbihzdHIpIHsKICAgICAgICBtYXRjaGVzLnB1c2goewogICAgICAgICAgICBvZmZzZXQ6IGFyZ3VtZW50c1thcmd1bWVudHMubGVuZ3RoLTJdLAogICAgICAgICAgICBsZW5ndGg6IHN0ci5sZW5ndGgKICAgICAgICB9KTsKICAgIH0pOwoKICAgIHJldHVybiBtYXRjaGVzOwp9OwpleHBvcnRzLmRlZmVycmVkQ2FsbCA9IGZ1bmN0aW9uKGZjbikgewogICAgdmFyIHRpbWVyID0gbnVsbDsKICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uKCkgewogICAgICAgIHRpbWVyID0gbnVsbDsKICAgICAgICBmY24oKTsKICAgIH07CgogICAgdmFyIGRlZmVycmVkID0gZnVuY3Rpb24odGltZW91dCkgewogICAgICAgIGRlZmVycmVkLmNhbmNlbCgpOwogICAgICAgIHRpbWVyID0gc2V0VGltZW91dChjYWxsYmFjaywgdGltZW91dCB8fCAwKTsKICAgICAgICByZXR1cm4gZGVmZXJyZWQ7CiAgICB9OwoKICAgIGRlZmVycmVkLnNjaGVkdWxlID0gZGVmZXJyZWQ7CgogICAgZGVmZXJyZWQuY2FsbCA9IGZ1bmN0aW9uKCkgewogICAgICAgIHRoaXMuY2FuY2VsKCk7CiAgICAgICAgZmNuKCk7CiAgICAgICAgcmV0dXJuIGRlZmVycmVkOwogICAgfTsKCiAgICBkZWZlcnJlZC5jYW5jZWwgPSBmdW5jdGlvbigpIHsKICAgICAgICBjbGVhclRpbWVvdXQodGltZXIpOwogICAgICAgIHRpbWVyID0gbnVsbDsKICAgICAgICByZXR1cm4gZGVmZXJyZWQ7CiAgICB9OwogICAgCiAgICBkZWZlcnJlZC5pc1BlbmRpbmcgPSBmdW5jdGlvbigpIHsKICAgICAgICByZXR1cm4gdGltZXI7CiAgICB9OwoKICAgIHJldHVybiBkZWZlcnJlZDsKfTsKCgpleHBvcnRzLmRlbGF5ZWRDYWxsID0gZnVuY3Rpb24oZmNuLCBkZWZhdWx0VGltZW91dCkgewogICAgdmFyIHRpbWVyID0gbnVsbDsKICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uKCkgewogICAgICAgIHRpbWVyID0gbnVsbDsKICAgICAgICBmY24oKTsKICAgIH07CgogICAgdmFyIF9zZWxmID0gZnVuY3Rpb24odGltZW91dCkgewogICAgICAgIGlmICh0aW1lciA9PSBudWxsKQogICAgICAgICAgICB0aW1lciA9IHNldFRpbWVvdXQoY2FsbGJhY2ssIHRpbWVvdXQgfHwgZGVmYXVsdFRpbWVvdXQpOwogICAgfTsKCiAgICBfc2VsZi5kZWxheSA9IGZ1bmN0aW9uKHRpbWVvdXQpIHsKICAgICAgICB0aW1lciAmJiBjbGVhclRpbWVvdXQodGltZXIpOwogICAgICAgIHRpbWVyID0gc2V0VGltZW91dChjYWxsYmFjaywgdGltZW91dCB8fCBkZWZhdWx0VGltZW91dCk7CiAgICB9OwogICAgX3NlbGYuc2NoZWR1bGUgPSBfc2VsZjsKCiAgICBfc2VsZi5jYWxsID0gZnVuY3Rpb24oKSB7CiAgICAgICAgdGhpcy5jYW5jZWwoKTsKICAgICAgICBmY24oKTsKICAgIH07CgogICAgX3NlbGYuY2FuY2VsID0gZnVuY3Rpb24oKSB7CiAgICAgICAgdGltZXIgJiYgY2xlYXJUaW1lb3V0KHRpbWVyKTsKICAgICAgICB0aW1lciA9IG51bGw7CiAgICB9OwoKICAgIF9zZWxmLmlzUGVuZGluZyA9IGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiB0aW1lcjsKICAgIH07CgogICAgcmV0dXJuIF9zZWxmOwp9Owp9KTsKCmFjZS5kZWZpbmUoImFjZS93b3JrZXIvbWlycm9yIixbXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7CiJ1c2Ugc3RyaWN0IjsKCnZhciBSYW5nZSA9IHJlcXVpcmUoIi4uL3JhbmdlIikuUmFuZ2U7CnZhciBEb2N1bWVudCA9IHJlcXVpcmUoIi4uL2RvY3VtZW50IikuRG9jdW1lbnQ7CnZhciBsYW5nID0gcmVxdWlyZSgiLi4vbGliL2xhbmciKTsKICAgIAp2YXIgTWlycm9yID0gZXhwb3J0cy5NaXJyb3IgPSBmdW5jdGlvbihzZW5kZXIpIHsKICAgIHRoaXMuc2VuZGVyID0gc2VuZGVyOwogICAgdmFyIGRvYyA9IHRoaXMuZG9jID0gbmV3IERvY3VtZW50KCIiKTsKICAgIAogICAgdmFyIGRlZmVycmVkVXBkYXRlID0gdGhpcy5kZWZlcnJlZFVwZGF0ZSA9IGxhbmcuZGVsYXllZENhbGwodGhpcy5vblVwZGF0ZS5iaW5kKHRoaXMpKTsKICAgIAogICAgdmFyIF9zZWxmID0gdGhpczsKICAgIHNlbmRlci5vbigiY2hhbmdlIiwgZnVuY3Rpb24oZSkgewogICAgICAgIHZhciBkYXRhID0gZS5kYXRhOwogICAgICAgIGlmIChkYXRhWzBdLnN0YXJ0KSB7CiAgICAgICAgICAgIGRvYy5hcHBseURlbHRhcyhkYXRhKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpICs9IDIpIHsKICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGFbaSsxXSkpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgZCA9IHthY3Rpb246ICJpbnNlcnQiLCBzdGFydDogZGF0YVtpXSwgbGluZXM6IGRhdGFbaSsxXX07CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHZhciBkID0ge2FjdGlvbjogInJlbW92ZSIsIHN0YXJ0OiBkYXRhW2ldLCBlbmQ6IGRhdGFbaSsxXX07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBkb2MuYXBwbHlEZWx0YShkLCB0cnVlKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZiAoX3NlbGYuJHRpbWVvdXQpCiAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZFVwZGF0ZS5zY2hlZHVsZShfc2VsZi4kdGltZW91dCk7CiAgICAgICAgX3NlbGYub25VcGRhdGUoKTsKICAgIH0pOwp9OwoKKGZ1bmN0aW9uKCkgewogICAgCiAgICB0aGlzLiR0aW1lb3V0ID0gNTAwOwogICAgCiAgICB0aGlzLnNldFRpbWVvdXQgPSBmdW5jdGlvbih0aW1lb3V0KSB7CiAgICAgICAgdGhpcy4kdGltZW91dCA9IHRpbWVvdXQ7CiAgICB9OwogICAgCiAgICB0aGlzLnNldFZhbHVlID0gZnVuY3Rpb24odmFsdWUpIHsKICAgICAgICB0aGlzLmRvYy5zZXRWYWx1ZSh2YWx1ZSk7CiAgICAgICAgdGhpcy5kZWZlcnJlZFVwZGF0ZS5zY2hlZHVsZSh0aGlzLiR0aW1lb3V0KTsKICAgIH07CiAgICAKICAgIHRoaXMuZ2V0VmFsdWUgPSBmdW5jdGlvbihjYWxsYmFja0lkKSB7CiAgICAgICAgdGhpcy5zZW5kZXIuY2FsbGJhY2sodGhpcy5kb2MuZ2V0VmFsdWUoKSwgY2FsbGJhY2tJZCk7CiAgICB9OwogICAgCiAgICB0aGlzLm9uVXBkYXRlID0gZnVuY3Rpb24oKSB7CiAgICB9OwogICAgCiAgICB0aGlzLmlzUGVuZGluZyA9IGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiB0aGlzLmRlZmVycmVkVXBkYXRlLmlzUGVuZGluZygpOwogICAgfTsKICAgIAp9KS5jYWxsKE1pcnJvci5wcm90b3R5cGUpOwoKfSk7CgphY2UuZGVmaW5lKCJhY2UvbW9kZS9qc29uL2pzb25fcGFyc2UiLFtdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHsKInVzZSBzdHJpY3QiOwoKICAgIHZhciBhdCwgICAgIC8vIFRoZSBpbmRleCBvZiB0aGUgY3VycmVudCBjaGFyYWN0ZXIKICAgICAgICBjaCwgICAgIC8vIFRoZSBjdXJyZW50IGNoYXJhY3RlcgogICAgICAgIGVzY2FwZWUgPSB7CiAgICAgICAgICAgICciJzogICciJywKICAgICAgICAgICAgJ1xcJzogJ1xcJywKICAgICAgICAgICAgJy8nOiAgJy8nLAogICAgICAgICAgICBiOiAgICAnXGInLAogICAgICAgICAgICBmOiAgICAnXGYnLAogICAgICAgICAgICBuOiAgICAnXG4nLAogICAgICAgICAgICByOiAgICAnXHInLAogICAgICAgICAgICB0OiAgICAnXHQnCiAgICAgICAgfSwKICAgICAgICB0ZXh0LAoKICAgICAgICBlcnJvciA9IGZ1bmN0aW9uIChtKSB7CgogICAgICAgICAgICB0aHJvdyB7CiAgICAgICAgICAgICAgICBuYW1lOiAgICAnU3ludGF4RXJyb3InLAogICAgICAgICAgICAgICAgbWVzc2FnZTogbSwKICAgICAgICAgICAgICAgIGF0OiAgICAgIGF0LAogICAgICAgICAgICAgICAgdGV4dDogICAgdGV4dAogICAgICAgICAgICB9OwogICAgICAgIH0sCgogICAgICAgIG5leHQgPSBmdW5jdGlvbiAoYykgewoKICAgICAgICAgICAgaWYgKGMgJiYgYyAhPT0gY2gpIHsKICAgICAgICAgICAgICAgIGVycm9yKCJFeHBlY3RlZCAnIiArIGMgKyAiJyBpbnN0ZWFkIG9mICciICsgY2ggKyAiJyIpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBjaCA9IHRleHQuY2hhckF0KGF0KTsKICAgICAgICAgICAgYXQgKz0gMTsKICAgICAgICAgICAgcmV0dXJuIGNoOwogICAgICAgIH0sCgogICAgICAgIG51bWJlciA9IGZ1bmN0aW9uICgpIHsKCiAgICAgICAgICAgIHZhciBudW1iZXIsCiAgICAgICAgICAgICAgICBzdHJpbmcgPSAnJzsKCiAgICAgICAgICAgIGlmIChjaCA9PT0gJy0nKSB7CiAgICAgICAgICAgICAgICBzdHJpbmcgPSAnLSc7CiAgICAgICAgICAgICAgICBuZXh0KCctJyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgd2hpbGUgKGNoID49ICcwJyAmJiBjaCA8PSAnOScpIHsKICAgICAgICAgICAgICAgIHN0cmluZyArPSBjaDsKICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoY2ggPT09ICcuJykgewogICAgICAgICAgICAgICAgc3RyaW5nICs9ICcuJzsKICAgICAgICAgICAgICAgIHdoaWxlIChuZXh0KCkgJiYgY2ggPj0gJzAnICYmIGNoIDw9ICc5JykgewogICAgICAgICAgICAgICAgICAgIHN0cmluZyArPSBjaDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoY2ggPT09ICdlJyB8fCBjaCA9PT0gJ0UnKSB7CiAgICAgICAgICAgICAgICBzdHJpbmcgKz0gY2g7CiAgICAgICAgICAgICAgICBuZXh0KCk7CiAgICAgICAgICAgICAgICBpZiAoY2ggPT09ICctJyB8fCBjaCA9PT0gJysnKSB7CiAgICAgICAgICAgICAgICAgICAgc3RyaW5nICs9IGNoOwogICAgICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHdoaWxlIChjaCA+PSAnMCcgJiYgY2ggPD0gJzknKSB7CiAgICAgICAgICAgICAgICAgICAgc3RyaW5nICs9IGNoOwogICAgICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBudW1iZXIgPSArc3RyaW5nOwogICAgICAgICAgICBpZiAoaXNOYU4obnVtYmVyKSkgewogICAgICAgICAgICAgICAgZXJyb3IoIkJhZCBudW1iZXIiKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiBudW1iZXI7CiAgICAgICAgICAgIH0KICAgICAgICB9LAoKICAgICAgICBzdHJpbmcgPSBmdW5jdGlvbiAoKSB7CgogICAgICAgICAgICB2YXIgaGV4LAogICAgICAgICAgICAgICAgaSwKICAgICAgICAgICAgICAgIHN0cmluZyA9ICcnLAogICAgICAgICAgICAgICAgdWZmZmY7CgogICAgICAgICAgICBpZiAoY2ggPT09ICciJykgewogICAgICAgICAgICAgICAgd2hpbGUgKG5leHQoKSkgewogICAgICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJyInKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0cmluZzsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNoID09PSAnXFwnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoID09PSAndScpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVmZmZmID0gMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCA0OyBpICs9IDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZXggPSBwYXJzZUludChuZXh0KCksIDE2KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzRmluaXRlKGhleCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVmZmZmID0gdWZmZmYgKiAxNiArIGhleDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cmluZyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHVmZmZmKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZXNjYXBlZVtjaF0gPT09ICdzdHJpbmcnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJpbmcgKz0gZXNjYXBlZVtjaF07CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2ggPT0gIlxuIiB8fCBjaCA9PSAiXHIiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN0cmluZyArPSBjaDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZXJyb3IoIkJhZCBzdHJpbmciKTsKICAgICAgICB9LAoKICAgICAgICB3aGl0ZSA9IGZ1bmN0aW9uICgpIHsKCiAgICAgICAgICAgIHdoaWxlIChjaCAmJiBjaCA8PSAnICcpIHsKICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgfQogICAgICAgIH0sCgogICAgICAgIHdvcmQgPSBmdW5jdGlvbiAoKSB7CgogICAgICAgICAgICBzd2l0Y2ggKGNoKSB7CiAgICAgICAgICAgIGNhc2UgJ3QnOgogICAgICAgICAgICAgICAgbmV4dCgndCcpOwogICAgICAgICAgICAgICAgbmV4dCgncicpOwogICAgICAgICAgICAgICAgbmV4dCgndScpOwogICAgICAgICAgICAgICAgbmV4dCgnZScpOwogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIGNhc2UgJ2YnOgogICAgICAgICAgICAgICAgbmV4dCgnZicpOwogICAgICAgICAgICAgICAgbmV4dCgnYScpOwogICAgICAgICAgICAgICAgbmV4dCgnbCcpOwogICAgICAgICAgICAgICAgbmV4dCgncycpOwogICAgICAgICAgICAgICAgbmV4dCgnZScpOwogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICBjYXNlICduJzoKICAgICAgICAgICAgICAgIG5leHQoJ24nKTsKICAgICAgICAgICAgICAgIG5leHQoJ3UnKTsKICAgICAgICAgICAgICAgIG5leHQoJ2wnKTsKICAgICAgICAgICAgICAgIG5leHQoJ2wnKTsKICAgICAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVycm9yKCJVbmV4cGVjdGVkICciICsgY2ggKyAiJyIpOwogICAgICAgIH0sCgogICAgICAgIHZhbHVlLCAgLy8gUGxhY2UgaG9sZGVyIGZvciB0aGUgdmFsdWUgZnVuY3Rpb24uCgogICAgICAgIGFycmF5ID0gZnVuY3Rpb24gKCkgewoKICAgICAgICAgICAgdmFyIGFycmF5ID0gW107CgogICAgICAgICAgICBpZiAoY2ggPT09ICdbJykgewogICAgICAgICAgICAgICAgbmV4dCgnWycpOwogICAgICAgICAgICAgICAgd2hpdGUoKTsKICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJ10nKSB7CiAgICAgICAgICAgICAgICAgICAgbmV4dCgnXScpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBhcnJheTsgICAvLyBlbXB0eSBhcnJheQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgd2hpbGUgKGNoKSB7CiAgICAgICAgICAgICAgICAgICAgYXJyYXkucHVzaCh2YWx1ZSgpKTsKICAgICAgICAgICAgICAgICAgICB3aGl0ZSgpOwogICAgICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJ10nKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoJ10nKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFycmF5OwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBuZXh0KCcsJyk7CiAgICAgICAgICAgICAgICAgICAgd2hpdGUoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBlcnJvcigiQmFkIGFycmF5Iik7CiAgICAgICAgfSwKCiAgICAgICAgb2JqZWN0ID0gZnVuY3Rpb24gKCkgewoKICAgICAgICAgICAgdmFyIGtleSwKICAgICAgICAgICAgICAgIG9iamVjdCA9IHt9OwoKICAgICAgICAgICAgaWYgKGNoID09PSAneycpIHsKICAgICAgICAgICAgICAgIG5leHQoJ3snKTsKICAgICAgICAgICAgICAgIHdoaXRlKCk7CiAgICAgICAgICAgICAgICBpZiAoY2ggPT09ICd9JykgewogICAgICAgICAgICAgICAgICAgIG5leHQoJ30nKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0OyAgIC8vIGVtcHR5IG9iamVjdAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgd2hpbGUgKGNoKSB7CiAgICAgICAgICAgICAgICAgICAga2V5ID0gc3RyaW5nKCk7CiAgICAgICAgICAgICAgICAgICAgd2hpdGUoKTsKICAgICAgICAgICAgICAgICAgICBuZXh0KCc6Jyk7CiAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkgewogICAgICAgICAgICAgICAgICAgICAgICBlcnJvcignRHVwbGljYXRlIGtleSAiJyArIGtleSArICciJyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIG9iamVjdFtrZXldID0gdmFsdWUoKTsKICAgICAgICAgICAgICAgICAgICB3aGl0ZSgpOwogICAgICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJ30nKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoJ30nKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgbmV4dCgnLCcpOwogICAgICAgICAgICAgICAgICAgIHdoaXRlKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZXJyb3IoIkJhZCBvYmplY3QiKTsKICAgICAgICB9OwoKICAgIHZhbHVlID0gZnVuY3Rpb24gKCkgewoKICAgICAgICB3aGl0ZSgpOwogICAgICAgIHN3aXRjaCAoY2gpIHsKICAgICAgICBjYXNlICd7JzoKICAgICAgICAgICAgcmV0dXJuIG9iamVjdCgpOwogICAgICAgIGNhc2UgJ1snOgogICAgICAgICAgICByZXR1cm4gYXJyYXkoKTsKICAgICAgICBjYXNlICciJzoKICAgICAgICAgICAgcmV0dXJuIHN0cmluZygpOwogICAgICAgIGNhc2UgJy0nOgogICAgICAgICAgICByZXR1cm4gbnVtYmVyKCk7CiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgcmV0dXJuIGNoID49ICcwJyAmJiBjaCA8PSAnOScgPyBudW1iZXIoKSA6IHdvcmQoKTsKICAgICAgICB9CiAgICB9OwoKICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlLCByZXZpdmVyKSB7CiAgICAgICAgdmFyIHJlc3VsdDsKCiAgICAgICAgdGV4dCA9IHNvdXJjZTsKICAgICAgICBhdCA9IDA7CiAgICAgICAgY2ggPSAnICc7CiAgICAgICAgcmVzdWx0ID0gdmFsdWUoKTsKICAgICAgICB3aGl0ZSgpOwogICAgICAgIGlmIChjaCkgewogICAgICAgICAgICBlcnJvcigiU3ludGF4IGVycm9yIik7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdHlwZW9mIHJldml2ZXIgPT09ICdmdW5jdGlvbicgPyBmdW5jdGlvbiB3YWxrKGhvbGRlciwga2V5KSB7CiAgICAgICAgICAgIHZhciBrLCB2LCB2YWx1ZSA9IGhvbGRlcltrZXldOwogICAgICAgICAgICBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JykgewogICAgICAgICAgICAgICAgZm9yIChrIGluIHZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBrKSkgewogICAgICAgICAgICAgICAgICAgICAgICB2ID0gd2Fsayh2YWx1ZSwgayk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2ICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlW2tdID0gdjsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB2YWx1ZVtrXTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gcmV2aXZlci5jYWxsKGhvbGRlciwga2V5LCB2YWx1ZSk7CiAgICAgICAgfSh7Jyc6IHJlc3VsdH0sICcnKSA6IHJlc3VsdDsKICAgIH07Cn0pOwoKYWNlLmRlZmluZSgiYWNlL21vZGUvanNvbl93b3JrZXIiLFtdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHsKInVzZSBzdHJpY3QiOwoKdmFyIG9vcCA9IHJlcXVpcmUoIi4uL2xpYi9vb3AiKTsKdmFyIE1pcnJvciA9IHJlcXVpcmUoIi4uL3dvcmtlci9taXJyb3IiKS5NaXJyb3I7CnZhciBwYXJzZSA9IHJlcXVpcmUoIi4vanNvbi9qc29uX3BhcnNlIik7Cgp2YXIgSnNvbldvcmtlciA9IGV4cG9ydHMuSnNvbldvcmtlciA9IGZ1bmN0aW9uKHNlbmRlcikgewogICAgTWlycm9yLmNhbGwodGhpcywgc2VuZGVyKTsKICAgIHRoaXMuc2V0VGltZW91dCgyMDApOwp9OwoKb29wLmluaGVyaXRzKEpzb25Xb3JrZXIsIE1pcnJvcik7CgooZnVuY3Rpb24oKSB7CgogICAgdGhpcy5vblVwZGF0ZSA9IGZ1bmN0aW9uKCkgewogICAgICAgIHZhciB2YWx1ZSA9IHRoaXMuZG9jLmdldFZhbHVlKCk7CiAgICAgICAgdmFyIGVycm9ycyA9IFtdOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGlmICh2YWx1ZSkKICAgICAgICAgICAgICAgIHBhcnNlKHZhbHVlKTsKICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgIHZhciBwb3MgPSB0aGlzLmRvYy5pbmRleFRvUG9zaXRpb24oZS5hdC0xKTsKICAgICAgICAgICAgZXJyb3JzLnB1c2goewogICAgICAgICAgICAgICAgcm93OiBwb3Mucm93LAogICAgICAgICAgICAgICAgY29sdW1uOiBwb3MuY29sdW1uLAogICAgICAgICAgICAgICAgdGV4dDogZS5tZXNzYWdlLAogICAgICAgICAgICAgICAgdHlwZTogImVycm9yIgogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgdGhpcy5zZW5kZXIuZW1pdCgiYW5ub3RhdGUiLCBlcnJvcnMpOwogICAgfTsKCn0pLmNhbGwoSnNvbldvcmtlci5wcm90b3R5cGUpOwoKfSk7Cg==");const Qb={prefix:"fas",iconName:"jsoneditor-expand",icon:[512,512,[],null,"M 0,448 V 512 h 512 v -64 z M 0,0 V 64 H 512 V 0 Z M 256,96 128,224 h 256 z M 256,416 384,288 H 128 Z"]},qb={prefix:"fas",iconName:"jsoneditor-collapse",icon:[512,512,[],null,"m 0,224 v 64 h 512 v -64 z M 256,192 384,64 H 128 Z M 256,320 128,448 h 256 z"]},ew={prefix:"fas",iconName:"jsoneditor-format",icon:[512,512,[],null,"M 0,32 v 64 h 416 v -64 z M 160,160 v 64 h 352 v -64 z M 160,288 v 64 h 288 v -64 z M 0,416 v 64 h 320 v -64 z"]},tw={prefix:"fas",iconName:"jsoneditor-compact",icon:[512,512,[],null,"M 0,32 v 64 h 512 v -64 z M 0,160 v 64 h 512 v -64 z M 0,288 v 64 h 352 v -64 z"]};function nw(e){let t;return{c(){t=S("div"),t.innerHTML='<a href="https://ace.c9.io/" target="_blank" rel="noopener noreferrer" title="Code mode is powered by Ace editor" class="svelte-1frror0">powered by ace</a>',E(t,"slot","right"),E(t,"class","powered-by svelte-1frror0")},m(e,n){b(e,t,n)},d(e){e&&w(t)}}}function iw(e){let t,n;return t=new FA({props:{items:e[0],$$slots:{right:[nw]},$$scope:{ctx:e}}}),{c(){We(t.$$.fragment)},m(e,i){Ge(t,e,i),n=!0},p(e,[n]){const i={};1&n&&(i.items=e[0]),65536&n&&(i.$$scope={dirty:n,ctx:e}),t.$set(i)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){$e(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function rw(e,t,n){let i,r,{readOnly:o=!1}=t,{onFormat:s}=t,{onCompact:a}=t,{onSort:c}=t,{onTransform:l}=t,{onUndo:u}=t,{onRedo:h}=t,{canUndo:d}=t,{canRedo:g}=t,{canFormat:f}=t,{canCompact:p}=t,{canSort:m}=t,{canTransform:C}=t,{onRenderMenu:I=(()=>{})}=t;return e.$$set=e=>{"readOnly"in e&&n(1,o=e.readOnly),"onFormat"in e&&n(2,s=e.onFormat),"onCompact"in e&&n(3,a=e.onCompact),"onSort"in e&&n(4,c=e.onSort),"onTransform"in e&&n(5,l=e.onTransform),"onUndo"in e&&n(6,u=e.onUndo),"onRedo"in e&&n(7,h=e.onRedo),"canUndo"in e&&n(8,d=e.canUndo),"canRedo"in e&&n(9,g=e.canRedo),"canFormat"in e&&n(10,f=e.canFormat),"canCompact"in e&&n(11,p=e.canCompact),"canSort"in e&&n(12,m=e.canSort),"canTransform"in e&&n(13,C=e.canTransform),"onRenderMenu"in e&&n(14,I=e.onRenderMenu)},e.$$.update=()=>{16382&e.$$.dirty&&n(15,i=[{icon:ew,title:"Format JSON: add proper indentation and new lines (Ctrl+I)",className:"format",onClick:s,disabled:o||!f},{icon:tw,title:"Compact JSON: remove all white spacing and new lines (Ctrl+Shift+I)",className:"compact",onClick:a,disabled:o||!p},{separator:!0},{icon:pi,title:"Sort",className:"sort",onClick:c,disabled:o||!m},{icon:li,title:"Transform contents (filter, sort, project)",className:"transform",onClick:l,disabled:o||!C},{separator:!0},{icon:Ci,title:"Undo (Ctrl+Z)",className:"undo",onClick:u,disabled:!d},{icon:gi,title:"Redo (Ctrl+Shift+Z)",className:"redo",onClick:h,disabled:!g},{space:!0}]),49152&e.$$.dirty&&n(0,r=I("code",i)||i)},[r,o,s,a,c,l,u,h,d,g,f,p,m,C,I,i]}class ow extends Oe{constructor(e){super(),Me(this,e,rw,iw,a,{readOnly:1,onFormat:2,onCompact:3,onSort:4,onTransform:5,onUndo:6,onRedo:7,canUndo:8,canRedo:9,canFormat:10,canCompact:11,canSort:12,canTransform:13,onRenderMenu:14})}}function sw(e){let t,n;return t=new ow({props:{readOnly:e[1],onFormat:e[14],onCompact:e[15],onSort:e[16],onTransform:e[17],onUndo:e[18],onRedo:e[19],canFormat:!e[11],canCompact:!e[11],canSort:!e[11],canTransform:!e[11],canUndo:e[8],canRedo:e[9],onRenderMenu:e[4]}}),{c(){We(t.$$.fragment)},m(e,i){Ge(t,e,i),n=!0},p(e,n){const i={};2&n[0]&&(i.readOnly=e[1]),2048&n[0]&&(i.canFormat=!e[11]),2048&n[0]&&(i.canCompact=!e[11]),2048&n[0]&&(i.canSort=!e[11]),2048&n[0]&&(i.canTransform=!e[11]),256&n[0]&&(i.canUndo=e[8]),512&n[0]&&(i.canRedo=e[9]),16&n[0]&&(i.onRenderMenu=e[4]),t.$set(i)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){$e(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function aw(e){let t,n;return t=new wy({props:{icon:ci,type:"error",message:`The JSON document is larger than ${ny(uI,1024)}, and may crash your browser when loading it in code mode. Actual size: ${ny(e[0].length,1024)}.`,actions:[{text:"Open anyway",title:"Open the document in code mode",onClick:e[21]},{text:"Open in tree mode",title:"Open the document in tree mode",onClick:e[3]}]}}),{c(){We(t.$$.fragment)},m(e,i){Ge(t,e,i),n=!0},p(e,n){const i={};1&n[0]&&(i.message=`The JSON document is larger than ${ny(uI,1024)}, and may crash your browser when loading it in code mode. Actual size: ${ny(e[0].length,1024)}.`),8&n[0]&&(i.actions=[{text:"Open anyway",title:"Open the document in code mode",onClick:e[21]},{text:"Open in tree mode",title:"Open the document in tree mode",onClick:e[3]}]),t.$set(i)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){$e(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function cw(e){let t,n;return t=new wy({props:{type:"error",icon:ci,message:e[10],actions:e[13]}}),{c(){We(t.$$.fragment)},m(e,i){Ge(t,e,i),n=!0},p(e,n){const i={};1024&n[0]&&(i.message=e[10]),8192&n[0]&&(i.actions=e[13]),t.$set(i)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){$e(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function lw(e){let t,n,i,r,o,s,a,c,l,u,h=e[2]&&sw(e),d=e[12]&&aw(e),g=e[10]&&cw(e);return a=new Wy({props:{validationErrorsList:e[7],selectError:e[22]}}),{c(){t=S("div"),h&&h.c(),n=R(),d&&d.c(),i=R(),r=S("div"),o=R(),g&&g.c(),s=R(),We(a.$$.fragment),E(r,"class","contents svelte-1eajo9u"),V(r,"visible",!e[12]),E(t,"class","code-mode svelte-1eajo9u")},m(f,p){b(f,t,p),h&&h.m(t,null),y(t,n),d&&d.m(t,null),y(t,i),y(t,r),e[35](r),y(t,o),g&&g.m(t,null),y(t,s),Ge(a,t,null),e[36](t),c=!0,l||(u=B(t,"keydown",e[20]),l=!0)},p(e,o){e[2]?h?(h.p(e,o),4&o[0]&&we(h,1)):(h=sw(e),h.c(),we(h,1),h.m(t,n)):h&&(ye(),$e(h,1,1,(()=>{h=null})),be()),e[12]?d?(d.p(e,o),4096&o[0]&&we(d,1)):(d=aw(e),d.c(),we(d,1),d.m(t,i)):d&&(ye(),$e(d,1,1,(()=>{d=null})),be()),4096&o[0]&&V(r,"visible",!e[12]),e[10]?g?(g.p(e,o),1024&o[0]&&we(g,1)):(g=cw(e),g.c(),we(g,1),g.m(t,s)):g&&(ye(),$e(g,1,1,(()=>{g=null})),be());const c={};128&o[0]&&(c.validationErrorsList=e[7]),a.$set(c)},i(e){c||(we(h),we(d),we(g),we(a.$$.fragment,e),c=!0)},o(e){$e(h),$e(d),$e(g),$e(a.$$.fragment,e),c=!1},d(n){n&&w(t),h&&h.d(),d&&d.d(),e[35](null),g&&g.d(),Te(a),e[36](null),l=!1,u()}}}function uw(e,t,n){let i,r,o,s,{readOnly:a=!1}=t,{mainMenuBar:c=!0}=t,{text:l=""}=t,{indentation:u=2}=t,{aceTheme:h="ace/theme/jsoneditor"}=t,{validator:d=null}=t,{onChange:g=null}=t,{onSwitchToTreeMode:f=(()=>{})}=t,{onError:p}=t,{onFocus:m=(()=>{})}=t,{onBlur:C=(()=>{})}=t,{onRenderMenu:I=(()=>{})}=t;const v=Qe("jsoneditor:CodeMode");let A,y,b,w,$=!1,S=!1,x=[];Q((()=>{y=function({target:e,ace:t,readOnly:n,indentation:i,onChange:r}){v("create Ace editor");const o=t.edit(e),s=o.getSession();o.$blockScrolling=1/0,o.setTheme(h),o.setOptions({readOnly:n}),o.setShowPrintMargin(!1),o.setFontSize("14px"),s.setMode("ace/mode/json"),s.setTabSize(i),s.setUseSoftTabs(!0),s.setUseWrapMode(!0),o.commands.bindKey("Ctrl-L",null),o.commands.bindKey("Command-L",null),o.commands.bindKey("Ctrl-\\",null),o.commands.bindKey("Command-\\",null),o.commands.bindKey("Ctrl-Shift-\\",null),o.commands.bindKey("Command-Shift-\\",null);const a=s.setAnnotations;return s.setAnnotations=function(e){const t=e&&e.length?e:x.map(N);v("setAnnotations",{annotations:e,newAnnotations:t}),a.call(this,t)},o.on("change",r),o}({target:A,ace:Ub,readOnly:a,indentation:u,onChange:Z}),_?_.observe(A):v("WARNING: ResizeObserver is undefined. Code editor will not automatically be resized"),H(l),y.session.getUndoManager().reset()})),q((()=>{D.cancel(),V.cancel(),_&&(_.unobserve(A),_=null),v("Destroy Ace editor"),y.destroy(),y=null}));let k=!1,R=!1,_=window.ResizeObserver?new window.ResizeObserver((function(){y.resize(!1)})):null;const{open:B}=ne("simple-modal"),E=nC(),L=nC();function W(){y.focus()}function G(e){v("patch",e);const t=l,i=JSON.parse(l),r=vi.immutableJSONPatch(i,e),o=vi.revertJSONPatch(i,e);return n(0,l=JSON.stringify(r,null,u)),l!==t&&P(),{json:i,undo:o,redo:e}}function T(){v("format");try{const e=l,t=JSON.parse(l);n(0,l=JSON.stringify(t,null,u)),l!==e&&P()}catch(e){p(e)}}function M(){v("compact");try{const e=l,t=JSON.parse(l);n(0,l=JSON.stringify(t)),l!==e&&P()}catch(e){p(e)}}function O(){v("repair");try{const e=l;n(0,l=ty(l)),n(33,K=vI),n(10,F=void 0),l!==e&&P()}catch(e){p(e)}}function N(e){const t=function(e,t){try{const n=cy(e),i=vi.compileJSONPointer(t),r=n.pointers[i];if(r)return{path:t,row:r.key?r.key.line:r.value?r.value.line:0,column:r.key?r.key.column:r.value?r.value.column:0}}catch(e){console.error(e)}return null}(l,e.path);return{row:t?t.row:0,column:t?t.column:0,text:e.message,type:"warning"}}function H(e,t=!1){!o||t?($=!0,y&&e!==b&&(b=e,y.setValue(e,-1),V()),$=!1):v("not applying text: editor is disabled")}function Z(){$||(b=y.getValue(),l!==b&&(n(0,l=b),V(),P()))}Yv({onMount:Q,onDestroy:q,getWindow:()=>xv(w),hasFocus:()=>kv(w),onFocus:m,onBlur:C});const V=su((function(){const e=y.getSession().getUndoManager();e&&e.hasUndo&&e.hasRedo&&(n(8,k=e.hasUndo()),n(9,R=e.hasRedo()))}),0);function P(){g&&g(l)}let F,K=vI;function j(){if(n(33,K=vI),n(10,F=void 0),n(7,x=[]),l.length>1048576)v("checkValidJson: not validating, document too large");else if(!i){try{const e=JSON.parse(l);d&&n(7,x=d(e)),function(){v("refresh annotations");const e=y&&y.getSession();if(e){const t=e.getAnnotations().filter((e=>"error"===e.type));e.setAnnotations(t)}}()}catch(e){n(10,F=e.toString());try{JSON.parse(ty(l)),n(33,K=AI)}catch(e){n(33,K="invalid")}}v("checked json status",K)}}const D=su(j,300);return e.$$set=e=>{"readOnly"in e&&n(1,a=e.readOnly),"mainMenuBar"in e&&n(2,c=e.mainMenuBar),"text"in e&&n(0,l=e.text),"indentation"in e&&n(23,u=e.indentation),"aceTheme"in e&&n(24,h=e.aceTheme),"validator"in e&&n(25,d=e.validator),"onChange"in e&&n(26,g=e.onChange),"onSwitchToTreeMode"in e&&n(3,f=e.onSwitchToTreeMode),"onError"in e&&n(27,p=e.onError),"onFocus"in e&&n(28,m=e.onFocus),"onBlur"in e&&n(29,C=e.onBlur),"onRenderMenu"in e&&n(4,I=e.onRenderMenu)},e.$$.update=()=>{1&e.$$.dirty[0]&&n(11,i=0===l.length),1&e.$$.dirty[0]&&n(34,r=l&&l.length>uI),10&e.$$.dirty[1]&&n(12,o=r&&!S),1&e.$$.dirty[0]&&H(l),8388608&e.$$.dirty[0]&&function(e){y&&y.getSession().setTabSize(e)}(u),1&e.$$.dirty[0]&&D(l),33554432&e.$$.dirty[0]&&j(),4&e.$$.dirty[1]&&n(13,s=K===AI?[{icon:Ii,text:"Auto repair",title:"Automatically repair JSON",onClick:O}]:[])},[l,a,c,f,I,A,w,x,k,R,F,i,o,s,T,M,function(){if(!a)try{const e=JSON.parse(l);B(Nb,{id:E,json:e,selectedPath:[],onSort:async e=>{v("onSort",e),G(e)}},dI,{onClose:W})}catch(e){p(e)}},function(){if(!a)try{const e=JSON.parse(l);B(Yb,{id:L,json:e,selectedPath:[],indentation:u,onTransform:async e=>{v("onTransform",e),G(e)}},gI,{onClose:W})}catch(e){p(e)}},function(){y.getSession().getUndoManager().undo(!1)},function(){y.getSession().getUndoManager().redo(!1)},function(e){const t=Ev(e).replace(/^Command\+/,"Ctrl+");v("keydown",t),"Ctrl+I"!==t&&"Ctrl+\\"!==t||(e.preventDefault(),e.stopPropagation(),T()),"Ctrl+Shift+I"!==t&&"Ctrl+Shift+\\"!==t||(e.preventDefault(),e.stopPropagation(),M())},function(){n(32,S=!0),H(l,!0)},function(e){v("select validation error",e);const t=N(e),n={row:t.row,column:t.column};var i,r;i=n,r=n,y.selection.setRange({start:i,end:r}),y.scrollToLine(i.row,!0),W()},u,h,d,g,p,m,C,W,G,S,K,r,function(e){re[e?"unshift":"push"]((()=>{A=e,n(5,A)}))},function(e){re[e?"unshift":"push"]((()=>{w=e,n(6,w)}))}]}class hw extends Oe{constructor(e){super(),Me(this,e,uw,lw,a,{readOnly:1,mainMenuBar:2,text:0,indentation:23,aceTheme:24,validator:25,onChange:26,onSwitchToTreeMode:3,onError:27,onFocus:28,onBlur:29,onRenderMenu:4,focus:30,patch:31},[-1,-1])}get focus(){return this.$$.ctx[30]}get patch(){return this.$$.ctx[31]}}var dw=(e,t,n,i)=>(e/=i/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t;const gw=()=>{let e,t,n,i,r,o,s,a,c,l,u,h,d,g;function f(t){return t.getBoundingClientRect().top-(e.getBoundingClientRect?e.getBoundingClientRect().top:0)+n}function p(t){e.scrollTo?e.scrollTo(0,t):e.scrollTop=t}function m(e){l||(l=e),u=e-l,h=o(u,n,a,c),p(h),g=!0,u<c?requestAnimationFrame(m):function(){p(n+a),t&&s&&(t.setAttribute("tabindex","-1"),t.focus());"function"==typeof d&&d();l=!1,g=!1}()}return function(u,h={}){switch(c=h.duration||1e3,r=h.offset||0,d=h.callback,o=h.easing||dw,s=h.a11y||!1,typeof h.container){case"object":e=h.container;break;case"string":e=document.querySelector(h.container);break;default:e=window}switch(n=e.scrollY||e.pageYOffset||e.scrollTop,typeof u){case"number":t=void 0,s=!1,i=n+u;break;case"object":t=u,i=f(t);break;case"string":t=document.querySelector(u),i=f(t)}switch(a=i-n+r,typeof h.duration){case"number":c=h.duration;break;case"function":c=h.duration(a)}g?l=!1:requestAnimationFrame(m)}};function fw(e,t,n,i){const r=nd(n),o=vi.getIn(e,r);if(Array.isArray(o)){const e=parseInt(Su(n),10);return i.map(((t,n)=>({op:"add",path:vi.compileJSONPointer(r.concat(e+n)),value:t.value})))}{const e=Su(n),o=jI(t,r),s=XI(o,e,!0);return[...i.map((e=>{const t=Hb(e.key,o);return{op:"add",path:vi.compileJSONPointer(r.concat(t)),value:e.value}})),...s.map((e=>vw(r,e)))]}}function pw(e,t,n){const i=vi.getIn(e,t);if(Array.isArray(i)){const e=i.length;return n.map(((n,i)=>({op:"add",path:vi.compileJSONPointer(t.concat(e+i)),value:n.value})))}return n.map((e=>{const n=Hb(e.key,Object.keys(i));return{op:"add",path:vi.compileJSONPointer(t.concat(n)),value:e.value}}))}function mw(e,t,n,i){const r=Hb(i,t.filter((e=>e!==n))),o=XI(t,n,!1);return[{op:"move",from:vi.compileJSONPointer(e.concat(n)),path:vi.compileJSONPointer(e.concat(r))},...o.map((t=>vw(e,t)))]}function Cw(e,t,n,i){if(n.type===rv){const e=uy(i),r=nd(n.focusPath);return mw(r,jI(t,r),Su(n.focusPath),"string"==typeof e?e:i)}if(n.type===ov||n.type===sv&&kd(n.focusPath))try{return[{op:"replace",path:vi.compileJSONPointer(n.focusPath),value:hy(i,ly)}]}catch(e){return[{op:"replace",path:vi.compileJSONPointer(n.focusPath),value:i}]}if(n.type===sv){const r=Aw(i);return function(e,t,n,i){const r=nd(mh(n)),o=vi.getIn(e,r);if(Array.isArray(o)){const e=mh(n),t=e?parseInt(Su(e),10):0;return[...Iw(n),...i.map(((e,n)=>({op:"add",path:vi.compileJSONPointer(r.concat(n+t)),value:e.value})))]}{const e=Su(n),r=nd(e),o=Su(e),s=jI(t,r),a=XI(s,o,!1),c=new Set(n.map((e=>Su(e)))),l=s.filter((e=>!c.has(e)));return[...Iw(n),...i.map((e=>{const t=Hb(e.key,l);return{op:"add",path:vi.compileJSONPointer(r.concat(t)),value:e.value}})),...a.map((e=>vw(r,e)))]}}(e,t,n.paths,r)}if(n.type===nv){const r=Aw(i),o=n.focusPath,s=nd(o),a=vi.getIn(e,s);if(Array.isArray(a)){const n=Su(o);return fw(e,t,s.concat([n+1]),r)}{const n=Su(o),i=jI(t,s);if(kd(i)||Su(i)===n)return pw(e,s,r);{const o=i.indexOf(n),a=i[o+1];return fw(e,t,s.concat([a]),r)}}}if(n.type===iv){const r=Aw(i),o=n.focusPath,s=vi.getIn(e,o);if(Array.isArray(s)){return fw(e,t,o.concat([0]),r)}{const n=jI(t,o);if(kd(n))return pw(e,o,r);{const i=mh(n);return fw(e,t,o.concat([i]),r)}}}throw new Error("Cannot insert: unsupported type of selection "+JSON.stringify(n))}function Iw(e){return e.map((e=>({op:"remove",path:vi.compileJSONPointer(e)}))).reverse()}function vw(e,t){return{op:"move",from:vi.compileJSONPointer(e.concat(t)),path:vi.compileJSONPointer(e.concat(t))}}function Aw(e){const t=uy(e),n=void 0!==t?t:hy(e,ly);return xI(t)?[{key:"New item",value:n}]:Array.isArray(n)?n.map(((e,t)=>({key:"New item "+t,value:e}))):SI(n)?Object.keys(n).map((e=>({key:e,value:n[e]}))):[{key:"New item",value:n}]}function yw(e,t,n){if(n.type===rv){const i=nd(n.focusPath),r=mw(i,jI(t,i),Su(n.focusPath),"");return{operations:r,newSelection:dv(e,r)}}if(n.type===ov){return{operations:[{op:"replace",path:vi.compileJSONPointer(n.focusPath),value:""}],newSelection:n}}if(n.type===sv){const i=Iw(n.paths),r=Su(n.paths);if(kd(r)){return{operations:[{op:"replace",path:"",value:""}],newSelection:Cv(e,t,{type:ov,path:[]})}}const o=nd(r),s=vi.getIn(e,o);if(Array.isArray(s)){const r=Su(mh(n.paths));return{operations:i,newSelection:Cv(e,t,0===r?{type:iv,path:o}:{type:nv,path:o.concat([r-1])})}}{const r=jI(t,o),s=Su(mh(n.paths)),a=r.indexOf(s),c=r[a-1];return{operations:i,newSelection:Cv(e,t,0===a?{type:iv,path:o}:{type:nv,path:o.concat([c])})}}}throw new Error("Cannot remove: unsupported type of selection "+JSON.stringify(n))}function bw(e,t,n){const i=t,r=function(e,t){let n={};return t.forEach((t=>{const i=nd(t);if(!vi.existsIn(n,i)){const t=vi.getIn(e,i);n=vi.setIn(n,i,Array.isArray(t)?[]:{},!0)}n=vi.setIn(n,t,rI)})),n}(e,i),o=n&&n.activeItem&&vi.existsIn(r,n.activeItem)?n.activeItem:i[0],s=i.findIndex((e=>Rd(e,o)));return{items:r,itemsWithActive:r&&o&&-1!==s?vi.setIn(r,o,oI):r,flatItems:i,count:i.length,activeItem:o,activeIndex:s}}async function ww(){return new Promise(setTimeout)}function $w(e,t,n,{onProgress:i,onDone:r,maxResults:o=1/0,yieldAfterItemCount:s=1e4}){const a=function*(e,t,n,i){let r=0;function*o(){r++,"number"==typeof i&&r%i==0&&(yield null)}function*s(e,t,n,i){const r=kI(t);if("array"===r)for(let r=0;r<t.length;r++)yield*s(e,t[r],n?n[r]:void 0,i.concat([r]));else if("object"===r){const r=n?n[tI]:Object.keys(t);for(const a of r)"string"==typeof a&&Sw(a,e)&&(yield i.concat([a,nI])),yield*o(),yield*s(e,t[a],n?n[a]:void 0,i.concat([a]))}else Sw(t,e)&&(yield i.concat([iI])),yield*o()}return yield*s(e,t,n,[])}(e,t,n,s);let c=!1;const l=[];let u=!1;return setTimeout((async function(){if(!e||""===e)return void r(l);let t;do{t=a.next(),t.value?l.length<o?(l.push(t.value),u=!0):(c=!0,r(l)):(u&&(u=!1,i&&i(l)),await ww())}while(!c&&!t.done);t.done&&r(l)})),{cancel:()=>{c=!0}}}function Sw(e,t){return-1!==String(e).toLowerCase().indexOf(t.toLowerCase())}function xw(e){let t;return{c(){t=S("div"),t.textContent="Repair invalid JSON, then click apply",E(t,"slot","left"),E(t,"class","info svelte-1x4hlp9")},m(e,n){b(e,t,n)},d(e){e&&w(t)}}}function kw(e){let t,n;return t=new wy({props:{type:"success",message:"JSON is valid now and can be parsed.",actions:e[7]}}),{c(){We(t.$$.fragment)},m(e,i){Ge(t,e,i),n=!0},p(e,n){const i={};128&n&&(i.actions=e[7]),t.$set(i)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){$e(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function Rw(e){let t,n;return t=new wy({props:{type:"error",icon:ci,message:`Cannot parse JSON: ${e[2].message}`,actions:e[6]}}),{c(){We(t.$$.fragment)},m(e,i){Ge(t,e,i),n=!0},p(e,n){const i={};4&n&&(i.message=`Cannot parse JSON: ${e[2].message}`),64&n&&(i.actions=e[6]),t.$set(i)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){$e(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function _w(e){let t,n,i,r,o,s,a,c,l,u;n=new FA({props:{items:e[5],$$slots:{left:[xw]},$$scope:{ctx:e}}});const h=[Rw,kw],d=[];function g(e,t){return e[2]?0:1}return r=g(e),o=d[r]=h[r](e),{c(){t=S("div"),We(n.$$.fragment),i=R(),o.c(),s=R(),a=S("textarea"),a.value=e[0],a.readOnly=e[1],E(a,"class","json-text svelte-1x4hlp9"),E(a,"autocomplete","off"),E(a,"autocapitalize","off"),E(a,"spellcheck","false"),E(t,"class","json-repair svelte-1x4hlp9")},m(o,h){b(o,t,h),Ge(n,t,null),y(t,i),d[r].m(t,null),y(t,s),y(t,a),e[21](a),e[22](t),c=!0,l||(u=B(a,"input",e[8]),l=!0)},p(e,[i]){const l={};32&i&&(l.items=e[5]),536870912&i&&(l.$$scope={dirty:i,ctx:e}),n.$set(l);let u=r;r=g(e),r===u?d[r].p(e,i):(ye(),$e(d[u],1,1,(()=>{d[u]=null})),be(),o=d[r],o?o.p(e,i):(o=d[r]=h[r](e),o.c()),we(o,1),o.m(t,s)),(!c||1&i)&&(a.value=e[0]),(!c||2&i)&&(a.readOnly=e[1])},i(e){c||(we(n.$$.fragment,e),we(o),c=!0)},o(e){$e(n.$$.fragment,e),$e(o),c=!1},d(i){i&&w(t),Te(n),d[r].d(),e[21](null),e[22](null),l=!1,u()}}}function Bw(e,t,n){let i,r,o,s,a,c,l,u,{text:h=""}=t,{readOnly:d=!1}=t,{onParse:g}=t,{onRepair:f}=t,{onChange:p=null}=t,{onApply:m}=t,{onCancel:C}=t,{onFocus:I}=t,{onBlur:v}=t,{onRenderMenu:A=(()=>{})}=t;const y=Qe("jsoneditor:JSONRepair");let b,w;function $(e){try{return g(e),null}catch(t){return function(e,t){const n=fy.exec(t);if(n){const i=parseInt(n[2],10),r=function(e,t,n=0,i=e.length){let r=0;for(let o=n;o<i;o++)e.charAt(o)===t&&r++;return r}(e,"\n",0,i),o=i-e.lastIndexOf("\n",i)-1;return{position:i,line:r,column:o,message:t.replace(fy,(()=>`line ${r+1} column ${o+1}`))}}{const n=py.exec(t),i=n?parseInt(n[1],10):null,r=null!==i?i-1:null,o=my.exec(t),s=o?parseInt(o[1],10):null,a=null!==s?s-1:null;return{position:null!==r&&null!==a?function(e,t,n){let i=e.indexOf("\n"),r=1;for(;r<t&&-1!==i;)i=e.indexOf("\n",i+1),r++;return-1!==i?i+n+1:null}(e,r,a):null,line:r,column:a,message:t.replace(/^JSON.parse: /,"")}}}(e,t.message)}}function S(){m(h)}return Yv({onMount:Q,onDestroy:q,getWindow:()=>xv(b),hasFocus:()=>kv(b),onFocus:()=>{I&&I()},onBlur:()=>{v&&v()}}),e.$$set=e=>{"text"in e&&n(0,h=e.text),"readOnly"in e&&n(1,d=e.readOnly),"onParse"in e&&n(9,g=e.onParse),"onRepair"in e&&n(10,f=e.onRepair),"onChange"in e&&n(11,p=e.onChange),"onApply"in e&&n(12,m=e.onApply),"onCancel"in e&&n(13,C=e.onCancel),"onFocus"in e&&n(14,I=e.onFocus),"onBlur"in e&&n(15,v=e.onBlur),"onRenderMenu"in e&&n(16,A=e.onRenderMenu)},e.$$.update=()=>{1&e.$$.dirty&&n(2,i=$(h)),1&e.$$.dirty&&n(17,r=function(e){try{return f(e),!0}catch(e){return!1}}(h)),4&e.$$.dirty&&y("error",i),8192&e.$$.dirty&&n(18,o=[{space:!0},{icon:mi,title:"Cancel repair",className:"cancel",onClick:C}]),327680&e.$$.dirty&&n(5,s=A("repair",o)||o),1703936&e.$$.dirty&&n(6,l=r?[a,c]:[a]),2&e.$$.dirty&&n(7,u=[{icon:Qn,text:"Apply",title:"Apply fixed JSON",disabled:d,onClick:S}])},n(19,a={icon:zn,text:"Show me",title:"Scroll to the error location",onClick:function(){w&&i&&null!=i.position&&(w.setSelectionRange(i.position,i.position),setTimeout((()=>{w.focus()})))}}),n(20,c={icon:Ii,text:"Auto repair",title:"Automatically repair JSON",onClick:function(){try{n(0,h=f(h)),p&&p(h)}catch(e){}}}),[h,d,i,b,w,s,l,u,function(e){y("handleChange");const t=e.target.value;h!==t&&(n(0,h=t),p&&p(h))},g,f,p,m,C,I,v,A,r,o,a,c,function(e){re[e?"unshift":"push"]((()=>{w=e,n(4,w)}))},function(e){re[e?"unshift":"push"]((()=>{b=e,n(3,b)}))}]}class Ew extends Oe{constructor(e){super(),Me(this,e,Bw,_w,a,{text:0,readOnly:1,onParse:9,onRepair:10,onChange:11,onApply:12,onCancel:13,onFocus:14,onBlur:15,onRenderMenu:16})}}function Lw(e){let t,n,i;function r(t){e[9](t)}let o={onParse:e[1],onRepair:e[2],onApply:e[6],onCancel:e[7],onFocus:e[3],onBlur:e[4],onRenderMenu:e[5]};return void 0!==e[0]&&(o.text=e[0]),t=new Ew({props:o}),re.push((()=>Le(t,"text",r))),{c(){We(t.$$.fragment)},m(e,n){Ge(t,e,n),i=!0},p(e,[i]){const r={};2&i&&(r.onParse=e[1]),4&i&&(r.onRepair=e[2]),8&i&&(r.onFocus=e[3]),16&i&&(r.onBlur=e[4]),32&i&&(r.onRenderMenu=e[5]),!n&&1&i&&(n=!0,r.text=e[0],de((()=>n=!1))),t.$set(r)},i(e){i||(we(t.$$.fragment,e),i=!0)},o(e){$e(t.$$.fragment,e),i=!1},d(e){Te(t,e)}}}function Ww(e,t,n){let{text:i}=t,{onParse:r}=t,{onRepair:o}=t,{onApply:s}=t,{onFocus:a}=t,{onBlur:c}=t,{onRenderMenu:l}=t;const{close:u}=ne("simple-modal");return e.$$set=e=>{"text"in e&&n(0,i=e.text),"onParse"in e&&n(1,r=e.onParse),"onRepair"in e&&n(2,o=e.onRepair),"onApply"in e&&n(8,s=e.onApply),"onFocus"in e&&n(3,a=e.onFocus),"onBlur"in e&&n(4,c=e.onBlur),"onRenderMenu"in e&&n(5,l=e.onRenderMenu)},[i,r,o,a,c,l,function(e){u(),s(e)},function(){u()},s,function(e){i=e,n(0,i)}]}class Gw extends Oe{constructor(e){super(),Me(this,e,Ww,Lw,c,{text:0,onParse:1,onRepair:2,onApply:8,onFocus:3,onBlur:4,onRenderMenu:5})}}function Tw(e){let t,n,i,r,s,a,c,l,u,h,d,g,f,p,m,C,I,v,A,$,x,_,L,W,G,M,O,N,H,Z,V,P,F,K,j,D,z,X,J,Y,U,Q,q,ee,te,ne,ie,re,oe,se,ae,ce,le,ue,he,de,ge,fe,pe,me,Ce,Ie,ve,Ae,ye,be,Se,xe,ke,Re,_e,Be,Ee,Le,Me,Oe,Ne,He,Ze,Ve,Pe,Fe,Ke,je,De,ze,Xe,Je,Ye,Ue,Qe,qe,et,tt,nt,it,rt,ot,st,at,ct,lt,ut,ht;return r=new AA({props:{data:hi}}),u=new AA({props:{data:hi}}),I=new AA({props:{data:si}}),_=new AA({props:{data:ri}}),O=new AA({props:{data:ui}}),D=new AA({props:{data:mi}}),U=new AA({props:{data:ni}}),ne=new AA({props:{data:oi}}),ae=new AA({props:{data:pi}}),de=new AA({props:{data:li}}),tt=new AA({props:{data:Un}}),st=new AA({props:{data:Yn}}),{c(){t=S("div"),n=S("div"),i=S("button"),We(r.$$.fragment),s=k(" Edit key"),c=R(),l=S("button"),We(u.$$.fragment),h=k(" Edit value"),g=R(),f=S("div"),p=R(),m=S("div"),C=S("button"),We(I.$$.fragment),v=k(" Cut"),$=R(),x=S("button"),We(_.$$.fragment),L=k(" Copy"),G=R(),M=S("button"),We(O.$$.fragment),N=k(" Paste"),Z=R(),V=S("div"),P=R(),F=S("div"),K=S("div"),j=S("button"),We(D.$$.fragment),z=k(" Remove"),J=R(),Y=S("button"),We(U.$$.fragment),Q=k(" Duplicate"),ee=R(),te=S("button"),We(ne.$$.fragment),ie=k(" Extract"),oe=R(),se=S("button"),We(ae.$$.fragment),ce=k(" Sort"),ue=R(),he=S("button"),We(de.$$.fragment),ge=k(" Transform"),pe=R(),me=S("div"),Ce=S("div"),Ie=k(e[8]),ve=k(":"),Ae=R(),ye=S("button"),be=S("span"),Se=S("span"),Se.textContent="+",xe=k(" Structure"),_e=R(),Be=S("button"),Ee=S("span"),Ee.textContent="{}",Le=k(" Object"),Ne=R(),He=S("button"),Ze=S("span"),Ze.textContent="[]",Ve=k(" Array"),Ke=R(),je=S("button"),De=S("span"),De.innerHTML='<span class="quote svelte-1pz6wfc">&quot;</span>',ze=k(" Value"),Ye=R(),Ue=S("div"),Qe=R(),qe=S("div"),et=S("button"),We(tt.$$.fragment),nt=k(" Insert before"),rt=R(),ot=S("button"),We(st.$$.fragment),at=k(" Insert after"),E(i,"title","Edit the key (Double-click on the key)"),E(i,"data-name","edit-key"),E(i,"data-down","cut,copy,paste"),E(i,"data-right","edit-value"),i.disabled=a=!e[6],E(i,"class","svelte-1pz6wfc"),E(l,"title","Edit the value (Double-click on the value)"),E(l,"data-name","edit-value"),E(l,"data-down","paste,copy,cut"),E(l,"data-left","edit-key"),l.disabled=d=!e[7],E(l,"class","svelte-1pz6wfc"),E(n,"class","row svelte-1pz6wfc"),E(f,"class","separator svelte-1pz6wfc"),E(C,"title","Cut selected contents (Ctrl+X)"),E(C,"data-name","cut"),E(C,"data-up","edit-key,edit-value"),E(C,"data-down","remove"),E(C,"data-right","copy"),C.disabled=A=!e[2],E(C,"class","svelte-1pz6wfc"),E(x,"title","Copy selected contents (Ctrl+C)"),E(x,"data-name","copy"),E(x,"data-up","edit-key,edit-value"),E(x,"data-down","insert-structure"),E(x,"data-left","cut"),E(x,"data-right","paste"),x.disabled=W=!e[2],E(x,"class","svelte-1pz6wfc"),E(M,"title","Paste clipboard contents (Ctrl+V)"),E(M,"data-name","paste"),E(M,"data-up","edit-value,edit-key"),E(M,"data-down","insert-structure"),E(M,"data-left","copy"),M.disabled=H=!e[0],E(M,"class","svelte-1pz6wfc"),E(m,"class","row svelte-1pz6wfc"),E(V,"class","separator svelte-1pz6wfc"),E(j,"title","Remove selected contents (Delete)"),E(j,"data-name","remove"),E(j,"data-up","cut,copy,paste"),E(j,"data-down","duplicate"),E(j,"data-right","insert-structure"),j.disabled=X=!e[2],E(j,"class","svelte-1pz6wfc"),E(Y,"title","Duplicate selected contents (Ctrl+D)"),E(Y,"data-name","duplicate"),E(Y,"data-up","remove"),E(Y,"data-down","extract"),E(Y,"data-right","insert-structure"),Y.disabled=q=!e[4],E(Y,"class","svelte-1pz6wfc"),E(te,"title","Extract selected contents"),E(te,"data-name","extract"),E(te,"data-up","duplicate"),E(te,"data-down","sort"),E(te,"data-right","insert-object"),te.disabled=re=!e[5],E(te,"class","svelte-1pz6wfc"),E(se,"title","Sort array or object contents"),E(se,"data-name","sort"),E(se,"data-up","extract"),E(se,"data-down","transform"),E(se,"data-right","insert-array"),se.disabled=le=!e[2],E(se,"class","svelte-1pz6wfc"),E(he,"title","Transform array or object contents (filter, sort, project)"),E(he,"data-name","transform"),E(he,"data-up","sort"),E(he,"data-down","insert-before"),E(he,"data-right","insert-value"),he.disabled=fe=!e[2],E(he,"class","svelte-1pz6wfc"),E(K,"class","column svelte-1pz6wfc"),E(Ce,"class","label svelte-1pz6wfc"),E(Se,"class","plus svelte-1pz6wfc"),E(be,"class","insert svelte-1pz6wfc"),E(ye,"title",ke=e[8]+" structure"),E(ye,"data-name","insert-structure"),E(ye,"data-up","paste,copy,cut"),E(ye,"data-down","insert-object"),E(ye,"data-left","duplicate"),ye.disabled=Re=!e[0],E(ye,"class","svelte-1pz6wfc"),E(Ee,"class","insert svelte-1pz6wfc"),E(Be,"title",Me=e[8]+" object"),E(Be,"data-name","insert-object"),E(Be,"data-up","insert-structure"),E(Be,"data-down","insert-array"),E(Be,"data-left","extract"),Be.disabled=Oe=!e[0],E(Be,"class","svelte-1pz6wfc"),E(Ze,"class","insert svelte-1pz6wfc"),E(He,"title",Pe=e[8]+" array"),E(He,"data-name","insert-array"),E(He,"data-up","insert-object"),E(He,"data-down","insert-value"),E(He,"data-left","sort"),He.disabled=Fe=!e[0],E(He,"class","svelte-1pz6wfc"),E(De,"class","insert svelte-1pz6wfc"),E(je,"title",Xe=e[8]+" value"),E(je,"data-name","insert-value"),E(je,"data-up","insert-array"),E(je,"data-down","insert-after"),E(je,"data-left","transform"),je.disabled=Je=!e[0],E(je,"class","svelte-1pz6wfc"),E(me,"class","column svelte-1pz6wfc"),E(F,"class","row svelte-1pz6wfc"),E(Ue,"class","separator svelte-1pz6wfc"),E(et,"title","Select area before current entry to insert or paste contents"),E(et,"data-name","insert-before"),E(et,"data-up","transform"),E(et,"data-right","insert-after"),et.disabled=it=!e[2]||e[1],E(et,"class","svelte-1pz6wfc"),E(ot,"title","Select area after current entry to insert or paste contents"),E(ot,"data-name","insert-after"),E(ot,"data-up","insert-value"),E(ot,"data-left","insert-before"),ot.disabled=ct=!e[2]||e[1],E(ot,"class","svelte-1pz6wfc"),E(qe,"class","row svelte-1pz6wfc"),E(t,"class","jsoneditor-contextmenu svelte-1pz6wfc")},m(o,a){b(o,t,a),y(t,n),y(n,i),Ge(r,i,null),y(i,s),y(n,c),y(n,l),Ge(u,l,null),y(l,h),y(t,g),y(t,f),y(t,p),y(t,m),y(m,C),Ge(I,C,null),y(C,v),y(m,$),y(m,x),Ge(_,x,null),y(x,L),y(m,G),y(m,M),Ge(O,M,null),y(M,N),y(t,Z),y(t,V),y(t,P),y(t,F),y(F,K),y(K,j),Ge(D,j,null),y(j,z),y(K,J),y(K,Y),Ge(U,Y,null),y(Y,Q),y(K,ee),y(K,te),Ge(ne,te,null),y(te,ie),y(K,oe),y(K,se),Ge(ae,se,null),y(se,ce),y(K,ue),y(K,he),Ge(de,he,null),y(he,ge),y(F,pe),y(F,me),y(me,Ce),y(Ce,Ie),y(Ce,ve),y(me,Ae),y(me,ye),y(ye,be),y(be,Se),y(ye,xe),y(me,_e),y(me,Be),y(Be,Ee),y(Be,Le),y(me,Ne),y(me,He),y(He,Ze),y(He,Ve),y(me,Ke),y(me,je),y(je,De),y(je,ze),y(t,Ye),y(t,Ue),y(t,Qe),y(t,qe),y(qe,et),Ge(tt,et,null),y(et,nt),y(qe,rt),y(qe,ot),Ge(st,ot,null),y(ot,at),e[43](t),lt=!0,ut||(ht=[B(i,"click",e[9]),B(l,"click",e[10]),B(C,"click",e[11]),B(x,"click",e[12]),B(M,"click",e[13]),B(j,"click",e[14]),B(Y,"click",e[15]),B(te,"click",e[16]),B(se,"click",e[18]),B(he,"click",e[19]),B(ye,"click",e[39]),B(Be,"click",e[40]),B(He,"click",e[41]),B(je,"click",e[42]),B(et,"click",e[20]),B(ot,"click",e[21]),B(t,"keydown",e[22])],ut=!0)},p(e,t){(!lt||64&t[0]&&a!==(a=!e[6]))&&(i.disabled=a),(!lt||128&t[0]&&d!==(d=!e[7]))&&(l.disabled=d),(!lt||4&t[0]&&A!==(A=!e[2]))&&(C.disabled=A),(!lt||4&t[0]&&W!==(W=!e[2]))&&(x.disabled=W),(!lt||1&t[0]&&H!==(H=!e[0]))&&(M.disabled=H),(!lt||4&t[0]&&X!==(X=!e[2]))&&(j.disabled=X),(!lt||16&t[0]&&q!==(q=!e[4]))&&(Y.disabled=q),(!lt||32&t[0]&&re!==(re=!e[5]))&&(te.disabled=re),(!lt||4&t[0]&&le!==(le=!e[2]))&&(se.disabled=le),(!lt||4&t[0]&&fe!==(fe=!e[2]))&&(he.disabled=fe),(!lt||256&t[0])&&T(Ie,e[8]),(!lt||256&t[0]&&ke!==(ke=e[8]+" structure"))&&E(ye,"title",ke),(!lt||1&t[0]&&Re!==(Re=!e[0]))&&(ye.disabled=Re),(!lt||256&t[0]&&Me!==(Me=e[8]+" object"))&&E(Be,"title",Me),(!lt||1&t[0]&&Oe!==(Oe=!e[0]))&&(Be.disabled=Oe),(!lt||256&t[0]&&Pe!==(Pe=e[8]+" array"))&&E(He,"title",Pe),(!lt||1&t[0]&&Fe!==(Fe=!e[0]))&&(He.disabled=Fe),(!lt||256&t[0]&&Xe!==(Xe=e[8]+" value"))&&E(je,"title",Xe),(!lt||1&t[0]&&Je!==(Je=!e[0]))&&(je.disabled=Je),(!lt||6&t[0]&&it!==(it=!e[2]||e[1]))&&(et.disabled=it),(!lt||6&t[0]&&ct!==(ct=!e[2]||e[1]))&&(ot.disabled=ct)},i(e){lt||(we(r.$$.fragment,e),we(u.$$.fragment,e),we(I.$$.fragment,e),we(_.$$.fragment,e),we(O.$$.fragment,e),we(D.$$.fragment,e),we(U.$$.fragment,e),we(ne.$$.fragment,e),we(ae.$$.fragment,e),we(de.$$.fragment,e),we(tt.$$.fragment,e),we(st.$$.fragment,e),lt=!0)},o(e){$e(r.$$.fragment,e),$e(u.$$.fragment,e),$e(I.$$.fragment,e),$e(_.$$.fragment,e),$e(O.$$.fragment,e),$e(D.$$.fragment,e),$e(U.$$.fragment,e),$e(ne.$$.fragment,e),$e(ae.$$.fragment,e),$e(de.$$.fragment,e),$e(tt.$$.fragment,e),$e(st.$$.fragment,e),lt=!1},d(n){n&&w(t),Te(r),Te(u),Te(I),Te(_),Te(O),Te(D),Te(U),Te(ne),Te(ae),Te(de),Te(tt),Te(st),e[43](null),ut=!1,o(ht)}}}function Mw(e,t,n){let i,r,o,s,a,c,l,u,h,{json:d}=t,{selection:g}=t,{onCloseContextMenu:f}=t,{onEditKey:p}=t,{onEditValue:m}=t,{onCut:C}=t,{onCopy:I}=t,{onPaste:v}=t,{onRemove:A}=t,{onDuplicate:y}=t,{onExtract:b}=t,{onInsertBefore:w}=t,{onInsert:$}=t,{onInsertAfter:S}=t,{onSort:x}=t,{onTransform:k}=t;function R(e){f(),$(e)}Q((()=>{setTimeout((()=>{const e=[...h.querySelectorAll("button")].find((e=>!e.disabled));e&&e.focus()}))}));return e.$$set=e=>{"json"in e&&n(23,d=e.json),"selection"in e&&n(24,g=e.selection),"onCloseContextMenu"in e&&n(25,f=e.onCloseContextMenu),"onEditKey"in e&&n(26,p=e.onEditKey),"onEditValue"in e&&n(27,m=e.onEditValue),"onCut"in e&&n(28,C=e.onCut),"onCopy"in e&&n(29,I=e.onCopy),"onPaste"in e&&n(30,v=e.onPaste),"onRemove"in e&&n(31,A=e.onRemove),"onDuplicate"in e&&n(32,y=e.onDuplicate),"onExtract"in e&&n(33,b=e.onExtract),"onInsertBefore"in e&&n(34,w=e.onInsertBefore),"onInsert"in e&&n(35,$=e.onInsert),"onInsertAfter"in e&&n(36,S=e.onInsertAfter),"onSort"in e&&n(37,x=e.onSort),"onTransform"in e&&n(38,k=e.onTransform)},e.$$.update=()=>{16777216&e.$$.dirty[0]&&n(0,i=null!=g),16777217&e.$$.dirty[0]&&n(1,r=i&&kd(g.focusPath)),16777216&e.$$.dirty[0]&&n(2,o=null!=g&&(g.type===sv||g.type===rv||g.type===ov)),16777222&e.$$.dirty[0]&&n(4,s=null!=g&&o&&!r),16777218&e.$$.dirty[0]&&n(5,a=null!=g&&(g.type===sv||g.type===ov)&&!r),25165826&e.$$.dirty[0]&&n(6,c=null!=g&&(g.type===rv||g.type===ov||g.type===sv&&1===g.paths.length)&&!r&&!Array.isArray(vi.getIn(d,nd(g.focusPath)))),25165824&e.$$.dirty[0]&&n(7,l=null!=g&&(g.type===rv||g.type===ov||g.type===sv&&1===g.paths.length)&&!xI(vi.getIn(d,g.focusPath))),4&e.$$.dirty[0]&&n(8,u=o?"Replace with":"Insert")},[i,r,o,h,s,a,c,l,u,function(){f(),p()},function(){f(),m()},function(){f(),C()},function(){f(),I()},function(){f(),v()},function(){f(),A()},function(){f(),y()},function(){f(),b()},R,function(){f(),x()},function(){f(),k()},function(){f(),w()},function(){f(),S()},function(e){const t=Ev(e).replace(/^Command\+/,"Ctrl+");function n(e,t){const i=e.getAttribute("data-"+t);if(i){const e=i.split(",");for(const t of e){const e=h.querySelector(`button[data-name="${t}"]`);if(e&&!e.disabled)return e}for(const i of e){const e=h.querySelector(`button[data-name="${i}"]`);if(e&&e.disabled){const i=n(e,t);if(i)return i}}}}"Up"!==t&&"Down"!==t&&"Left"!==t&&"Right"!==t||(e.preventDefault(),function(e,t){const i=n(e,t);i&&i.focus()}(e.target,t.toLowerCase()))},d,g,f,p,m,C,I,v,A,y,b,w,$,S,x,k,()=>R("structure"),()=>R("object"),()=>R("array"),()=>R("value"),function(e){re[e?"unshift":"push"]((()=>{h=e,n(3,h)}))}]}class Ow extends Oe{constructor(e){super(),Me(this,e,Mw,Tw,c,{json:23,selection:24,onCloseContextMenu:25,onEditKey:26,onEditValue:27,onCut:28,onCopy:29,onPaste:30,onRemove:31,onDuplicate:32,onExtract:33,onInsertBefore:34,onInsert:35,onInsertAfter:36,onSort:37,onTransform:38},[-1,-1])}}
/*!
      Copyright (c) 2018 Jed Watson.
      Licensed under the MIT License (MIT), see
      http://jedwatson.github.io/classnames
    */var Nw=He((function(e){!function(){var t={}.hasOwnProperty;function n(){for(var e=[],i=0;i<arguments.length;i++){var r=arguments[i];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)){if(r.length){var s=n.apply(null,r);s&&e.push(s)}}else if("object"===o)if(r.toString===Object.prototype.toString)for(var a in r)t.call(r,a)&&r[a]&&e.push(a);else e.push(r.toString())}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n}()}));function Hw(e,t,n){const i=e.slice();return i[11]=t[n],i}function Zw(e){let t,n,i,r,o,s,a,c,l=e[11].start+"",u=e[11].end+"";function h(){return e[10](e[11])}return{c(){t=S("button"),n=k("show "),i=k(l),r=k("-"),o=k(u),s=R(),E(t,"class","expand-items svelte-1w9eqxv")},m(e,l){b(e,t,l),y(t,n),y(t,i),y(t,r),y(t,o),y(t,s),a||(c=B(t,"click",h),a=!0)},p(t,n){e=t,16&n&&l!==(l=e[11].start+"")&&T(i,l),16&n&&u!==(u=e[11].end+"")&&T(o,u)},d(e){e&&w(t),a=!1,c()}}}function Vw(t){let n,i,r,o,s,a,c,l,u,h,d=t[4],g=[];for(let e=0;e<d.length;e+=1)g[e]=Zw(Hw(t,d,e));return{c(){n=S("div"),i=S("div"),r=S("div"),o=k("Items "),s=k(t[2]),a=k("-"),c=k(t[3]);for(let e=0;e<g.length;e+=1)g[e].c();E(r,"class","text svelte-1w9eqxv"),E(n,"class","collapsed-items svelte-1w9eqxv"),E(n,"style",l=t[5](t[0].length+2))},m(e,t){b(e,n,t),y(n,i),y(i,r),y(r,o),y(r,s),y(r,a),y(r,c);for(let e=0;e<g.length;e+=1)g[e].m(i,null);u||(h=B(n,"mousemove",Pw),u=!0)},p(e,[t]){if(4&t&&T(s,e[2]),8&t&&T(c,e[3]),19&t){let n;for(d=e[4],n=0;n<d.length;n+=1){const r=Hw(e,d,n);g[n]?g[n].p(r,t):(g[n]=Zw(r),g[n].c(),g[n].m(i,null))}for(;n<g.length;n+=1)g[n].d(1);g.length=d.length}1&t&&l!==(l=e[5](e[0].length+2))&&E(n,"style",l)},i:e,o:e,d(e){e&&w(n),$(g,e),u=!1,h()}}}function Pw(e){e.stopPropagation()}function Fw(e,t,n){let i,r,o,s,{visibleSections:a}=t,{sectionIndex:c}=t,{total:l}=t,{path:u}=t,{onExpandSection:h}=t;return e.$$set=e=>{"visibleSections"in e&&n(6,a=e.visibleSections),"sectionIndex"in e&&n(7,c=e.sectionIndex),"total"in e&&n(8,l=e.total),"path"in e&&n(0,u=e.path),"onExpandSection"in e&&n(1,h=e.onExpandSection)},e.$$.update=()=>{192&e.$$.dirty&&n(9,i=a[c]),512&e.$$.dirty&&n(2,r=i.end),448&e.$$.dirty&&n(3,o=a[c+1]?a[c+1].start:l),12&e.$$.dirty&&n(4,s=function(e,t){const n={start:e,end:Math.min(TI(e),t)},i=Math.max(MI((e+t)/2),e),r={start:i,end:Math.min(TI(i),t)},o=MI(t),s=o===t?o-cI:o,a={start:Math.max(s,e),end:t},c=[n],l=r.start>=n.end&&r.end<=a.start;return l&&c.push(r),a.start>=(l?r.end:n.end)&&c.push(a),c}(r,o))},[u,h,r,o,s,function(e){return`margin-left: ${18*e}px`},a,c,l,i,e=>h(u,e)]}class Kw extends Oe{constructor(e){super(),Me(this,e,Fw,Vw,a,{visibleSections:6,sectionIndex:7,total:8,path:0,onExpandSection:1})}}function jw(e){let t,n,i,r,o;return n=new AA({props:{data:Xn}}),{c(){t=S("button"),We(n.$$.fragment),E(t,"class","context-menu-button svelte-2iakqw"),E(t,"title",pI),V(t,"selected",e[0])},m(s,a){b(s,t,a),Ge(n,t,null),i=!0,r||(o=B(t,"click",e[1]),r=!0)},p(e,[n]){1&n&&V(t,"selected",e[0])},i(e){i||(we(n.$$.fragment,e),i=!0)},o(e){$e(n.$$.fragment,e),i=!1},d(e){e&&w(t),Te(n),r=!1,o()}}}function Dw(e,t,n){let{selected:i}=t,{onContextMenu:r}=t;return e.$$set=e=>{"selected"in e&&n(0,i=e.selected),"onContextMenu"in e&&n(2,r=e.onContextMenu)},[i,function(e){let t=e.target;for(;t&&"BUTTON"!==t.nodeName;)t=t.parentNode;t&&r({anchor:t,width:bI,height:yI})},r]}class zw extends Oe{constructor(e){super(),Me(this,e,Dw,jw,a,{selected:0,onContextMenu:2})}}function Xw(t){let n,i,r,s;return{c(){n=S("div"),E(n,"data-type","selectable-key"),E(n,"class",i=g(t[2])+" svelte-w9irbp"),E(n,"contenteditable",t[1]),E(n,"spellcheck","false")},m(e,i){b(e,n,i),t[15](n),r||(s=[B(n,"input",t[3]),B(n,"dblclick",t[5]),B(n,"keydown",t[4])],r=!0)},p(e,[t]){4&t&&i!==(i=g(e[2])+" svelte-w9irbp")&&E(n,"class",i),2&t&&E(n,"contenteditable",e[1])},i:e,o:e,d(e){e&&w(n),t[15](null),r=!1,o(s)}}}function Jw(e,t,n){let i,r,o,{path:s}=t,{key:a}=t,{readOnly:c}=t,{onUpdateKey:l}=t,{selection:u}=t,{onSelect:h}=t,{searchResult:d}=t;q((()=>{p()}));let g,f=a;function p(){if(a!==f){const e=l(a,f);e!==f&&C(e)}}function m(){return o?vv(o):a}function C(e){o&&(n(13,f=e),Av(o,e))}return e.$$set=e=>{"path"in e&&n(6,s=e.path),"key"in e&&n(7,a=e.key),"readOnly"in e&&n(8,c=e.readOnly),"onUpdateKey"in e&&n(9,l=e.onUpdateKey),"selection"in e&&n(10,u=e.selection),"onSelect"in e&&n(11,h=e.onSelect),"searchResult"in e&&n(12,d=e.searchResult)},e.$$.update=()=>{1088&e.$$.dirty&&n(14,i=!(!u||u.type!==rv)&&Rd(u.focusPath,s)),17408&e.$$.dirty&&n(1,r=i&&u&&!0===u.edit),12288&e.$$.dirty&&n(2,g=function(e,t){return Nw("editable-div","key",{search:t&&t[nI],active:t&&t[nI]===oI,empty:""===e})}(f,d)),2&e.$$.dirty&&!0===r&&setTimeout((()=>{o&&Sv(o)})),129&e.$$.dirty&&o&&C(a),2&e.$$.dirty&&!1===r&&p()},[o,r,g,function(){n(13,f=m()),""===f&&C("")},async function(e){const t=Ev(e);e.stopPropagation(),"Escape"===t&&(C(a),h({type:rv,path:s})),c||"Enter"!==t&&"Tab"!==t||(n(13,f=m()),p(),await ue(),h({type:rv,path:s,next:!0}))},function(e){r||c||(e.preventDefault(),h({type:rv,path:s,edit:!0}))},s,a,c,l,u,h,d,f,i,function(e){re[e?"unshift":"push"]((()=>{o=e,n(0,o)}))}]}class Yw extends Oe{constructor(e){super(),Me(this,e,Jw,Xw,a,{path:6,key:7,readOnly:8,onUpdateKey:9,selection:10,onSelect:11,searchResult:12})}}
/*!
     * Font Awesome Free 5.15.3 by @fontawesome - https://fontawesome.com
     * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
     */var Uw={prefix:"far",iconName:"check-square",icon:[448,512,[],"f14a","M400 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zm0 400H48V80h352v352zm-35.864-241.724L191.547 361.48c-4.705 4.667-12.303 4.637-16.97-.068l-90.781-91.516c-4.667-4.705-4.637-12.303.069-16.971l22.719-22.536c4.705-4.667 12.303-4.637 16.97.069l59.792 60.277 141.352-140.216c4.705-4.667 12.303-4.637 16.97.068l22.536 22.718c4.667 4.706 4.637 12.304-.068 16.971z"]},Qw={prefix:"far",iconName:"square",icon:[448,512,[],"f0c8","M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-6 400H54c-3.3 0-6-2.7-6-6V86c0-3.3 2.7-6 6-6h340c3.3 0 6 2.7 6 6v340c0 3.3-2.7 6-6 6z"]};function qw(e){let t,n,i,r,o;return n=new AA({props:{data:!0===e[0]?Uw:Qw}}),{c(){t=S("div"),We(n.$$.fragment),E(t,"class","boolean-toggle svelte-1e7scas"),E(t,"title","Click to toggle this boolean value")},m(s,a){b(s,t,a),Ge(n,t,null),i=!0,r||(o=B(t,"mousedown",e[1]),r=!0)},p(e,[t]){const i={};1&t&&(i.data=!0===e[0]?Uw:Qw),n.$set(i)},i(e){i||(we(n.$$.fragment,e),i=!0)},o(e){$e(n.$$.fragment,e),i=!1},d(e){e&&w(t),Te(n),r=!1,o()}}}function e$(e,t,n){let{onPatch:i}=t,{path:r}=t,{value:o}=t;return e.$$set=e=>{"onPatch"in e&&n(2,i=e.onPatch),"path"in e&&n(3,r=e.path),"value"in e&&n(0,o=e.value)},[o,function(e){e.stopPropagation(),i([{op:"replace",path:vi.compileJSONPointer(r),value:!o}],null)},i,r]}class t$ extends Oe{constructor(e){super(),Me(this,e,e$,qw,a,{onPatch:2,path:3,value:0})}}function n$(e){let t,n;return t=new t$({props:{path:e[1],value:e[0],onPatch:e[2]}}),{c(){We(t.$$.fragment)},m(e,i){Ge(t,e,i),n=!0},p(e,n){const i={};2&n&&(i.path=e[1]),1&n&&(i.value=e[0]),4&n&&(i.onPatch=e[2]),t.$set(i)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){$e(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function i$(e){let t,n,i,r,s,a,c,l=!e[4]&&(!0===e[0]||!1===e[0])&&n$(e);return{c(){l&&l.c(),t=R(),n=S("div"),E(n,"data-type","selectable-value"),E(n,"class",i=g(e[5])+" svelte-1dn48jf"),E(n,"contenteditable",e[4]),E(n,"spellcheck","false"),E(n,"title",r=e[6]?"Ctrl+Click or Ctrl+Enter to open url in new window":null)},m(i,r){l&&l.m(i,r),b(i,t,r),b(i,n,r),e[17](n),s=!0,a||(c=[B(n,"input",e[7]),B(n,"click",e[8]),B(n,"dblclick",e[9]),B(n,"keydown",e[10])],a=!0)},p(e,[o]){e[4]||!0!==e[0]&&!1!==e[0]?l&&(ye(),$e(l,1,1,(()=>{l=null})),be()):l?(l.p(e,o),17&o&&we(l,1)):(l=n$(e),l.c(),we(l,1),l.m(t.parentNode,t)),(!s||32&o&&i!==(i=g(e[5])+" svelte-1dn48jf"))&&E(n,"class",i),(!s||16&o)&&E(n,"contenteditable",e[4]),(!s||64&o&&r!==(r=e[6]?"Ctrl+Click or Ctrl+Enter to open url in new window":null))&&E(n,"title",r)},i(e){s||(we(l),s=!0)},o(e){$e(l),s=!1},d(i){l&&l.d(i),i&&w(t),i&&w(n),e[17](null),a=!1,o(c)}}}function r$(e,t,n){let i,r,o,s,{path:a}=t,{value:c}=t,{readOnly:l}=t,{onPatch:u}=t,{selection:h}=t,{onSelect:d}=t,{searchResult:g}=t;q((()=>{m()}));let f,p=c;function m(){p!==c&&(n(0,c=p),u([{op:"replace",path:vi.compileJSONPointer(a),value:p}]))}function C(){if(!s)return c;return function(e){const t=Number(e),n=parseFloat(e);return""===e?"":"null"===e?null:"true"===e||"false"!==e&&(isNaN(t)||isNaN(n)?e:t)}(vv(s))}function I(e){s&&(n(15,p=e),Av(s,e))}return e.$$set=e=>{"path"in e&&n(1,a=e.path),"value"in e&&n(0,c=e.value),"readOnly"in e&&n(11,l=e.readOnly),"onPatch"in e&&n(2,u=e.onPatch),"selection"in e&&n(12,h=e.selection),"onSelect"in e&&n(13,d=e.onSelect),"searchResult"in e&&n(14,g=e.searchResult)},e.$$.update=()=>{4098&e.$$.dirty&&n(16,i=!(!h||h.type!==ov)&&Rd(h.focusPath,a)),49152&e.$$.dirty&&n(5,f=function(e,t){const n=kI(e);return Nw("editable-div",ov,n,{search:t&&t[iI],active:t&&t[iI]===oI,url:_I(e),empty:"string"==typeof e&&0===e.length})}(p,g)),69632&e.$$.dirty&&n(4,r=i&&h&&!0===h.edit),1&e.$$.dirty&&n(6,o=_I(c)),16&e.$$.dirty&&!0===r&&setTimeout((()=>{s&&Sv(s)})),16&e.$$.dirty&&!1===r&&m(),9&e.$$.dirty&&s&&I(c)},[c,a,u,s,r,f,o,function(){n(15,p=C()),""===p&&I("")},function(e){o&&e.ctrlKey&&(e.preventDefault(),e.stopPropagation(),window.open(c,"_blank"))},function(e){l||r||(e.preventDefault(),d({type:ov,path:a,edit:!0}))},function(e){e.stopPropagation();const t=Ev(e);"Escape"===t&&(I(c),d({type:ov,path:a})),l||"Enter"!==t&&"Tab"!==t||(n(15,p=C()),m(),d({type:ov,path:a,nextInside:!0}))},l,h,d,g,p,i,function(e){re[e?"unshift":"push"]((()=>{s=e,n(3,s)}))}]}class o$ extends Oe{constructor(e){super(),Me(this,e,r$,i$,a,{path:1,value:0,readOnly:11,onPatch:2,selection:12,onSelect:13,searchResult:14})}}const s$={mousedown:!1,selectionAnchor:null,selectionAnchorType:null,selectionFocus:null};function a$(e){let t,n,i,r,o,s;const a=e[8].default,c=u(a,e,e[7],null);return{c(){t=S("div"),n=S("span"),c&&c.c(),i=R(),r=S("div"),o=k(e[0]),E(n,"class","slot svelte-8o3ila"),E(r,"class","bubble svelte-8o3ila"),V(r,"light",e[1]),V(r,"dark",e[2]),V(r,"left",e[6]),V(r,"right",e[5]),V(r,"bottom",e[4]),V(r,"top",e[3]),E(t,"class","container svelte-8o3ila")},m(e,a){b(e,t,a),y(t,n),c&&c.m(n,null),y(t,i),y(t,r),y(r,o),s=!0},p(e,[t]){c&&c.p&&(!s||128&t)&&d(c,a,e,e[7],t,null,null),(!s||1&t)&&T(o,e[0]),2&t&&V(r,"light",e[1]),4&t&&V(r,"dark",e[2]),64&t&&V(r,"left",e[6]),32&t&&V(r,"right",e[5]),16&t&&V(r,"bottom",e[4]),8&t&&V(r,"top",e[3])},i(e){s||(we(c,e),s=!0)},o(e){$e(c,e),s=!1},d(e){e&&w(t),c&&c.d(e)}}}function c$(e,t,n){let{$$slots:i={},$$scope:r}=t,{text:o=""}=t,{light:s=!1}=t,{dark:a=!1}=t,{top:c=!1}=t,{bottom:l=!1}=t,{right:u=!1}=t,{left:h=!1}=t;return e.$$set=e=>{"text"in e&&n(0,o=e.text),"light"in e&&n(1,s=e.light),"dark"in e&&n(2,a=e.dark),"top"in e&&n(3,c=e.top),"bottom"in e&&n(4,l=e.bottom),"right"in e&&n(5,u=e.right),"left"in e&&n(6,h=e.left),"$$scope"in e&&n(7,r=e.$$scope)},[o,s,a,c,l,u,h,r,i]}class l$ extends Oe{constructor(e){super(),Me(this,e,c$,a$,a,{text:0,light:1,dark:2,top:3,bottom:4,right:5,left:6})}}function u$(e){let t,n,i,r,o;return n=new AA({props:{data:ci}}),{c(){t=S("button"),We(n.$$.fragment),E(t,"class","validation-error svelte-1ewxg2y")},m(a,c){b(a,t,c),Ge(n,t,null),i=!0,r||(o=B(t,"click",(function(){s(e[0])&&e[0].apply(this,arguments)})),r=!0)},p(t,n){e=t},i(e){i||(we(n.$$.fragment,e),i=!0)},o(e){$e(n.$$.fragment,e),i=!1},d(e){e&&w(t),Te(n),r=!1,o()}}}function h$(e){let t,n;return t=new l$({props:{dark:!0,text:e[1],top:!0,$$slots:{default:[u$]},$$scope:{ctx:e}}}),{c(){We(t.$$.fragment)},m(e,i){Ge(t,e,i),n=!0},p(e,[n]){const i={};2&n&&(i.text=e[1]),9&n&&(i.$$scope={dirty:n,ctx:e}),t.$set(i)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){$e(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function d$(e,t,n){let i,{validationError:r}=t,{onExpand:o}=t;return e.$$set=e=>{"validationError"in e&&n(2,r=e.validationError),"onExpand"in e&&n(0,o=e.onExpand)},e.$$.update=()=>{4&e.$$.dirty&&n(1,i=r.isChildError?"Contains invalid data":r.message)},[o,i,r]}class g$ extends Oe{constructor(e){super(),Me(this,e,d$,h$,a,{validationError:2,onExpand:0})}}const f$=e=>({}),p$=e=>({});function m$(e,t,n){const i=e.slice();return i[49]=t[n],i}const C$=e=>({}),I$=e=>({});function v$(e,t,n){const i=e.slice();return i[43]=t[n],i[45]=n,i}function A$(e,t,n){const i=e.slice();return i[46]=t[n],i[48]=n,i}const y$=e=>({}),b$=e=>({});function w$(e){let t,n,i,r,o,s,a,c,l,h=e[13]&&(e[13].type===ov||e[13].type===sv)&&!e[13].edit&&Rd(e[13].focusPath,e[1]);const g=e[39].identifier,f=u(g,e,e[40],p$);let p=!e[24]&&x$();o=new o$({props:{path:e[1],value:e[0],readOnly:e[3],onPatch:e[6],selection:e[13],onSelect:e[9],searchResult:e[4]}});let m=h&&k$(e),C=e[23]&&R$(e),I=!e[24]&&_$(e);return{c(){t=S("div"),n=S("div"),f&&f.c(),i=R(),p&&p.c(),r=R(),We(o.$$.fragment),s=R(),m&&m.c(),a=R(),C&&C.c(),c=R(),I&&I.c(),E(n,"class","contents svelte-1f20tgc"),E(t,"class","contents-outer svelte-1f20tgc"),E(t,"style",e[26])},m(e,u){b(e,t,u),y(t,n),f&&f.m(n,null),y(n,i),p&&p.m(n,null),y(n,r),Ge(o,n,null),y(n,s),m&&m.m(n,null),y(t,a),C&&C.m(t,null),y(t,c),I&&I.m(t,null),l=!0},p(e,i){f&&f.p&&(!l||512&i[1])&&d(f,g,e,e[40],i,f$,p$),e[24]?p&&(p.d(1),p=null):p||(p=x$(),p.c(),p.m(n,r));const s={};2&i[0]&&(s.path=e[1]),1&i[0]&&(s.value=e[0]),8&i[0]&&(s.readOnly=e[3]),64&i[0]&&(s.onPatch=e[6]),8192&i[0]&&(s.selection=e[13]),512&i[0]&&(s.onSelect=e[9]),16&i[0]&&(s.searchResult=e[4]),o.$set(s),8194&i[0]&&(h=e[13]&&(e[13].type===ov||e[13].type===sv)&&!e[13].edit&&Rd(e[13].focusPath,e[1])),h?m?(m.p(e,i),8194&i[0]&&we(m,1)):(m=k$(e),m.c(),we(m,1),m.m(n,null)):m&&(ye(),$e(m,1,1,(()=>{m=null})),be()),e[23]?C?(C.p(e,i),8388608&i[0]&&we(C,1)):(C=R$(e),C.c(),we(C,1),C.m(t,c)):C&&(ye(),$e(C,1,1,(()=>{C=null})),be()),e[24]?I&&(I.d(1),I=null):I?I.p(e,i):(I=_$(e),I.c(),I.m(t,null)),(!l||67108864&i[0])&&E(t,"style",e[26])},i(e){l||(we(f,e),we(o.$$.fragment,e),we(m),we(C),l=!0)},o(e){$e(f,e),$e(o.$$.fragment,e),$e(m),$e(C),l=!1},d(e){e&&w(t),f&&f.d(e),p&&p.d(),Te(o),m&&m.d(),C&&C.d(),I&&I.d()}}}function $$(e){let t,n,i,r,o,s,a,c,l,h,g,f,p,m,C,I,v,A,$=e[13]&&(e[13].type===ov||e[13].type===sv)&&!e[13].edit&&Rd(e[13].focusPath,e[1]);const x=[E$,B$],k=[];function L(e,t){return e[20]?0:1}r=L(e),o=k[r]=x[r](e);const W=e[39].identifier,G=u(W,e,e[40],I$);let T=!e[24]&&L$();function M(e,t){return e[20]?G$:W$}let O=M(e),N=O(e),H=$&&T$(e),Z=e[23]&&(!e[20]||!e[23].isChildError)&&M$(e);function V(e,t){return e[20]?N$:e[24]?void 0:O$}let P=V(e),F=P&&P(e),K=e[20]&&H$(e);return{c(){t=S("div"),n=S("div"),i=S("button"),o.c(),s=R(),G&&G.c(),a=R(),T&&T.c(),c=R(),l=S("div"),h=S("div"),N.c(),g=R(),H&&H.c(),f=R(),Z&&Z.c(),p=R(),F&&F.c(),m=R(),K&&K.c(),C=_(),E(i,"class","expand svelte-1f20tgc"),E(i,"title","Expand or collapse this object (Ctrl+Click to expand/collapse recursively)"),E(h,"class","meta-inner svelte-1f20tgc"),E(l,"class","meta svelte-1f20tgc"),E(l,"data-type","selectable-value"),E(n,"class","header svelte-1f20tgc"),E(t,"class","header-outer svelte-1f20tgc"),E(t,"style",e[26])},m(o,u){b(o,t,u),y(t,n),y(n,i),k[r].m(i,null),y(n,s),G&&G.m(n,null),y(n,a),T&&T.m(n,null),y(n,c),y(n,l),y(l,h),N.m(h,null),y(n,g),H&&H.m(n,null),y(t,f),Z&&Z.m(t,null),y(t,p),F&&F.m(t,null),b(o,m,u),K&&K.m(o,u),b(o,C,u),I=!0,v||(A=B(i,"click",e[28]),v=!0)},p(e,s){let a=r;r=L(e),r===a?k[r].p(e,s):(ye(),$e(k[a],1,1,(()=>{k[a]=null})),be(),o=k[r],o?o.p(e,s):(o=k[r]=x[r](e),o.c()),we(o,1),o.m(i,null)),G&&G.p&&(!I||512&s[1])&&d(G,W,e,e[40],s,C$,I$),e[24]?T&&(T.d(1),T=null):T||(T=L$(),T.c(),T.m(n,c)),O===(O=M(e))&&N?N.p(e,s):(N.d(1),N=O(e),N&&(N.c(),N.m(h,null))),8194&s[0]&&($=e[13]&&(e[13].type===ov||e[13].type===sv)&&!e[13].edit&&Rd(e[13].focusPath,e[1])),$?H?(H.p(e,s),8194&s[0]&&we(H,1)):(H=T$(e),H.c(),we(H,1),H.m(n,null)):H&&(ye(),$e(H,1,1,(()=>{H=null})),be()),!e[23]||e[20]&&e[23].isChildError?Z&&(ye(),$e(Z,1,1,(()=>{Z=null})),be()):Z?(Z.p(e,s),9437184&s[0]&&we(Z,1)):(Z=M$(e),Z.c(),we(Z,1),Z.m(t,p)),P===(P=V(e))&&F?F.p(e,s):(F&&F.d(1),F=P&&P(e),F&&(F.c(),F.m(t,null))),(!I||67108864&s[0])&&E(t,"style",e[26]),e[20]?K?(K.p(e,s),1048576&s[0]&&we(K,1)):(K=H$(e),K.c(),we(K,1),K.m(C.parentNode,C)):K&&(ye(),$e(K,1,1,(()=>{K=null})),be())},i(e){I||(we(o),we(G,e),we(H),we(Z),we(K),I=!0)},o(e){$e(o),$e(G,e),$e(H),$e(Z),$e(K),I=!1},d(e){e&&w(t),k[r].d(),G&&G.d(e),T&&T.d(),N.d(),H&&H.d(),Z&&Z.d(),F&&F.d(),e&&w(m),K&&K.d(e),e&&w(C),v=!1,A()}}}function S$(e){let t,n,i,r,o,s,a,c,l,h,g,f,p,m,C,I,v,A,$=e[13]&&(e[13].type===ov||e[13].type===sv)&&!e[13].edit&&Rd(e[13].focusPath,e[1]);const x=[j$,K$],k=[];function L(e,t){return e[20]?0:1}r=L(e),o=k[r]=x[r](e);const W=e[39].identifier,G=u(W,e,e[40],b$);let T=!e[24]&&D$();function M(e,t){return e[20]?X$:z$}let O=M(e),N=O(e),H=$&&J$(e),Z=e[23]&&(!e[20]||!e[23].isChildError)&&Y$(e);function V(e,t){return e[20]?Q$:U$}let P=V(e),F=P(e),K=e[20]&&q$(e);return{c(){t=S("div"),n=S("div"),i=S("button"),o.c(),s=R(),G&&G.c(),a=R(),T&&T.c(),c=R(),l=S("div"),h=S("div"),N.c(),g=R(),H&&H.c(),f=R(),Z&&Z.c(),p=R(),F.c(),m=R(),K&&K.c(),C=_(),E(i,"class","expand svelte-1f20tgc"),E(i,"title","Expand or collapse this array (Ctrl+Click to expand/collapse recursively)"),E(h,"class","meta-inner svelte-1f20tgc"),E(h,"data-type","selectable-value"),E(l,"class","meta svelte-1f20tgc"),E(n,"class","header svelte-1f20tgc"),E(t,"class","header-outer svelte-1f20tgc"),E(t,"style",e[26])},m(o,u){b(o,t,u),y(t,n),y(n,i),k[r].m(i,null),y(n,s),G&&G.m(n,null),y(n,a),T&&T.m(n,null),y(n,c),y(n,l),y(l,h),N.m(h,null),y(n,g),H&&H.m(n,null),y(t,f),Z&&Z.m(t,null),y(t,p),F.m(t,null),b(o,m,u),K&&K.m(o,u),b(o,C,u),I=!0,v||(A=B(i,"click",e[28]),v=!0)},p(e,s){let a=r;r=L(e),r===a?k[r].p(e,s):(ye(),$e(k[a],1,1,(()=>{k[a]=null})),be(),o=k[r],o?o.p(e,s):(o=k[r]=x[r](e),o.c()),we(o,1),o.m(i,null)),G&&G.p&&(!I||512&s[1])&&d(G,W,e,e[40],s,y$,b$),e[24]?T&&(T.d(1),T=null):T||(T=D$(),T.c(),T.m(n,c)),O===(O=M(e))&&N?N.p(e,s):(N.d(1),N=O(e),N&&(N.c(),N.m(h,null))),8194&s[0]&&($=e[13]&&(e[13].type===ov||e[13].type===sv)&&!e[13].edit&&Rd(e[13].focusPath,e[1])),$?H?(H.p(e,s),8194&s[0]&&we(H,1)):(H=J$(e),H.c(),we(H,1),H.m(n,null)):H&&(ye(),$e(H,1,1,(()=>{H=null})),be()),!e[23]||e[20]&&e[23].isChildError?Z&&(ye(),$e(Z,1,1,(()=>{Z=null})),be()):Z?(Z.p(e,s),9437184&s[0]&&we(Z,1)):(Z=Y$(e),Z.c(),we(Z,1),Z.m(t,p)),P===(P=V(e))&&F?F.p(e,s):(F.d(1),F=P(e),F&&(F.c(),F.m(t,null))),(!I||67108864&s[0])&&E(t,"style",e[26]),e[20]?K?(K.p(e,s),1048576&s[0]&&we(K,1)):(K=q$(e),K.c(),we(K,1),K.m(C.parentNode,C)):K&&(ye(),$e(K,1,1,(()=>{K=null})),be())},i(e){I||(we(o),we(G,e),we(H),we(Z),we(K),I=!0)},o(e){$e(o),$e(G,e),$e(H),$e(Z),$e(K),I=!1},d(e){e&&w(t),k[r].d(),G&&G.d(e),T&&T.d(),N.d(),H&&H.d(),Z&&Z.d(),F.d(),e&&w(m),K&&K.d(e),e&&w(C),v=!1,A()}}}function x$(e){let t;return{c(){t=S("div"),t.textContent=":",E(t,"class","separator svelte-1f20tgc")},m(e,n){b(e,t,n)},d(e){e&&w(t)}}}function k$(e){let t,n,i;return n=new zw({props:{selected:!0,onContextMenu:e[10]}}),{c(){t=S("div"),We(n.$$.fragment),E(t,"class","context-menu-button-anchor svelte-1f20tgc")},m(e,r){b(e,t,r),Ge(n,t,null),i=!0},p(e,t){const i={};1024&t[0]&&(i.onContextMenu=e[10]),n.$set(i)},i(e){i||(we(n.$$.fragment,e),i=!0)},o(e){$e(n.$$.fragment,e),i=!1},d(e){e&&w(t),Te(n)}}}function R$(e){let t,n;return t=new g$({props:{validationError:e[23],onExpand:e[29]}}),{c(){We(t.$$.fragment)},m(e,i){Ge(t,e,i),n=!0},p(e,n){const i={};8388608&n[0]&&(i.validationError=e[23]),t.$set(i)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){$e(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function _$(t){let n,i,r;return{c(){n=S("div"),E(n,"class","insert-selection-area after svelte-1f20tgc"),E(n,"data-type","insert-selection-area-after")},m(e,o){b(e,n,o),i||(r=B(n,"mousedown",t[36]),i=!0)},p:e,d(e){e&&w(n),i=!1,r()}}}function B$(t){let n,i;return n=new AA({props:{data:Jn}}),{c(){We(n.$$.fragment)},m(e,t){Ge(n,e,t),i=!0},p:e,i(e){i||(we(n.$$.fragment,e),i=!0)},o(e){$e(n.$$.fragment,e),i=!1},d(e){Te(n,e)}}}function E$(t){let n,i;return n=new AA({props:{data:Xn}}),{c(){We(n.$$.fragment)},m(e,t){Ge(n,e,t),i=!0},p:e,i(e){i||(we(n.$$.fragment,e),i=!0)},o(e){$e(n.$$.fragment,e),i=!1},d(e){Te(n,e)}}}function L$(e){let t;return{c(){t=S("div"),t.textContent=":",E(t,"class","separator svelte-1f20tgc")},m(e,n){b(e,t,n)},d(e){e&&w(t)}}}function W$(e){let t,n,i,r,o,s,a,c,l,u=Object.keys(e[0]).length+"";return{c(){t=S("div"),t.textContent="{",n=R(),i=S("button"),r=k(u),o=k(" props"),s=R(),a=S("div"),a.textContent="}",E(t,"class","bracket svelte-1f20tgc"),E(i,"class","tag svelte-1f20tgc"),E(a,"class","bracket svelte-1f20tgc")},m(u,h){b(u,t,h),b(u,n,h),b(u,i,h),y(i,r),y(i,o),b(u,s,h),b(u,a,h),c||(l=B(i,"click",e[29]),c=!0)},p(e,t){1&t[0]&&u!==(u=Object.keys(e[0]).length+"")&&T(r,u)},d(e){e&&w(t),e&&w(n),e&&w(i),e&&w(s),e&&w(a),c=!1,l()}}}function G$(t){let n;return{c(){n=S("div"),n.textContent="{",E(n,"class","bracket expanded svelte-1f20tgc")},m(e,t){b(e,n,t)},p:e,d(e){e&&w(n)}}}function T$(e){let t,n,i;return n=new zw({props:{selected:!0,onContextMenu:e[10]}}),{c(){t=S("div"),We(n.$$.fragment),E(t,"class","context-menu-button-anchor svelte-1f20tgc")},m(e,r){b(e,t,r),Ge(n,t,null),i=!0},p(e,t){const i={};1024&t[0]&&(i.onContextMenu=e[10]),n.$set(i)},i(e){i||(we(n.$$.fragment,e),i=!0)},o(e){$e(n.$$.fragment,e),i=!1},d(e){e&&w(t),Te(n)}}}function M$(e){let t,n;return t=new g$({props:{validationError:e[23],onExpand:e[29]}}),{c(){We(t.$$.fragment)},m(e,i){Ge(t,e,i),n=!0},p(e,n){const i={};8388608&n[0]&&(i.validationError=e[23]),t.$set(i)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){$e(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function O$(t){let n,i,r;return{c(){n=S("div"),E(n,"class","insert-selection-area after svelte-1f20tgc"),E(n,"data-type","insert-selection-area-after")},m(e,o){b(e,n,o),i||(r=B(n,"mousedown",t[36]),i=!0)},p:e,d(e){e&&w(n),i=!1,r()}}}function N$(t){let n,i,r;return{c(){n=S("div"),E(n,"class","insert-selection-area inside svelte-1f20tgc"),E(n,"data-type","insert-selection-area-inside")},m(e,o){b(e,n,o),i||(r=B(n,"mousedown",t[35]),i=!0)},p:e,d(e){e&&w(n),i=!1,r()}}}function H$(e){let t,n,i,r,o,s,a,c,l,u,h=[],d=new Map;i=new zw({props:{selected:e[17],onContextMenu:e[37]}});let g=e[22];const f=e=>e[2][e[49]][QC];for(let t=0;t<g.length;t+=1){let n=m$(e,g,t),i=f(n);d.set(i,h[t]=P$(i,n))}let p=!e[24]&&F$(e);return{c(){t=S("div"),n=S("div"),We(i.$$.fragment),o=R();for(let e=0;e<h.length;e+=1)h[e].c();s=R(),a=S("div"),c=S("div"),c.innerHTML='<div class="bracket svelte-1f20tgc">}</div>',l=R(),p&&p.c(),E(n,"class","insert-area inside svelte-1f20tgc"),E(n,"data-type","insert-selection-area-inside"),E(n,"style",r=e[27](e[1].length+1)),E(n,"title",fI),V(n,"hovered",e[14]===mI),V(n,"selected",e[17]),E(t,"class","props svelte-1f20tgc"),E(c,"data-type","selectable-value"),E(c,"class","footer svelte-1f20tgc"),E(a,"class","footer-outer svelte-1f20tgc"),E(a,"style",e[26])},m(e,r){b(e,t,r),y(t,n),Ge(i,n,null),y(t,o);for(let e=0;e<h.length;e+=1)h[e].m(t,null);b(e,s,r),b(e,a,r),y(a,c),y(a,l),p&&p.m(a,null),u=!0},p(e,o){const s={};131072&o[0]&&(s.selected=e[17]),i.$set(s),(!u||2&o[0]&&r!==(r=e[27](e[1].length+1)))&&E(n,"style",r),16384&o[0]&&V(n,"hovered",e[14]===mI),131072&o[0]&&V(n,"selected",e[17]),1077952511&o[0]&&(g=e[22],ye(),h=_e(h,o,f,1,e,g,d,t,Re,P$,null,m$),be()),e[24]?p&&(p.d(1),p=null):p?p.p(e,o):(p=F$(e),p.c(),p.m(a,null)),(!u||67108864&o[0])&&E(a,"style",e[26])},i(e){if(!u){we(i.$$.fragment,e);for(let e=0;e<g.length;e+=1)we(h[e]);u=!0}},o(e){$e(i.$$.fragment,e);for(let e=0;e<h.length;e+=1)$e(h[e]);u=!1},d(e){e&&w(t),Te(i);for(let e=0;e<h.length;e+=1)h[e].d();e&&w(s),e&&w(a),p&&p.d()}}}function Z$(e){let t,n;return t=new zw({props:{selected:!0,onContextMenu:e[10]}}),{c(){We(t.$$.fragment)},m(e,i){Ge(t,e,i),n=!0},p(e,n){const i={};1024&n[0]&&(i.onContextMenu=e[10]),t.$set(i)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){$e(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function V$(e){let t,n,i,r,o,s=e[13]&&e[13].type===rv&&!e[13].edit&&Rd(e[13].focusPath,e[1].concat(e[49]));n=new Yw({props:{path:e[1].concat(e[49]),key:e[49],readOnly:e[3],onUpdateKey:e[30],selection:e[13],onSelect:e[9],searchResult:e[4]?e[4][e[49]]:void 0}});let a=s&&Z$(e);return{c(){t=S("div"),We(n.$$.fragment),i=R(),a&&a.c(),r=R(),E(t,"slot","identifier"),E(t,"class","identifier svelte-1f20tgc")},m(e,s){b(e,t,s),Ge(n,t,null),y(t,i),a&&a.m(t,null),y(t,r),o=!0},p(e,i){const o={};4194306&i[0]&&(o.path=e[1].concat(e[49])),4194304&i[0]&&(o.key=e[49]),8&i[0]&&(o.readOnly=e[3]),8192&i[0]&&(o.selection=e[13]),512&i[0]&&(o.onSelect=e[9]),4194320&i[0]&&(o.searchResult=e[4]?e[4][e[49]]:void 0),n.$set(o),4202498&i[0]&&(s=e[13]&&e[13].type===rv&&!e[13].edit&&Rd(e[13].focusPath,e[1].concat(e[49]))),s?a?(a.p(e,i),4202498&i[0]&&we(a,1)):(a=Z$(e),a.c(),we(a,1),a.m(t,r)):a&&(ye(),$e(a,1,1,(()=>{a=null})),be())},i(e){o||(we(n.$$.fragment,e),we(a),o=!0)},o(e){$e(n.$$.fragment,e),$e(a),o=!1},d(e){e&&w(t),Te(n),a&&a.d()}}}function P$(e,t){let n,i,r;return i=new aS({props:{value:t[0][t[49]],path:t[1].concat(t[49]),state:t[2][t[49]],readOnly:t[3],searchResult:t[4]?t[4][t[49]]:void 0,validationErrors:t[5]?t[5][t[49]]:void 0,onPatch:t[6],onInsert:t[7],onExpand:t[8],onSelect:t[9],onExpandSection:t[12],onContextMenu:t[10],onClassName:t[11],selection:t[13],$$slots:{identifier:[V$]},$$scope:{ctx:t}}}),{key:e,first:null,c(){n=_(),We(i.$$.fragment),this.first=n},m(e,t){b(e,n,t),Ge(i,e,t),r=!0},p(e,n){t=e;const r={};4194305&n[0]&&(r.value=t[0][t[49]]),4194306&n[0]&&(r.path=t[1].concat(t[49])),4194308&n[0]&&(r.state=t[2][t[49]]),8&n[0]&&(r.readOnly=t[3]),4194320&n[0]&&(r.searchResult=t[4]?t[4][t[49]]:void 0),4194336&n[0]&&(r.validationErrors=t[5]?t[5][t[49]]:void 0),64&n[0]&&(r.onPatch=t[6]),128&n[0]&&(r.onInsert=t[7]),256&n[0]&&(r.onExpand=t[8]),512&n[0]&&(r.onSelect=t[9]),4096&n[0]&&(r.onExpandSection=t[12]),1024&n[0]&&(r.onContextMenu=t[10]),2048&n[0]&&(r.onClassName=t[11]),8192&n[0]&&(r.selection=t[13]),4204058&n[0]|512&n[1]&&(r.$$scope={dirty:n,ctx:t}),i.$set(r)},i(e){r||(we(i.$$.fragment,e),r=!0)},o(e){$e(i.$$.fragment,e),r=!1},d(e){e&&w(n),Te(i,e)}}}function F$(t){let n,i,r;return{c(){n=S("div"),E(n,"class","insert-selection-area after svelte-1f20tgc"),E(n,"data-type","insert-selection-area-after")},m(e,o){b(e,n,o),i||(r=B(n,"mousedown",t[36]),i=!0)},p:e,d(e){e&&w(n),i=!1,r()}}}function K$(t){let n,i;return n=new AA({props:{data:Jn}}),{c(){We(n.$$.fragment)},m(e,t){Ge(n,e,t),i=!0},p:e,i(e){i||(we(n.$$.fragment,e),i=!0)},o(e){$e(n.$$.fragment,e),i=!1},d(e){Te(n,e)}}}function j$(t){let n,i;return n=new AA({props:{data:Xn}}),{c(){We(n.$$.fragment)},m(e,t){Ge(n,e,t),i=!0},p:e,i(e){i||(we(n.$$.fragment,e),i=!0)},o(e){$e(n.$$.fragment,e),i=!1},d(e){Te(n,e)}}}function D$(e){let t;return{c(){t=S("div"),t.textContent=":",E(t,"class","separator svelte-1f20tgc")},m(e,n){b(e,t,n)},d(e){e&&w(t)}}}function z$(e){let t,n,i,r,o,s,a,c,l,u=e[0].length+"";return{c(){t=S("div"),t.textContent="[",n=R(),i=S("button"),r=k(u),o=k(" items"),s=R(),a=S("div"),a.textContent="]",E(t,"class","bracket svelte-1f20tgc"),E(i,"class","tag svelte-1f20tgc"),E(a,"class","bracket svelte-1f20tgc")},m(u,h){b(u,t,h),b(u,n,h),b(u,i,h),y(i,r),y(i,o),b(u,s,h),b(u,a,h),c||(l=B(i,"click",e[29]),c=!0)},p(e,t){1&t[0]&&u!==(u=e[0].length+"")&&T(r,u)},d(e){e&&w(t),e&&w(n),e&&w(i),e&&w(s),e&&w(a),c=!1,l()}}}function X$(t){let n;return{c(){n=S("div"),n.textContent="[",E(n,"class","bracket expanded svelte-1f20tgc")},m(e,t){b(e,n,t)},p:e,d(e){e&&w(n)}}}function J$(e){let t,n,i;return n=new zw({props:{selected:!0,onContextMenu:e[10]}}),{c(){t=S("div"),We(n.$$.fragment),E(t,"class","context-menu-button-anchor svelte-1f20tgc")},m(e,r){b(e,t,r),Ge(n,t,null),i=!0},p(e,t){const i={};1024&t[0]&&(i.onContextMenu=e[10]),n.$set(i)},i(e){i||(we(n.$$.fragment,e),i=!0)},o(e){$e(n.$$.fragment,e),i=!1},d(e){e&&w(t),Te(n)}}}function Y$(e){let t,n;return t=new g$({props:{validationError:e[23],onExpand:e[29]}}),{c(){We(t.$$.fragment)},m(e,i){Ge(t,e,i),n=!0},p(e,n){const i={};8388608&n[0]&&(i.validationError=e[23]),t.$set(i)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){$e(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function U$(t){let n,i,r;return{c(){n=S("div"),E(n,"class","insert-selection-area after svelte-1f20tgc"),E(n,"data-type","insert-selection-area-after")},m(e,o){b(e,n,o),i||(r=B(n,"mousedown",t[36]),i=!0)},p:e,d(e){e&&w(n),i=!1,r()}}}function Q$(t){let n,i,r;return{c(){n=S("div"),E(n,"class","insert-selection-area inside svelte-1f20tgc"),E(n,"data-type","insert-selection-area-inside")},m(e,o){b(e,n,o),i||(r=B(n,"mousedown",t[35]),i=!0)},p:e,d(e){e&&w(n),i=!1,r()}}}function q$(e){let t,n,i,r,o,s,a,c,l,u,h=[],d=new Map;i=new zw({props:{selected:e[17],onContextMenu:e[37]}});let g=e[21];const f=e=>e[45];for(let t=0;t<g.length;t+=1){let n=v$(e,g,t),i=f(n);d.set(i,h[t]=iS(i,n))}let p=!e[24]&&rS(e);return{c(){t=S("div"),n=S("div"),We(i.$$.fragment),o=R();for(let e=0;e<h.length;e+=1)h[e].c();s=R(),a=S("div"),c=S("div"),c.innerHTML='<span class="bracket svelte-1f20tgc">]</span>',l=R(),p&&p.c(),E(n,"class","insert-area inside svelte-1f20tgc"),E(n,"data-type","insert-selection-area-inside"),E(n,"style",r=e[27](e[1].length+1)),E(n,"title",fI),V(n,"hovered",e[14]===mI),V(n,"selected",e[17]),E(t,"class","items svelte-1f20tgc"),E(c,"data-type","selectable-value"),E(c,"class","footer svelte-1f20tgc"),E(a,"class","footer-outer svelte-1f20tgc"),E(a,"style",e[26])},m(e,r){b(e,t,r),y(t,n),Ge(i,n,null),y(t,o);for(let e=0;e<h.length;e+=1)h[e].m(t,null);b(e,s,r),b(e,a,r),y(a,c),y(a,l),p&&p.m(a,null),u=!0},p(e,o){const s={};131072&o[0]&&(s.selected=e[17]),i.$set(s),(!u||2&o[0]&&r!==(r=e[27](e[1].length+1)))&&E(n,"style",r),16384&o[0]&&V(n,"hovered",e[14]===mI),131072&o[0]&&V(n,"selected",e[17]),2113535&o[0]&&(g=e[21],ye(),h=_e(h,o,f,1,e,g,d,t,Re,iS,null,v$),be()),e[24]?p&&(p.d(1),p=null):p?p.p(e,o):(p=rS(e),p.c(),p.m(a,null)),(!u||67108864&o[0])&&E(a,"style",e[26])},i(e){if(!u){we(i.$$.fragment,e);for(let e=0;e<g.length;e+=1)we(h[e]);u=!0}},o(e){$e(i.$$.fragment,e);for(let e=0;e<h.length;e+=1)$e(h[e]);u=!1},d(e){e&&w(t),Te(i);for(let e=0;e<h.length;e+=1)h[e].d();e&&w(s),e&&w(a),p&&p.d()}}}function eS(e){let t,n,i,r=e[43].start+e[48]+"";return{c(){t=S("div"),n=S("div"),i=k(r),E(n,"class","index svelte-1f20tgc"),E(t,"slot","identifier"),E(t,"class","identifier svelte-1f20tgc")},m(e,r){b(e,t,r),y(t,n),y(n,i)},p(e,t){2097153&t[0]&&r!==(r=e[43].start+e[48]+"")&&T(i,r)},d(e){e&&w(t)}}}function tS(e,t){let n,i,r;return i=new aS({props:{value:t[46],path:t[1].concat(t[43].start+t[48]),state:t[2][t[43].start+t[48]],readOnly:t[3],searchResult:t[4]?t[4][t[43].start+t[48]]:void 0,validationErrors:t[5]?t[5][t[43].start+t[48]]:void 0,onPatch:t[6],onInsert:t[7],onExpand:t[8],onSelect:t[9],onExpandSection:t[12],onContextMenu:t[10],onClassName:t[11],selection:t[13],$$slots:{identifier:[eS]},$$scope:{ctx:t}}}),{key:e,first:null,c(){n=_(),We(i.$$.fragment),this.first=n},m(e,t){b(e,n,t),Ge(i,e,t),r=!0},p(e,n){t=e;const r={};2097153&n[0]&&(r.value=t[46]),2097155&n[0]&&(r.path=t[1].concat(t[43].start+t[48])),2097157&n[0]&&(r.state=t[2][t[43].start+t[48]]),8&n[0]&&(r.readOnly=t[3]),2097169&n[0]&&(r.searchResult=t[4]?t[4][t[43].start+t[48]]:void 0),2097185&n[0]&&(r.validationErrors=t[5]?t[5][t[43].start+t[48]]:void 0),64&n[0]&&(r.onPatch=t[6]),128&n[0]&&(r.onInsert=t[7]),256&n[0]&&(r.onExpand=t[8]),512&n[0]&&(r.onSelect=t[9]),4096&n[0]&&(r.onExpandSection=t[12]),1024&n[0]&&(r.onContextMenu=t[10]),2048&n[0]&&(r.onClassName=t[11]),8192&n[0]&&(r.selection=t[13]),2097153&n[0]|512&n[1]&&(r.$$scope={dirty:n,ctx:t}),i.$set(r)},i(e){r||(we(i.$$.fragment,e),r=!0)},o(e){$e(i.$$.fragment,e),r=!1},d(e){e&&w(n),Te(i,e)}}}function nS(e){let t,n;return t=new Kw({props:{visibleSections:e[21],sectionIndex:e[45],total:e[0].length,path:e[1],onExpandSection:e[12]}}),{c(){We(t.$$.fragment)},m(e,i){Ge(t,e,i),n=!0},p(e,n){const i={};2097152&n[0]&&(i.visibleSections=e[21]),2097152&n[0]&&(i.sectionIndex=e[45]),1&n[0]&&(i.total=e[0].length),2&n[0]&&(i.path=e[1]),4096&n[0]&&(i.onExpandSection=e[12]),t.$set(i)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){$e(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function iS(e,t){let n,i,r,o,s=[],a=new Map,c=t[0].slice(t[43].start,Math.min(t[43].end,t[0].length));const l=e=>e[2][e[43].start+e[48]][QC];for(let e=0;e<c.length;e+=1){let n=A$(t,c,e),i=l(n);a.set(i,s[e]=tS(i,n))}let u=t[43].end<t[0].length&&nS(t);return{key:e,first:null,c(){n=_();for(let e=0;e<s.length;e+=1)s[e].c();i=R(),u&&u.c(),r=_(),this.first=n},m(e,t){b(e,n,t);for(let n=0;n<s.length;n+=1)s[n].m(e,t);b(e,i,t),u&&u.m(e,t),b(e,r,t),o=!0},p(e,n){t=e,2113535&n[0]&&(c=t[0].slice(t[43].start,Math.min(t[43].end,t[0].length)),ye(),s=_e(s,n,l,1,t,c,a,i.parentNode,Re,tS,i,A$),be()),t[43].end<t[0].length?u?(u.p(t,n),2097153&n[0]&&we(u,1)):(u=nS(t),u.c(),we(u,1),u.m(r.parentNode,r)):u&&(ye(),$e(u,1,1,(()=>{u=null})),be())},i(e){if(!o){for(let e=0;e<c.length;e+=1)we(s[e]);we(u),o=!0}},o(e){for(let e=0;e<s.length;e+=1)$e(s[e]);$e(u),o=!1},d(e){e&&w(n);for(let t=0;t<s.length;t+=1)s[t].d(e);e&&w(i),u&&u.d(e),e&&w(r)}}}function rS(t){let n,i,r;return{c(){n=S("div"),E(n,"class","insert-selection-area after svelte-1f20tgc"),E(n,"data-type","insert-selection-area-after")},m(e,o){b(e,n,o),i||(r=B(n,"mousedown",t[36]),i=!0)},p:e,d(e){e&&w(n),i=!1,r()}}}function oS(e){let t,n,i,r,s,a,c,l,u,h,d;const f=[S$,$$,w$],p=[];function m(e,t){return"array"===e[25]?0:"object"===e[25]?1:2}return n=m(e),i=p[n]=f[n](e),a=new zw({props:{selected:e[16],onContextMenu:e[38]}}),{c(){t=S("div"),i.c(),r=R(),s=S("div"),We(a.$$.fragment),E(s,"class","insert-area after svelte-1f20tgc"),E(s,"data-type","insert-selection-area-after"),E(s,"style",e[26]),E(s,"title",fI),V(s,"hovered",e[14]===CI),V(s,"selected",e[16]),E(t,"class",c=g(Nw("json-node",{expanded:e[20]},e[11](e[1],e[0])))+" svelte-1f20tgc"),E(t,"data-path",l=vi.compileJSONPointer(e[1])),V(t,"root",e[24]),V(t,"selected",e[15]),V(t,"selected-key",e[18]),V(t,"selected-value",e[19]),V(t,"hovered",e[14]===II)},m(i,o){b(i,t,o),p[n].m(t,null),y(t,r),y(t,s),Ge(a,s,null),u=!0,h||(d=[B(t,"mousedown",e[31]),B(t,"mousemove",e[32]),B(t,"mouseover",e[33]),B(t,"mouseout",e[34])],h=!0)},p(e,o){let h=n;n=m(e),n===h?p[n].p(e,o):(ye(),$e(p[h],1,1,(()=>{p[h]=null})),be(),i=p[n],i?i.p(e,o):(i=p[n]=f[n](e),i.c()),we(i,1),i.m(t,r));const d={};65536&o[0]&&(d.selected=e[16]),a.$set(d),(!u||67108864&o[0])&&E(s,"style",e[26]),16384&o[0]&&V(s,"hovered",e[14]===CI),65536&o[0]&&V(s,"selected",e[16]),(!u||1050627&o[0]&&c!==(c=g(Nw("json-node",{expanded:e[20]},e[11](e[1],e[0])))+" svelte-1f20tgc"))&&E(t,"class",c),(!u||2&o[0]&&l!==(l=vi.compileJSONPointer(e[1])))&&E(t,"data-path",l),17827843&o[0]&&V(t,"root",e[24]),1083395&o[0]&&V(t,"selected",e[15]),1312771&o[0]&&V(t,"selected-key",e[18]),1574915&o[0]&&V(t,"selected-value",e[19]),1067011&o[0]&&V(t,"hovered",e[14]===II)},i(e){u||(we(i),we(a.$$.fragment,e),u=!0)},o(e){$e(i),$e(a.$$.fragment,e),u=!1},d(e){e&&w(t),p[n].d(),Te(a),h=!1,o(d)}}}function sS(e,t,n){let i,r,o,s,a,c,l,u,h,d,g,f,{$$slots:p={},$$scope:m}=t,{value:C}=t,{path:I}=t,{state:v}=t,{readOnly:A}=t,{searchResult:y}=t,{validationErrors:b}=t,{onPatch:w}=t,{onInsert:$}=t,{onExpand:S}=t,{onSelect:x}=t,{onContextMenu:k}=t,{onClassName:R}=t,{onExpandSection:_}=t,{selection:B}=t,E=null;function L(e){return`margin-left: ${18*e}px`}function W(e){s$.mousedown&&(e.stopPropagation(),s$.mousedown=!1),document.removeEventListener("mouseup",W)}function G(){x({type:iv,path:I})}function T(){x({type:nv,path:I})}return e.$$set=e=>{"value"in e&&n(0,C=e.value),"path"in e&&n(1,I=e.path),"state"in e&&n(2,v=e.state),"readOnly"in e&&n(3,A=e.readOnly),"searchResult"in e&&n(4,y=e.searchResult),"validationErrors"in e&&n(5,b=e.validationErrors),"onPatch"in e&&n(6,w=e.onPatch),"onInsert"in e&&n(7,$=e.onInsert),"onExpand"in e&&n(8,S=e.onExpand),"onSelect"in e&&n(9,x=e.onSelect),"onContextMenu"in e&&n(10,k=e.onContextMenu),"onClassName"in e&&n(11,R=e.onClassName),"onExpandSection"in e&&n(12,_=e.onExpandSection),"selection"in e&&n(13,B=e.selection),"$$scope"in e&&n(40,m=e.$$scope)},e.$$.update=()=>{8194&e.$$.dirty[0]&&n(15,i=!(!B||!B.pathsMap)&&!0===B.pathsMap[vi.compileJSONPointer(I)]),8194&e.$$.dirty[0]&&n(16,r=!(!B||B.type!==nv)&&Rd(B.focusPath,I)),8194&e.$$.dirty[0]&&n(17,o=!(!B||B.type!==iv)&&Rd(B.focusPath,I)),8194&e.$$.dirty[0]&&n(18,s=!(!B||B.type!==rv)&&Rd(B.focusPath,I)),8194&e.$$.dirty[0]&&n(19,a=!(!B||B.type!==ov)&&Rd(B.focusPath,I)),4&e.$$.dirty[0]&&n(20,c=v[qC]),4&e.$$.dirty[0]&&n(21,l=v[eI]),4&e.$$.dirty[0]&&n(22,u=v[tI]),32&e.$$.dirty[0]&&n(23,h=b&&b[sI]),2&e.$$.dirty[0]&&n(24,d=0===I.length),1&e.$$.dirty[0]&&n(25,g=kI(C)),2&e.$$.dirty[0]&&n(26,f=L(I.length))},[C,I,v,A,y,b,w,$,S,x,k,R,_,B,E,i,r,o,s,a,c,l,u,h,d,g,f,L,function(e){e.stopPropagation();const t=e.ctrlKey;S(I,!c,t)},function(e){e.stopPropagation(),S(I,!0)},function(e,t){const n=mw(I,u,e,t);return w(n),Su(vi.getIn(n,[0,"path"]))},function(e){if(function(e){return"DIV"===e.nodeName&&"true"===e.contentEditable}(e.target)||bv(e.target,"BUTTON"))return;e.stopPropagation(),e.preventDefault();const t=_v(e.target);if(2!==e.button||!B||!function(e,t,n){const i=t.slice(0);if(e.type===sv)for(;i.length>0;){if(!0===e.pathsMap[vi.compileJSONPointer(i)])return!0;i.pop()}if(e.type===rv)return n===rv&&Rd(e.focusPath,t);if(e.type===ov){if(n===ov&&Rd(e.focusPath,t))return!0;if(pv(t,e.focusPath)&&t.length>e.focusPath.length&&(n===rv||n===ov||n===sv))return!0}return!1}(B,I,t)){if(s$.mousedown=!0,s$.selectionAnchor=I,s$.selectionAnchorType=t,s$.selectionFocus=I,e.shiftKey)x({type:sv,anchorPath:B.anchorPath,focusPath:I});else switch(t){case rv:x({type:rv,path:I});break;case ov:x({type:ov,path:I});break;case sv:if(d&&e.target.hasAttribute("data-path")){const e=Su(ev(C,v));x(e)}else x({type:sv,anchorPath:I,focusPath:I})}document.addEventListener("mouseup",W)}},function(e){if(s$.mousedown){e.preventDefault(),e.stopPropagation(),null==s$.selectionFocus&&window.getSelection&&window.getSelection().empty();const t=_v(e.target);Rd(I,s$.selectionFocus)&&t===s$.selectionAnchorType||(s$.selectionFocus=I,x({anchorPath:s$.selectionAnchor,focusPath:s$.selectionFocus}))}},function(e){e.stopPropagation(),wv(e.target,"data-type","selectable-value")?n(14,E=II):wv(e.target,"data-type","insert-selection-area-inside")?n(14,E=mI):wv(e.target,"data-type","insert-selection-area-after")&&n(14,E=CI)},function(e){e.stopPropagation(),n(14,E=null)},G,T,function(e){G(),k(e)},function(e){T(),k(e)},p,m]}class aS extends Oe{constructor(e){super(),Me(this,e,sS,oS,c,{value:0,path:1,state:2,readOnly:3,searchResult:4,validationErrors:5,onPatch:6,onInsert:7,onExpand:8,onSelect:9,onContextMenu:10,onClassName:11,onExpandSection:12,selection:13},[-1,-1])}}function cS(t){let n,i;return n=new AA({props:{data:fi}}),{c(){We(n.$$.fragment)},m(e,t){Ge(n,e,t),i=!0},p:e,i(e){i||(we(n.$$.fragment,e),i=!0)},o(e){$e(n.$$.fragment,e),i=!1},d(e){Te(n,e)}}}function lS(t){let n,i;return n=new AA({props:{data:ti,spin:!0}}),{c(){We(n.$$.fragment)},m(e,t){Ge(n,e,t),i=!0},p:e,i(e){i||(we(n.$$.fragment,e),i=!0)},o(e){$e(n.$$.fragment,e),i=!1},d(e){Te(n,e)}}}function uS(e){let t,n,i,r,a,c,l,u,h,d,g,f,m,C,I,v,A,$,x,_,L,W,G,M,O=-1!==e[2]?`${e[2]+1}/`:"";const N=[lS,cS],H=[];function Z(e,t){return e[1]?0:1}return r=Z(e),a=H[r]=N[r](e),I=new AA({props:{data:qn}}),$=new AA({props:{data:ei}}),L=new AA({props:{data:mi}}),{c(){t=S("div"),n=S("form"),i=S("button"),a.c(),c=R(),l=S("label"),u=S("input"),h=R(),d=S("div"),g=k(O),f=k(e[6]),m=R(),C=S("button"),We(I.$$.fragment),v=R(),A=S("button"),We($.$$.fragment),x=R(),_=S("button"),We(L.$$.fragment),E(i,"class","search-icon svelte-qm3270"),E(u,"class","search-input svelte-qm3270"),E(u,"type","text"),u.value=e[0],E(l,"about","search input"),E(d,"class","search-count svelte-qm3270"),V(d,"visible",""!==e[0]),E(C,"class","search-next svelte-qm3270"),E(C,"type","button"),E(A,"class","search-previous svelte-qm3270"),E(A,"type","button"),E(_,"class","search-clear svelte-qm3270"),E(_,"type","button"),E(n,"class","search-form svelte-qm3270"),E(t,"class","search-box svelte-qm3270")},m(o,a){b(o,t,a),y(t,n),y(n,i),H[r].m(i,null),y(n,c),y(n,l),y(l,u),y(n,h),y(n,d),y(d,g),y(d,f),y(n,m),y(n,C),Ge(I,C,null),y(n,v),y(n,A),Ge($,A,null),y(n,x),y(n,_),Ge(L,_,null),W=!0,G||(M=[B(u,"input",e[8]),p(hS.call(null,u)),B(C,"click",(function(){s(e[4])&&e[4].apply(this,arguments)})),B(A,"click",(function(){s(e[3])&&e[3].apply(this,arguments)})),B(_,"click",(function(){s(e[5])&&e[5].apply(this,arguments)})),B(n,"submit",e[7]),B(n,"keydown",e[9])],G=!0)},p(t,[n]){let o=r;r=Z(e=t),r===o?H[r].p(e,n):(ye(),$e(H[o],1,1,(()=>{H[o]=null})),be(),a=H[r],a?a.p(e,n):(a=H[r]=N[r](e),a.c()),we(a,1),a.m(i,null)),(!W||1&n&&u.value!==e[0])&&(u.value=e[0]),(!W||4&n)&&O!==(O=-1!==e[2]?`${e[2]+1}/`:"")&&T(g,O),(!W||64&n)&&T(f,e[6]),1&n&&V(d,"visible",""!==e[0])},i(e){W||(we(a),we(I.$$.fragment,e),we($.$$.fragment,e),we(L.$$.fragment,e),W=!0)},o(e){$e(a),$e(I.$$.fragment,e),$e($.$$.fragment,e),$e(L.$$.fragment,e),W=!1},d(e){e&&w(t),H[r].d(),Te(I),Te($),Te(L),G=!1,o(M)}}}function hS(e){e.select()}function dS(e,t,n){let i,r,{text:o=""}=t,{searching:s}=t,a="",{resultCount:c=0}=t,{activeIndex:l=0}=t,{onChange:u=(()=>{})}=t,{onPrevious:h=(()=>{})}=t,{onNext:d=(()=>{})}=t,{onClose:g=(()=>{})}=t;return e.$$set=e=>{"text"in e&&n(0,o=e.text),"searching"in e&&n(1,s=e.searching),"resultCount"in e&&n(10,c=e.resultCount),"activeIndex"in e&&n(2,l=e.activeIndex),"onChange"in e&&n(11,u=e.onChange),"onPrevious"in e&&n(3,h=e.onPrevious),"onNext"in e&&n(4,d=e.onNext),"onClose"in e&&n(5,g=e.onClose)},e.$$.update=()=>{1024&e.$$.dirty&&n(6,i=c>=aI?"999+":String(c)),2048&e.$$.dirty&&(r=su(u,300))},[o,s,l,h,d,g,i,function(e){e.preventDefault(),o!==a?(r.cancel(),u(a)):d()},function(e){a=e.target.value,r(a)},function(e){e.stopPropagation();const t=Ev(e);"Ctrl+Enter"!==t&&"Command+Enter"!==t||e.preventDefault(),"Escape"===t&&(e.preventDefault(),g())},c,u]}class gS extends Oe{constructor(e){super(),Me(this,e,dS,uS,c,{text:0,searching:1,resultCount:10,activeIndex:2,onChange:11,onPrevious:3,onNext:4,onClose:5})}}function fS(e){let t,n;return t=new gS({props:{text:e[1],resultCount:e[2]?e[2].count:0,activeIndex:e[2]?e[2].activeIndex:0,searching:e[3],onChange:e[4],onNext:e[5],onPrevious:e[6],onClose:e[8]}}),{c(){We(t.$$.fragment)},m(e,i){Ge(t,e,i),n=!0},p(e,n){const i={};2&n&&(i.text=e[1]),4&n&&(i.resultCount=e[2]?e[2].count:0),4&n&&(i.activeIndex=e[2]?e[2].activeIndex:0),8&n&&(i.searching=e[3]),16&n&&(i.onChange=e[4]),32&n&&(i.onNext=e[5]),64&n&&(i.onPrevious=e[6]),t.$set(i)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){$e(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function pS(e){let t,n,i=e[0]&&fS(e);return{c(){t=S("div"),i&&i.c(),E(t,"slot","right"),E(t,"class","search-box-container svelte-328t6q")},m(e,r){b(e,t,r),i&&i.m(t,null),n=!0},p(e,n){e[0]?i?(i.p(e,n),1&n&&we(i,1)):(i=fS(e),i.c(),we(i,1),i.m(t,null)):i&&(ye(),$e(i,1,1,(()=>{i=null})),be())},i(e){n||(we(i),n=!0)},o(e){$e(i),n=!1},d(e){e&&w(t),i&&i.d()}}}function mS(e){let t,n;return t=new FA({props:{items:e[7],$$slots:{right:[pS]},$$scope:{ctx:e}}}),{c(){We(t.$$.fragment)},m(e,i){Ge(t,e,i),n=!0},p(e,[n]){const i={};128&n&&(i.items=e[7]),4194431&n&&(i.$$scope={dirty:n,ctx:e}),t.$set(i)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){$e(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function CS(e,t,n){let i,r,{readOnly:o}=t,{searchText:s}=t,{searchResult:a}=t,{searching:c}=t,{showSearch:l=!1}=t,{historyState:u}=t,{onExpandAll:h}=t,{onCollapseAll:d}=t,{onUndo:g}=t,{onRedo:f}=t,{onSort:p}=t,{onTransform:m}=t,{onContextMenu:C}=t,{onSearchText:I}=t,{onNextSearchResult:v}=t,{onPreviousSearchResult:A}=t,{onFocus:y}=t,{onRenderMenu:b=(()=>{})}=t;function w(){n(0,l=!l)}return e.$$set=e=>{"readOnly"in e&&n(9,o=e.readOnly),"searchText"in e&&n(1,s=e.searchText),"searchResult"in e&&n(2,a=e.searchResult),"searching"in e&&n(3,c=e.searching),"showSearch"in e&&n(0,l=e.showSearch),"historyState"in e&&n(10,u=e.historyState),"onExpandAll"in e&&n(11,h=e.onExpandAll),"onCollapseAll"in e&&n(12,d=e.onCollapseAll),"onUndo"in e&&n(13,g=e.onUndo),"onRedo"in e&&n(14,f=e.onRedo),"onSort"in e&&n(15,p=e.onSort),"onTransform"in e&&n(16,m=e.onTransform),"onContextMenu"in e&&n(17,C=e.onContextMenu),"onSearchText"in e&&n(4,I=e.onSearchText),"onNextSearchResult"in e&&n(5,v=e.onNextSearchResult),"onPreviousSearchResult"in e&&n(6,A=e.onPreviousSearchResult),"onFocus"in e&&n(18,y=e.onFocus),"onRenderMenu"in e&&n(19,b=e.onRenderMenu)},e.$$.update=()=>{261632&e.$$.dirty&&n(20,i=[{icon:Qb,title:"Expand all",className:"expand-all",onClick:h},{icon:qb,title:"Collapse all",className:"collapse-all",onClick:d},{separator:!0},{icon:pi,title:"Sort",className:"sort",onClick:p,disabled:o},{icon:li,title:"Transform contents (filter, sort, project)",className:"transform",onClick:m,disabled:o},{icon:fi,title:"Search (Ctrl+F)",className:"search",onClick:w},{icon:ai,title:pI,className:"contextmenu",onClick:C},{separator:!0},{icon:Ci,title:"Undo (Ctrl+Z)",className:"undo",onClick:g,disabled:!u.canUndo},{icon:gi,title:"Redo (Ctrl+Shift+Z)",className:"redo",onClick:f,disabled:!u.canRedo},{space:!0}]),1572864&e.$$.dirty&&n(7,r=b("tree",i)||i)},[l,s,a,c,I,v,A,r,function(){n(0,l=!1),I(""),setTimeout(y)},o,u,h,d,g,f,p,m,C,y,b,i]}class IS extends Oe{constructor(e){super(),Me(this,e,CS,mS,c,{readOnly:9,searchText:1,searchResult:2,searching:3,showSearch:0,historyState:10,onExpandAll:11,onCollapseAll:12,onUndo:13,onRedo:14,onSort:15,onTransform:16,onContextMenu:17,onSearchText:4,onNextSearchResult:5,onPreviousSearchResult:6,onFocus:18,onRenderMenu:19})}}function vS(e){let t,n,i;function r(t){e[58](t)}let o={readOnly:e[0],historyState:e[19],searchText:e[11],searching:e[17],searchResult:e[18],onExpandAll:e[35],onCollapseAll:e[36],onUndo:e[28],onRedo:e[29],onSort:e[30],onTransform:e[31],onContextMenu:e[43],onSearchText:e[22],onNextSearchResult:e[23],onPreviousSearchResult:e[24],onFocus:e[7],onRenderMenu:e[5]};return void 0!==e[16]&&(o.showSearch=e[16]),t=new IS({props:o}),re.push((()=>Le(t,"showSearch",r))),{c(){We(t.$$.fragment)},m(e,n){Ge(t,e,n),i=!0},p(e,i){const r={};1&i[0]&&(r.readOnly=e[0]),524288&i[0]&&(r.historyState=e[19]),2048&i[0]&&(r.searchText=e[11]),131072&i[0]&&(r.searching=e[17]),262144&i[0]&&(r.searchResult=e[18]),32&i[0]&&(r.onRenderMenu=e[5]),!n&&65536&i[0]&&(n=!0,r.showSearch=e[16],de((()=>n=!1))),t.$set(r)},i(e){i||(we(t.$$.fragment,e),i=!0)},o(e){$e(t.$$.fragment,e),i=!1},d(e){Te(t,e)}}}function AS(e){let t,n,i,r,o,s,a;n=new aS({props:{value:e[8],path:[],state:e[9],readOnly:e[0],searchResult:e[18]&&e[18].itemsWithActive,validationErrors:e[21],onPatch:e[33],onInsert:e[27],onExpand:e[34],onSelect:e[37],onExpandSection:e[38],onContextMenu:e[41],onClassName:e[6]||$S,selection:e[10]}}),r=new Wy({props:{validationErrorsList:e[12],selectError:e[25]}});let c=e[20]&&void 0!==e[1]&&bS(e);return{c(){t=S("div"),We(n.$$.fragment),i=R(),We(r.$$.fragment),o=R(),c&&c.c(),s=_(),E(t,"class","contents svelte-rrdnzi")},m(l,u){b(l,t,u),Ge(n,t,null),e[60](t),b(l,i,u),Ge(r,l,u),b(l,o,u),c&&c.m(l,u),b(l,s,u),a=!0},p(e,t){const i={};256&t[0]&&(i.value=e[8]),512&t[0]&&(i.state=e[9]),1&t[0]&&(i.readOnly=e[0]),262144&t[0]&&(i.searchResult=e[18]&&e[18].itemsWithActive),2097152&t[0]&&(i.validationErrors=e[21]),64&t[0]&&(i.onClassName=e[6]||$S),1024&t[0]&&(i.selection=e[10]),n.$set(i);const o={};4096&t[0]&&(o.validationErrorsList=e[12]),r.$set(o),e[20]&&void 0!==e[1]?c?(c.p(e,t),1048578&t[0]&&we(c,1)):(c=bS(e),c.c(),we(c,1),c.m(s.parentNode,s)):c&&(ye(),$e(c,1,1,(()=>{c=null})),be())},i(e){a||(we(n.$$.fragment,e),we(r.$$.fragment,e),we(c),a=!0)},o(e){$e(n.$$.fragment,e),$e(r.$$.fragment,e),$e(c),a=!1},d(a){a&&w(t),Te(n),e[60](null),a&&w(i),Te(r,a),a&&w(o),c&&c.d(a),a&&w(s)}}}function yS(e){let t,n,i,r,o,s,a;return t=new wy({props:{type:"error",message:"The loaded JSON document is invalid and could not be repaired automatically.",actions:[{icon:ii,text:"Repair manually",onClick:e[4]}]}}),{c(){We(t.$$.fragment),n=R(),i=S("div"),r=k(e[1]),E(i,"class","preview svelte-rrdnzi")},m(e,c){Ge(t,e,c),b(e,n,c),b(e,i,c),y(i,r),o=!0,s||(a=B(i,"mousedown",xS),s=!0)},p(e,n){const i={};16&n[0]&&(i.actions=[{icon:ii,text:"Repair manually",onClick:e[4]}]),t.$set(i),(!o||2&n[0])&&T(r,e[1])},i(e){o||(we(t.$$.fragment,e),o=!0)},o(e){$e(t.$$.fragment,e),o=!1},d(e){Te(t,e),e&&w(n),e&&w(i),s=!1,a()}}}function bS(e){let t,n;return t=new wy({props:{type:"success",message:"The loaded JSON document was invalid but is successfully repaired.",actions:[{icon:Qn,text:"Ok",onClick:e[32]},{icon:ii,text:"Repair manually instead",onClick:e[4]}]}}),{c(){We(t.$$.fragment)},m(e,i){Ge(t,e,i),n=!0},p(e,n){const i={};16&n[0]&&(i.actions=[{icon:Qn,text:"Ok",onClick:e[32]},{icon:ii,text:"Repair manually instead",onClick:e[4]}]),t.$set(i)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){$e(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function wS(e){let t,n,i,r,s,a,c,l,u,h,d=e[2]&&vS(e);const g=[yS,AS],f=[];function p(e,t){return void 0===e[8]?0:1}return a=p(e),c=f[a]=g[a](e),{c(){t=S("div"),d&&d.c(),n=R(),i=S("label"),r=S("input"),s=R(),c.c(),E(r,"class","hidden-input svelte-rrdnzi"),E(r,"tabindex","-1"),E(i,"class","hidden-input-label svelte-rrdnzi"),E(t,"class","tree-mode svelte-rrdnzi"),V(t,"visible",e[3])},m(o,c){b(o,t,c),d&&d.m(t,null),y(t,n),y(t,i),y(i,r),e[59](r),y(t,s),f[a].m(t,null),e[61](t),l=!0,u||(h=[B(r,"paste",e[26]),B(t,"keydown",e[39]),B(t,"mousedown",e[40]),B(t,"contextmenu",e[42])],u=!0)},p(e,i){e[2]?d?(d.p(e,i),4&i[0]&&we(d,1)):(d=vS(e),d.c(),we(d,1),d.m(t,n)):d&&(ye(),$e(d,1,1,(()=>{d=null})),be());let r=a;a=p(e),a===r?f[a].p(e,i):(ye(),$e(f[r],1,1,(()=>{f[r]=null})),be(),c=f[a],c?c.p(e,i):(c=f[a]=g[a](e),c.c()),we(c,1),c.m(t,null)),8&i[0]&&V(t,"visible",e[3])},i(e){l||(we(d),we(c),l=!0)},o(e){$e(d),$e(c),l=!1},d(n){n&&w(t),d&&d.d(),e[59](null),f[a].d(),e[61](null),u=!1,o(h)}}}function $S(){}function SS(e){return e.length<1||1===e.length&&0===e[0]}const xS=e=>{e.stopPropagation()};function kS(e,t,n){let i,r;const o=Qe("jsoneditor:TreeMode"),{open:s}=ne("simple-modal"),a=nC(),c=nC(),{openAbsolutePopup:l,closeAbsolutePopup:u}=ne("absolute-popup");let h,d,g,f=!1;const p=gw();let{readOnly:m=!1}=t,{externalJson:C}=t,{externalText:I}=t,{mainMenuBar:v=!0}=t,{validator:A=null}=t,{visible:y=!0}=t,{indentation:b=2}=t,{onError:w}=t,{onChange:$}=t,{onRequestRepair:S=(()=>{})}=t,{onRenderMenu:x=(()=>{})}=t,{onClassName:k}=t,{onFocus:R}=t,{onBlur:_}=t;Yv({onMount:Q,onDestroy:q,getWindow:()=>xv(g),hasFocus:()=>kv(g),onFocus:()=>{f=!0,R&&R()},onBlur:()=>{f=!1,_&&_()}});let B,E,L=C,W=NI(L,void 0,[],SS),G=null,T=!1,M=!1,O="";const N=Am((function(e){n(18,B=bw(L,e,B))}),300);function H(e){n(18,B=bw(L,e,B)),n(17,M=!1)}async function Z(e){if(e){const t=nd(e);n(9,W=PI(L,W,t)),await ue(),ve(t)}}const V=function(e={}){const t=e.maxItems||1e3;let n=[],i=0;function r(){return i<n.length}function o(){return i>0}function s(){return{canUndo:r(),canRedo:o(),length:n.length}}function a(){e.onChange&&e.onChange(s())}return{add:function(e){n=[e].concat(n.slice(i)).slice(0,t),i=0,a()},clear:function(){n=[],i=0,a()},getState:s,undo:function(){if(r()){const e=n[i];return i+=1,a(),e}},redo:function(){if(o())return i-=1,a(),n[i]}}}({onChange:e=>{n(19,P=e)}});let P=V.getState();let F=!1;function K(e){if(void 0===e)return;const t=!Rd(L,e),i=void 0===L;if(o("update",{isChanged:t,isNew:i}),!t)return;const r=i?void 0:W,s=L;n(8,L=e),n(9,W=NI(L,r,[],SS)),!i&&r&&V.add({undo:[{op:"replace",path:"",value:s}],redo:[{op:"replace",path:"",value:L}],prevState:r,state:W,prevSelection:mv(G),selection:mv(G)})}function j(e,t){const i=W,r=G;o("patch",e,t);const s=vi.revertJSONPatch(L,e),a=FI(L,W,e);return n(8,L=a.json),n(9,W=a.state),t&&n(10,G=t),V.add({undo:s,redo:e,prevState:i,state:W,prevSelection:mv(r),selection:mv(t||G)}),{json:L,undo:s,redo:e}}function D(){return G&&(G.type===sv||G.type===rv||G.type===ov)}function z(){!m&&G&&n(10,G=Cv(L,W,{type:rv,path:G.focusPath,edit:!0}))}function X(){!m&&G&&n(10,G=Cv(L,W,{type:ov,path:G.focusPath,edit:!0}))}async function J(){if(m||!D())return;const e=Iv(L,G,b);if(null==e)return;o("cut",{selection:G,clipboard:e});try{await navigator.clipboard.writeText(e)}catch(e){w(e)}const{operations:t,newSelection:n}=yw(L,W,G);we(t,n)}async function Y(){const e=Iv(L,G,b);if(null!=e){o("copy",{clipboard:e});try{await navigator.clipboard.writeText(e)}catch(e){w(e)}}}function U(){s(JA,{},{...hI,styleWindow:{...hI.styleWindow,width:"450px"}},{onClose:()=>setTimeout(R)})}function ee(e){const t=Cw(L,W,G,e);o("paste",{clipboardText:e,operations:t,selection:G}),we(t),t.filter((e=>xI(e.value))).forEach((async e=>{$e(wI(L,e.path),!0,!1)}))}function te(){if(m||!G)return;const e=G.type===rv||G.type===ov?Cv(L,W,{type:sv,anchorPath:G.anchorPath,focusPath:G.focusPath}):G,{operations:t,newSelection:n}=yw(L,W,e);o("remove",{operations:t,selection:G,newSelection:n}),we(t,n)}function ie(){if(m||!D()||kd(G.focusPath))return;o("duplicate",{selection:G});we(function(e,t,n){const i=Su(n);if(kd(i))throw new Error("Cannot duplicate root object");const r=nd(i),o=Su(i),s=vi.getIn(e,r);if(Array.isArray(s)){const e=Su(n),t=e?parseInt(Su(e),10)+1:0;return[...n.map(((e,n)=>({op:"copy",from:vi.compileJSONPointer(e),path:vi.compileJSONPointer(r.concat(n+t))})))]}{const e=jI(t,r),i=XI(e,o,!1);return[...n.map((t=>{const n=Hb(Su(t),e);return{op:"copy",from:vi.compileJSONPointer(t),path:vi.compileJSONPointer(r.concat(n))}})),...i.map((e=>vw(r,e)))]}}(L,W,G.paths||[G.focusPath]))}function oe(){if(m||!G||G.type!==sv&&G.type!==ov||kd(G.focusPath))return;o("extract",{selection:G});we(function(e,t,n){if(n.type===ov)return[{op:"move",from:vi.compileJSONPointer(n.focusPath),path:""}];if(n.type===sv){const t=nd(n.focusPath),i=vi.getIn(e,t);if(Array.isArray(i))return[{op:"replace",path:"",value:n.paths.map((e=>{const t=Su(e);return i[t]}))}];{const e={};return n.paths.forEach((t=>{const n=Su(t);e[n]=i[n]})),[{op:"replace",path:"",value:e}]}}throw new Error("Cannot extract: unsupported type of selection "+JSON.stringify(n))}(L,0,G)),xI(L)&&($e([],!0,!0),ke())}function se(e){if(m||!G)return;const t=function(e,t,n){if("object"===n)return{};if("array"===n)return[];if("structure"===n){const n=av(t),i=vi.getIn(e,n);if(Array.isArray(i)&&!kd(i)){const e=mh(i);return xI(e)?cl(e,(e=>Array.isArray(e)?[]:SI(e)?void 0:"")):""}}return""}(L,G,e),i=JSON.stringify(t),r=Cw(L,W,G,i);o("handleInsert",{type:e,operations:r,newValue:t,data:i}),we(r),r.filter((e=>"add"===e.op||"replace"===e.op)).forEach((async e=>{const i=wI(L,e.path);if(xI(t)&&($e(i,!0,!0),ke()),""===t){const e=kd(i)?null:vi.getIn(L,nd(i));n(10,G=Cv(L,W,{type:SI(e)?rv:ov,path:i,edit:!0})),await ue(),setTimeout((()=>he("")))}}))}function ae(e){G.type===rv&&n(10,G=Cv(L,W,{type:ov,path:G.focusPath})),se(e)}function ce(){const e=cv(L,W,G,!1);o("insert before",G,e);const t=nd(G.focusPath);Rd(t,nd(e.focusPath))?n(10,G=Cv(L,W,{type:nv,path:e.focusPath})):n(10,G=Cv(L,W,{type:iv,path:t})),ue().then(xe)}function le(){const e=G.paths?Su(G.paths):G.focusPath;o("insert after",e),n(10,G=Cv(L,W,{type:nv,path:e})),ue().then(xe)}function he(e){const t=xv(g).document.activeElement;t.isContentEditable&&(t.textContent=e,Sv(t))}async function de(e){if(!m&&G)return G.type===rv?(n(10,G={...G,edit:!0}),await ue(),void setTimeout((()=>he(e)))):void("{"===e?se("object"):"["===e?se("array"):G.type===ov?xI(vi.getIn(L,G.focusPath))||(n(10,G={...G,edit:!0}),await ue(),setTimeout((()=>he(e)))):await async function(e){if(m||!G)return;se("value");const t=G.focusPath,i=vi.getIn(L,nd(t));n(10,G=Cv(L,W,{type:Array.isArray(i)||G.type===ov?ov:rv,path:t,edit:!0})),await ue(),setTimeout((()=>he(e)))}(e))}function ge(){if(!V.getState().canUndo)return;const e=V.undo();e&&(n(8,L=vi.immutableJSONPatch(L,e.undo)),n(9,W=e.prevState),n(10,G=e.prevSelection),o("undo",{item:e,json:L,state:W,selection:G}),be(),ke())}function fe(){if(!V.getState().canRedo)return;const e=V.redo();e&&(n(8,L=vi.immutableJSONPatch(L,e.redo)),n(9,W=e.state),n(10,G=e.selection),o("redo",{item:e,json:L,state:W,selection:G}),be(),ke())}function pe(e){m||s(Nb,{id:a,json:L,selectedPath:e,onSort:async t=>{o("onSort",e,t),j(t,G),$e(e,!0)}},dI,{onClose:()=>ke()})}function me(){if(!G)return;pe(fv(L,G))}function Ce(e){m||s(Yb,{id:c,json:L,selectedPath:e,indentation:b,onTransform:async t=>{o("onTransform",e,t),j(t,G),$e(e,!0)}},gI,{onClose:()=>ke()})}function Ie(){if(!G)return;Ce(fv(L,G))}async function ve(e){n(9,W=PI(L,W,e)),await ue();const t=Ae(e),i=-h.getBoundingClientRect().height/4;t&&(o("scrollTo",{path:e,elem:t,refContents:h}),p(t,{container:h,offset:i,duration:300}))}function Ae(e){return h.querySelector(`div[data-path="${vi.compileJSONPointer(e)}"]`)}function ye(e){const t=h.querySelector(`div[data-path="${vi.compileJSONPointer(e)}"]`);if(t){const n=h.getBoundingClientRect(),i=t.getBoundingClientRect(),r=20,o=xI(vi.getIn(L,e))?r:i.height;i.top<n.top+r?p(t,{container:h,offset:-r,duration:0}):i.top+o>n.bottom-r&&p(t,{container:h,offset:-(n.height-o-r),duration:0})}}function be(){$(L)}function we(e,t=dv(L,e)){if(m)return;o("handlePatch",e,t);const n=j(e,t);return be(),n}function $e(e,t,i=!1){i?n(9,W=vi.updateIn(W,e,(n=>NI(vi.getIn(L,e),n,[],(()=>t),!0)))):(n(9,W=vi.setIn(W,e.concat(qC),t,!0)),n(9,W=vi.updateIn(W,e,(t=>NI(vi.getIn(L,e),t,[],SS,!1))))),G&&!t&&function(e,t){return pv(e.focusPath,t)&&(e.focusPath.length>t.length||e.type===iv)}(G,e)&&n(10,G=null),setTimeout((()=>{kv(g)||ke()}))}function Se({anchor:e,left:t,top:n,width:i,height:r}){l(Ow,{json:L,selection:G,onEditKey:z,onEditValue:X,onCut:J,onCopy:Y,onPaste:U,onRemove:te,onDuplicate:ie,onExtract:oe,onInsertBefore:ce,onInsert:ae,onInsertAfter:le,onSort:me,onTransform:Ie,onCloseContextMenu(){u(),ke()}},{left:t,top:n,width:i,height:r,anchor:e,closeOnOuterClick:!0,onClose:ke})}function xe(e){if(G&&!G.edit){if(e&&(e.stopPropagation(),e.preventDefault()),e&&"contextmenu"===e.type&&e.target!==d)Se({left:e.clientX,top:e.clientY,width:bI,height:yI});else{const e=h.querySelector(".context-menu-button.selected");if(e)Se({anchor:e,width:bI,height:yI});else{const e=h.getBoundingClientRect();Se({top:e.top+2,left:e.left+2,width:bI,height:yI})}}return!1}}function ke(){d.focus(),d.select()}return e.$$set=e=>{"readOnly"in e&&n(0,m=e.readOnly),"externalJson"in e&&n(44,C=e.externalJson),"externalText"in e&&n(1,I=e.externalText),"mainMenuBar"in e&&n(2,v=e.mainMenuBar),"validator"in e&&n(45,A=e.validator),"visible"in e&&n(3,y=e.visible),"indentation"in e&&n(46,b=e.indentation),"onError"in e&&n(47,w=e.onError),"onChange"in e&&n(48,$=e.onChange),"onRequestRepair"in e&&n(4,S=e.onRequestRepair),"onRenderMenu"in e&&n(5,x=e.onRenderMenu),"onClassName"in e&&n(6,k=e.onClassName),"onFocus"in e&&n(49,R=e.onFocus),"onBlur"in e&&n(50,_=e.onBlur)},e.$$.update=()=>{2816&e.$$.dirty[0]|67108864&e.$$.dirty[1]&&(E&&E.cancel&&E.cancel(),n(17,M=!0),n(57,E=$w(O,L,W,{onProgress:N,onDone:H,maxResults:aI}))),8192&e.$$.dirty[1]&&K(C),2&e.$$.dirty[0]&&function(e){if(void 0!==e&&void 0===C){n(20,F=!1);try{K(JSON.parse(e))}catch(t){try{K(JSON.parse(ty(e))),n(20,F=!0)}catch(e){n(8,L=void 0)}}}}(I),e.$$.dirty[0],256&e.$$.dirty[0]|16384&e.$$.dirty[1]&&n(12,i=A?A(L):[]),4096&e.$$.dirty[0]&&n(21,r=function(e){let t;return e.forEach((e=>{const n=e.path.concat([sI]);t=vi.setIn(t,n,e,!0)})),e.forEach((e=>{let n=e.path;for(;n.length>0;){n=nd(n);const e=n.concat([sI]);if(!vi.existsIn(t,e)){const i={isChildError:!0,path:n,message:"Contains invalid data"};t=vi.setIn(t,e,i,!0)}}})),t}(i)),256&e.$$.dirty[0]&&o("json",L),512&e.$$.dirty[0]&&o("state",W),1024&e.$$.dirty[0]&&o("selection",G)},[m,I,v,y,S,x,k,ke,L,W,G,O,i,h,d,g,T,M,B,P,F,r,async function(e){n(11,O=e),await ue(),await Z(B&&B.activeItem)},async function(){n(18,B=function(e){const t=e.activeIndex<e.flatItems.length-1?e.activeIndex+1:e.flatItems.length>0?0:-1,n=e.flatItems[t],i=n?vi.setIn(e.items,n,oI,!0):e.items;return{...e,itemsWithActive:i,activeItem:n,activeIndex:t}}(B)),await Z(B&&B.activeItem)},async function(){n(18,B=function(e){const t=e.activeIndex>0?e.activeIndex-1:e.flatItems.length-1,n=e.flatItems[t],i=n?vi.setIn(e.items,n,oI,!0):e.items;return{...e,itemsWithActive:i,activeItem:n,activeIndex:t}}(B)),await Z(B&&B.activeItem)},function(e){o("select validation error",e),n(10,G=Cv(L,W,{type:ov,path:e.path})),ve(e.path),ke()},function(e){if(e.preventDefault(),m||!G)return;const t=e.clipboardData.getData("text/plain");try{ee(t)}catch(e){!function(e,t){s(Gw,{text:e,onParse:hy,onRepair:dy,onApply:t,onRenderMenu:x,onFocus:R,onBlur:_},{...hI,styleWindow:{...hI.styleWindow,width:"600px",height:"500px"},styleContent:{padding:0,height:"100%"}},{onClose:()=>ke()})}(t,(e=>{o("repaired pasted text: ",e),ee(e)}))}},se,ge,fe,function(){pe([])},function(){Ce([])},be,we,$e,function(){$e([],!0,!0)},function(){$e([],!1,!0)},function(e){n(10,G=e?Cv(L,W,e):null),setTimeout((()=>ke()))},function(e,t){o("handleExpandSection",e,t),n(9,W=function(e,t,n,i){return NI(e,vi.updateIn(t,n.concat(eI),(e=>WI(e.concat(i)))),n,(()=>!1))}(L,W,e,t))},function(e){const t=Ev(e).replace(/^Command\+/,"Ctrl+"),i=e.shiftKey;if("Ctrl+X"===t&&(e.preventDefault(),J()),"Ctrl+C"===t&&(e.preventDefault(),Y()),"Ctrl+D"===t&&(e.preventDefault(),ie()),"Delete"===t&&(e.preventDefault(),te()),"Insert"===t&&(e.preventDefault(),se("structure")),"Ctrl+A"===t&&(e.preventDefault(),n(10,G={type:ov,anchorPath:[],focusPath:[]})),"Ctrl+Q"===t&&xe(e),"Up"!==t&&"Shift+Up"!==t||(e.preventDefault(),n(10,G=G?cv(L,W,G,i)||G:hv(L,W)),ye(G.focusPath)),"Down"!==t&&"Shift+Down"!==t||(e.preventDefault(),n(10,G=G?lv(L,W,G,i)||G:hv(L,W)),ye(G.focusPath)),"Left"!==t&&"Shift+Left"!==t||(e.preventDefault(),n(10,G=G?function(e,t,n,i=!1){const{caret:r,previous:o}=uv(e,t,n);if(i)return n.type!==sv?Cv(e,t,{type:sv,anchorPath:n.anchorPath,focusPath:n.focusPath}):null;if(r&&o)return Cv(e,t,{type:o.type,path:o.path});const s=nd(n.focusPath),a=vi.getIn(e,s);return n.type===ov&&Array.isArray(a)?Cv(e,t,{type:sv,anchorPath:n.focusPath,focusPath:n.focusPath}):n.type!==sv||Array.isArray(a)?null:Cv(e,t,{type:rv,path:n.focusPath})}(L,W,G,i)||G:hv(L,W))),"Right"!==t&&"Shift+Right"!==t||(e.preventDefault(),n(10,G=G?function(e,t,n,i=!1){const{caret:r,next:o}=uv(e,t,n);return i?n.type!==sv?Cv(e,t,{type:sv,anchorPath:n.anchorPath,focusPath:n.focusPath}):null:r&&o?Cv(e,t,{type:o.type,path:o.path}):n.type===sv?Cv(e,t,{type:ov,path:n.focusPath}):null}(L,W,G,i)||G:hv(L,W))),"Enter"===t&&G&&!m){if(G.type===sv&&1===G.paths.length){const e=G.focusPath,t=vi.getIn(L,nd(e));Array.isArray(t)&&n(10,G=Cv(L,W,{type:ov,path:e}))}if(G.type===rv&&(e.preventDefault(),n(10,G={...G,edit:!0})),G.type===ov){e.preventDefault();xI(vi.getIn(L,G.focusPath))?$e(G.focusPath,!0):n(10,G={...G,edit:!0})}}if(t.length===(t.startsWith("Shift+")?7:1)&&G)return e.preventDefault(),void de(e.key);if("Enter"===t&&(G.type===nv||G.type===iv))return e.preventDefault(),void de("");if("Ctrl+Enter"===t&&G&&G.type===ov){const e=vi.getIn(L,G.focusPath);_I(e)&&window.open(e,"_blank")}if("Escape"===t&&G&&(e.preventDefault(),n(10,G=null)),"Ctrl+F"===t&&(e.preventDefault(),n(16,T=!0)),"Ctrl+Z"===t){e.preventDefault();const t=document.activeElement;t&&t.blur&&t.focus?(t.blur(),setTimeout((()=>{ge(),setTimeout((()=>t.select()))}))):ge()}if("Ctrl+Shift+Z"===t){e.preventDefault();const t=document.activeElement;t&&t.blur&&t.focus?(t.blur(),setTimeout((()=>{fe(),setTimeout((()=>t.select()))}))):fe()}},function(e){console.log("handleMouseDown",e),setTimeout((()=>{setTimeout((()=>{f||bv(e.target,"BUTTON")||ke()}))}))},Se,xe,function(e){Se({anchor:Rv(e.target,"BUTTON"),width:bI,height:yI})},C,A,b,w,$,R,_,function(e=(()=>!0)){n(9,W=NI(L,W,[],e,!0))},function(e=(()=>!1)){n(9,W=NI(L,W,[],e,!0))},function(){return L},j,ve,Ae,E,function(e){T=e,n(16,T)},function(e){re[e?"unshift":"push"]((()=>{d=e,n(14,d)}))},function(e){re[e?"unshift":"push"]((()=>{h=e,n(13,h)}))},function(e){re[e?"unshift":"push"]((()=>{g=e,n(15,g)}))}]}class RS extends Oe{constructor(e){super(),Me(this,e,kS,wS,c,{readOnly:0,externalJson:44,externalText:1,mainMenuBar:2,validator:45,visible:3,indentation:46,onError:47,onChange:48,onRequestRepair:4,onRenderMenu:5,onClassName:6,onFocus:49,onBlur:50,expand:51,collapse:52,get:53,patch:54,scrollTo:55,findElement:56,focus:7},[-1,-1,-1,-1])}get expand(){return this.$$.ctx[51]}get collapse(){return this.$$.ctx[52]}get get(){return this.$$.ctx[53]}get patch(){return this.$$.ctx[54]}get scrollTo(){return this.$$.ctx[55]}get findElement(){return this.$$.ctx[56]}get focus(){return this.$$.ctx[7]}}function _S(e){let t,n,i,r=e[16]&&ES(e),o={readOnly:e[5],indentation:e[6],externalJson:e[0],externalText:e[1],mainMenuBar:e[3],validator:e[4],onError:e[8],onChange:e[18],onRequestRepair:e[19],onClassName:e[7],onRenderMenu:e[23],onFocus:e[21],onBlur:e[22],visible:!e[16]};return n=new RS({props:o}),e[51](n),{c(){r&&r.c(),t=R(),We(n.$$.fragment)},m(e,o){r&&r.m(e,o),b(e,t,o),Ge(n,e,o),i=!0},p(e,i){e[16]?r?(r.p(e,i),65536&i[0]&&we(r,1)):(r=ES(e),r.c(),we(r,1),r.m(t.parentNode,t)):r&&(ye(),$e(r,1,1,(()=>{r=null})),be());const o={};32&i[0]&&(o.readOnly=e[5]),64&i[0]&&(o.indentation=e[6]),1&i[0]&&(o.externalJson=e[0]),2&i[0]&&(o.externalText=e[1]),8&i[0]&&(o.mainMenuBar=e[3]),16&i[0]&&(o.validator=e[4]),256&i[0]&&(o.onError=e[8]),128&i[0]&&(o.onClassName=e[7]),65536&i[0]&&(o.visible=!e[16]),n.$set(o)},i(e){i||(we(r),we(n.$$.fragment,e),i=!0)},o(e){$e(r),$e(n.$$.fragment,e),i=!1},d(i){r&&r.d(i),i&&w(t),e[51](null),Te(n,i)}}}function BS(e){let t,n,i={text:e[15],readOnly:e[5],indentation:e[6],mainMenuBar:e[3],validator:e[4],onChange:e[17],onSwitchToTreeMode:e[20],onError:e[8],onFocus:e[21],onBlur:e[22],onRenderMenu:e[23]};return t=new hw({props:i}),e[49](t),{c(){We(t.$$.fragment)},m(e,i){Ge(t,e,i),n=!0},p(e,n){const i={};32768&n[0]&&(i.text=e[15]),32&n[0]&&(i.readOnly=e[5]),64&n[0]&&(i.indentation=e[6]),8&n[0]&&(i.mainMenuBar=e[3]),16&n[0]&&(i.validator=e[4]),256&n[0]&&(i.onError=e[8]),t.$set(i)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){$e(t.$$.fragment,e),n=!1},d(n){e[49](null),Te(t,n)}}}function ES(e){let t,n,i={readOnly:e[5],onChange:e[17],onFocus:e[21],onBlur:e[22],onRenderMenu:e[23]};return t=new QA({props:i}),e[50](t),{c(){We(t.$$.fragment)},m(e,i){Ge(t,e,i),n=!0},p(e,n){const i={};32&n[0]&&(i.readOnly=e[5]),t.$set(i)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){$e(t.$$.fragment,e),n=!1},d(n){e[50](null),Te(t,n)}}}function LS(e){let t,n,i,r;const o=[BS,_S],s=[];function a(e,t){return e[2]===UC.CODE?0:1}return t=a(e),n=s[t]=o[t](e),{c(){n.c(),i=_()},m(e,n){s[t].m(e,n),b(e,i,n),r=!0},p(e,r){let c=t;t=a(e),t===c?s[t].p(e,r):(ye(),$e(s[c],1,1,(()=>{s[c]=null})),be(),n=s[t],n?n.p(e,r):(n=s[t]=o[t](e),n.c()),we(n,1),n.m(i.parentNode,i))},i(e){r||(we(n),r=!0)},o(e){$e(n),r=!1},d(e){s[t].d(e),e&&w(i)}}}function WS(t){let n,i,r=t[9],o=LS(t);return{c(){n=S("div"),o.c(),E(n,"class","jsoneditor-main svelte-6c4pg8"),V(n,"focus",t[10])},m(e,r){b(e,n,r),o.m(n,null),t[52](n),i=!0},p(t,i){512&i[0]&&c(r,r=t[9])?(ye(),$e(o,1,1,e),be(),o=LS(t),o.c(),we(o),o.m(n,null)):o.p(t,i),1024&i[0]&&V(n,"focus",t[10])},i(e){i||(we(o),i=!0)},o(e){$e(o),i=!1},d(e){e&&w(n),o.d(e),t[52](null)}}}function GS(e){let t,n;return t=new Hv({props:{$$slots:{default:[WS]},$$scope:{ctx:e}}}),{c(){We(t.$$.fragment)},m(e,i){Ge(t,e,i),n=!0},p(e,n){const i={};130559&n[0]|33554432&n[1]&&(i.$$scope={dirty:n,ctx:e}),t.$set(i)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){$e(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function TS(e){let t,n;return t=new Xv({props:{$$slots:{default:[GS]},$$scope:{ctx:e}}}),{c(){We(t.$$.fragment)},m(e,i){Ge(t,e,i),n=!0},p(e,n){const i={};130559&n[0]|33554432&n[1]&&(i.$$scope={dirty:n,ctx:e}),t.$set(i)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){$e(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function MS(){this.$destroy()}function OS(e,t,n){let i,r,o,s;const a=Qe("jsoneditor:Main");let c,l,u,h,{json:d={}}=t,{text:g}=t,{readOnly:f=!1}=t,{indentation:p=2}=t,{mode:m=UC.TREE}=t,{mainMenuBar:C=!0}=t,{validator:I=null}=t,{onChange:v=null}=t,{onClassName:A=(()=>{})}=t,{onRenderMenu:y=(()=>{})}=t,{onChangeMode:b=(()=>{})}=t,{onError:w=(e=>{console.error(e),alert(e.toString())})}=t,{onFocus:$=(()=>{})}=t,{onBlur:S=(()=>{})}=t,x=ey(),k=!1;function R(){return"string"==typeof g?g:JSON.stringify(d,null,p)}function _(){h?h.focus():u?u.focus():l&&l.focus()}function B(){n(2,m=m===UC.CODE?UC.TREE:UC.CODE),b(m),setTimeout(_)}return e.$$set=e=>{"json"in e&&n(0,d=e.json),"text"in e&&n(1,g=e.text),"readOnly"in e&&n(5,f=e.readOnly),"indentation"in e&&n(6,p=e.indentation),"mode"in e&&n(2,m=e.mode),"mainMenuBar"in e&&n(3,C=e.mainMenuBar),"validator"in e&&n(4,I=e.validator),"onChange"in e&&n(24,v=e.onChange),"onClassName"in e&&n(7,A=e.onClassName),"onRenderMenu"in e&&n(25,y=e.onRenderMenu),"onChangeMode"in e&&n(26,b=e.onChangeMode),"onError"in e&&n(8,w=e.onError),"onFocus"in e&&n(27,$=e.onFocus),"onBlur"in e&&n(28,S=e.onBlur)},e.$$.update=()=>{7&e.$$.dirty[0]&&n(15,i=m===UC.CODE?R():void 0),3&e.$$.dirty[0]&&n(16,r=""===g&&void 0===d),4&e.$$.dirty[0]&&n(48,o=m===UC.CODE),131072&e.$$.dirty[1]&&(s=[{icon:ii,title:`Toggle code mode on/off (currently: ${o?"on":"off"})`,className:"code-mode"+(o?" selected":""),onClick:B},{separator:!0}])},[d,g,m,C,I,f,p,A,w,x,k,c,l,u,h,i,r,function(e){n(1,g=e),n(0,d=void 0),v&&v({json:d,text:g})},function(e){n(0,d=e),n(1,g=void 0),v&&v({json:d,text:g})},function(){n(2,m=UC.CODE),b(m)},function(){n(2,m=UC.TREE),b(m)},function(){n(10,k=!0),$&&$()},function(){n(10,k=!1),S&&S()},function(e,t){const n=e===UC.TREE||e===UC.CODE?s.concat(t):t;return y(e,n)||n},v,y,b,$,S,function(){return void 0!==d?d:JSON.parse(g||"")},R,function(e){a("set"),n(9,x=ey()),n(1,g=void 0),n(0,d=e)},function(e){a("setText"),n(9,x=ey()),n(1,g=e),n(0,d=void 0)},function(e){a("update"),n(1,g=void 0),n(0,d=e)},function(e){a("updateText"),n(1,g=e),n(0,d=void 0)},function(e,t){if(void 0===d)try{n(0,d=JSON.parse(g)),n(1,g=void 0)}catch(e){throw new Error("Cannot apply patch: current document contains invalid JSON")}return l?l.patch(e,t):h?h.patch(e):void 0},function(e){if(l)return l.expand(e);throw new Error(`Method expand is not available in mode "${m}"`)},function(e){if(l)return l.collapse(e);throw new Error(`Method collapse is not available in mode "${m}"`)},function(e){if(l)return l.scrollTo(e);throw new Error(`Method scrollTo is not available in mode "${m}"`)},function(e){if(l)return l.findElement(e);throw new Error(`Method findElement is not available in mode "${m}"`)},function(e){n(4,I=e)},function(){return I},function(e){n(3,C=e)},function(){return C},function(e){n(2,m=e)},function(){return m},_,MS,o,function(e){re[e?"unshift":"push"]((()=>{h=e,n(14,h)}))},function(e){re[e?"unshift":"push"]((()=>{u=e,n(13,u)}))},function(e){re[e?"unshift":"push"]((()=>{l=e,n(12,l)}))},function(e){re[e?"unshift":"push"]((()=>{c=e,n(11,c)}))}]}var NS=He((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class n{}t._CodeOrName=n,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class i extends n{constructor(e){if(super(),!t.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=i;class r extends n{constructor(e){super(),this._items="string"==typeof e?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const e=this._items[0];return""===e||'""'===e}get str(){var e;return null!==(e=this._str)&&void 0!==e?e:this._str=this._items.reduce(((e,t)=>`${e}${t}`),"")}get names(){var e;return null!==(e=this._names)&&void 0!==e?e:this._names=this._items.reduce(((e,t)=>(t instanceof i&&(e[t.str]=(e[t.str]||0)+1),e)),{})}}function o(e,...t){const n=[e[0]];let i=0;for(;i<t.length;)c(n,t[i]),n.push(e[++i]);return new r(n)}t._Code=r,t.nil=new r(""),t._=o;const s=new r("+");function a(e,...t){const n=[u(e[0])];let i=0;for(;i<t.length;)n.push(s),c(n,t[i]),n.push(s,u(e[++i]));return function(e){let t=1;for(;t<e.length-1;){if(e[t]===s){const n=l(e[t-1],e[t+1]);if(void 0!==n){e.splice(t-1,3,n);continue}e[t++]="+"}t++}}(n),new r(n)}function c(e,t){var n;t instanceof r?e.push(...t._items):t instanceof i?e.push(t):e.push("number"==typeof(n=t)||"boolean"==typeof n||null===n?n:u(Array.isArray(n)?n.join(","):n))}function l(e,t){if('""'===t)return e;if('""'===e)return t;if("string"==typeof e){if(t instanceof i||'"'!==e[e.length-1])return;return"string"!=typeof t?`${e.slice(0,-1)}${t}"`:'"'===t[0]?e.slice(0,-1)+t.slice(1):void 0}return"string"!=typeof t||'"'!==t[0]||e instanceof i?void 0:`"${e}${t.slice(1)}`}function u(e){return JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.str=a,t.addCodeArg=c,t.strConcat=function(e,t){return t.emptyStr()?e:e.emptyStr()?t:a`${e}${t}`},t.stringify=function(e){return new r(u(e))},t.safeStringify=u,t.getProperty=function(e){return"string"==typeof e&&t.IDENTIFIER.test(e)?new r(`.${e}`):o`[${e}]`},t.regexpCode=function(e){return new r(e.toString())}})),HS=He((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;class n extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`),this.value=e.value}}var i;!function(e){e[e.Started=0]="Started",e[e.Completed=1]="Completed"}(i=t.UsedValueState||(t.UsedValueState={})),t.varKinds={const:new NS.Name("const"),let:new NS.Name("let"),var:new NS.Name("var")};class r{constructor({prefixes:e,parent:t}={}){this._names={},this._prefixes=e,this._parent=t}toName(e){return e instanceof NS.Name?e:this.name(e)}name(e){return new NS.Name(this._newName(e))}_newName(e){return`${e}${(this._names[e]||this._nameGroup(e)).index++}`}_nameGroup(e){var t,n;if((null===(n=null===(t=this._parent)||void 0===t?void 0:t._prefixes)||void 0===n?void 0:n.has(e))||this._prefixes&&!this._prefixes.has(e))throw new Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}}t.Scope=r;class o extends NS.Name{constructor(e,t){super(t),this.prefix=e}setValue(e,{property:t,itemIndex:n}){this.value=e,this.scopePath=NS._`.${new NS.Name(t)}[${n}]`}}t.ValueScopeName=o;const s=NS._`\n`;t.ValueScope=class extends r{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts={...e,_n:e.lines?s:NS.nil}}get(){return this._scope}name(e){return new o(e,this._newName(e))}value(e,t){var n;if(void 0===t.ref)throw new Error("CodeGen: ref must be passed in value");const i=this.toName(e),{prefix:r}=i,o=null!==(n=t.key)&&void 0!==n?n:t.ref;let s=this._values[r];if(s){const e=s.get(o);if(e)return e}else s=this._values[r]=new Map;s.set(o,i);const a=this._scope[r]||(this._scope[r]=[]),c=a.length;return a[c]=t.ref,i.setValue(t,{property:r,itemIndex:c}),i}getValue(e,t){const n=this._values[e];if(n)return n.get(t)}scopeRefs(e,t=this._values){return this._reduceValues(t,(t=>{if(void 0===t.scopePath)throw new Error(`CodeGen: name "${t}" has no value`);return NS._`${e}${t.scopePath}`}))}scopeCode(e=this._values,t,n){return this._reduceValues(e,(e=>{if(void 0===e.value)throw new Error(`CodeGen: name "${e}" has no value`);return e.value.code}),t,n)}_reduceValues(e,r,o={},s){let a=NS.nil;for(const c in e){const l=e[c];if(!l)continue;const u=o[c]=o[c]||new Map;l.forEach((e=>{if(u.has(e))return;u.set(e,i.Started);let o=r(e);if(o){const n=this.opts.es5?t.varKinds.var:t.varKinds.const;a=NS._`${a}${n} ${e} = ${o};${this.opts._n}`}else{if(!(o=null==s?void 0:s(e)))throw new n(e);a=NS._`${a}${o}${this.opts._n}`}u.set(e,i.Completed)}))}return a}}})),ZS=He((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;var n=NS;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return n.Name}});var i=HS;Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),t.operators={GT:new NS._Code(">"),GTE:new NS._Code(">="),LT:new NS._Code("<"),LTE:new NS._Code("<="),EQ:new NS._Code("==="),NEQ:new NS._Code("!=="),NOT:new NS._Code("!"),OR:new NS._Code("||"),AND:new NS._Code("&&"),ADD:new NS._Code("+")};class r{optimizeNodes(){return this}optimizeNames(e,t){return this}}class o extends r{constructor(e,t,n){super(),this.varKind=e,this.name=t,this.rhs=n}render({es5:e,_n:t}){const n=e?HS.varKinds.var:this.varKind,i=void 0===this.rhs?"":` = ${this.rhs}`;return`${n} ${this.name}${i};`+t}optimizeNames(e,t){if(e[this.name.str])return this.rhs&&(this.rhs=R(this.rhs,e,t)),this}get names(){return this.rhs instanceof NS._CodeOrName?this.rhs.names:{}}}class s extends r{constructor(e,t,n){super(),this.lhs=e,this.rhs=t,this.sideEffects=n}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,t){if(!(this.lhs instanceof NS.Name)||e[this.lhs.str]||this.sideEffects)return this.rhs=R(this.rhs,e,t),this}get names(){return k(this.lhs instanceof NS.Name?{}:{...this.lhs.names},this.rhs)}}class a extends s{constructor(e,t,n,i){super(e,n,i),this.op=t}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}}class c extends r{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}}class l extends r{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`break${this.label?` ${this.label}`:""};`+e}}class u extends r{constructor(e){super(),this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}}class h extends r{constructor(e){super(),this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,t){return this.code=R(this.code,e,t),this}get names(){return this.code instanceof NS._CodeOrName?this.code.names:{}}}class d extends r{constructor(e=[]){super(),this.nodes=e}render(e){return this.nodes.reduce(((t,n)=>t+n.render(e)),"")}optimizeNodes(){const{nodes:e}=this;let t=e.length;for(;t--;){const n=e[t].optimizeNodes();Array.isArray(n)?e.splice(t,1,...n):n?e[t]=n:e.splice(t,1)}return e.length>0?this:void 0}optimizeNames(e,t){const{nodes:n}=this;let i=n.length;for(;i--;){const r=n[i];r.optimizeNames(e,t)||(_(e,r.names),n.splice(i,1))}return n.length>0?this:void 0}get names(){return this.nodes.reduce(((e,t)=>x(e,t.names)),{})}}class g extends d{render(e){return"{"+e._n+super.render(e)+"}"+e._n}}class f extends d{}class p extends g{}p.kind="else";class m extends g{constructor(e,t){super(t),this.condition=e}render(e){let t=`if(${this.condition})`+super.render(e);return this.else&&(t+="else "+this.else.render(e)),t}optimizeNodes(){super.optimizeNodes();const e=this.condition;if(!0===e)return this.nodes;let t=this.else;if(t){const e=t.optimizeNodes();t=this.else=Array.isArray(e)?new p(e):e}return t?!1===e?t instanceof m?t:t.nodes:this.nodes.length?this:new m(B(e),t instanceof m?[t]:t.nodes):!1!==e&&this.nodes.length?this:void 0}optimizeNames(e,t){var n;if(this.else=null===(n=this.else)||void 0===n?void 0:n.optimizeNames(e,t),super.optimizeNames(e,t)||this.else)return this.condition=R(this.condition,e,t),this}get names(){const e=super.names;return k(e,this.condition),this.else&&x(e,this.else.names),e}}m.kind="if";class C extends g{}C.kind="for";class I extends C{constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iteration=R(this.iteration,e,t),this}get names(){return x(super.names,this.iteration.names)}}class v extends C{constructor(e,t,n,i){super(),this.varKind=e,this.name=t,this.from=n,this.to=i}render(e){const t=e.es5?HS.varKinds.var:this.varKind,{name:n,from:i,to:r}=this;return`for(${t} ${n}=${i}; ${n}<${r}; ${n}++)`+super.render(e)}get names(){const e=k(super.names,this.from);return k(e,this.to)}}class A extends C{constructor(e,t,n,i){super(),this.loop=e,this.varKind=t,this.name=n,this.iterable=i}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iterable=R(this.iterable,e,t),this}get names(){return x(super.names,this.iterable.names)}}class y extends g{constructor(e,t,n){super(),this.name=e,this.args=t,this.async=n}render(e){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(e)}}y.kind="func";class b extends d{render(e){return"return "+super.render(e)}}b.kind="return";class w extends g{render(e){let t="try"+super.render(e);return this.catch&&(t+=this.catch.render(e)),this.finally&&(t+=this.finally.render(e)),t}optimizeNodes(){var e,t;return super.optimizeNodes(),null===(e=this.catch)||void 0===e||e.optimizeNodes(),null===(t=this.finally)||void 0===t||t.optimizeNodes(),this}optimizeNames(e,t){var n,i;return super.optimizeNames(e,t),null===(n=this.catch)||void 0===n||n.optimizeNames(e,t),null===(i=this.finally)||void 0===i||i.optimizeNames(e,t),this}get names(){const e=super.names;return this.catch&&x(e,this.catch.names),this.finally&&x(e,this.finally.names),e}}class $ extends g{constructor(e){super(),this.error=e}render(e){return`catch(${this.error})`+super.render(e)}}$.kind="catch";class S extends g{render(e){return"finally"+super.render(e)}}S.kind="finally";function x(e,t){for(const n in t)e[n]=(e[n]||0)+(t[n]||0);return e}function k(e,t){return t instanceof NS._CodeOrName?x(e,t.names):e}function R(e,t,n){return e instanceof NS.Name?r(e):(i=e)instanceof NS._Code&&i._items.some((e=>e instanceof NS.Name&&1===t[e.str]&&void 0!==n[e.str]))?new NS._Code(e._items.reduce(((e,t)=>(t instanceof NS.Name&&(t=r(t)),t instanceof NS._Code?e.push(...t._items):e.push(t),e)),[])):e;var i;function r(e){const i=n[e.str];return void 0===i||1!==t[e.str]?e:(delete t[e.str],i)}}function _(e,t){for(const n in t)e[n]=(e[n]||0)-(t[n]||0)}function B(e){return"boolean"==typeof e||"number"==typeof e||null===e?!e:NS._`!${G(e)}`}t.CodeGen=class{constructor(e,t={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...t,_n:t.lines?"\n":""},this._extScope=e,this._scope=new HS.Scope({parent:e}),this._nodes=[new f]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,t){const n=this._extScope.value(e,t);return(this._values[n.prefix]||(this._values[n.prefix]=new Set)).add(n),n}getScopeValue(e,t){return this._extScope.getValue(e,t)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,t,n,i){const r=this._scope.toName(t);return void 0!==n&&i&&(this._constants[r.str]=n),this._leafNode(new o(e,r,n)),r}const(e,t,n){return this._def(HS.varKinds.const,e,t,n)}let(e,t,n){return this._def(HS.varKinds.let,e,t,n)}var(e,t,n){return this._def(HS.varKinds.var,e,t,n)}assign(e,t,n){return this._leafNode(new s(e,t,n))}add(e,n){return this._leafNode(new a(e,t.operators.ADD,n))}code(e){return"function"==typeof e?e():e!==NS.nil&&this._leafNode(new h(e)),this}object(...e){const t=["{"];for(const[n,i]of e)t.length>1&&t.push(","),t.push(n),(n!==i||this.opts.es5)&&(t.push(":"),NS.addCodeArg(t,i));return t.push("}"),new NS._Code(t)}if(e,t,n){if(this._blockNode(new m(e)),t&&n)this.code(t).else().code(n).endIf();else if(t)this.code(t).endIf();else if(n)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new m(e))}else(){return this._elseNode(new p)}endIf(){return this._endBlockNode(m,p)}_for(e,t){return this._blockNode(e),t&&this.code(t).endFor(),this}for(e,t){return this._for(new I(e),t)}forRange(e,t,n,i,r=(this.opts.es5?HS.varKinds.var:HS.varKinds.let)){const o=this._scope.toName(e);return this._for(new v(r,o,t,n),(()=>i(o)))}forOf(e,t,n,i=HS.varKinds.const){const r=this._scope.toName(e);if(this.opts.es5){const e=t instanceof NS.Name?t:this.var("_arr",t);return this.forRange("_i",0,NS._`${e}.length`,(t=>{this.var(r,NS._`${e}[${t}]`),n(r)}))}return this._for(new A("of",i,r,t),(()=>n(r)))}forIn(e,t,n,i=(this.opts.es5?HS.varKinds.var:HS.varKinds.const)){if(this.opts.ownProperties)return this.forOf(e,NS._`Object.keys(${t})`,n);const r=this._scope.toName(e);return this._for(new A("in",i,r,t),(()=>n(r)))}endFor(){return this._endBlockNode(C)}label(e){return this._leafNode(new c(e))}break(e){return this._leafNode(new l(e))}return(e){const t=new b;if(this._blockNode(t),this.code(e),1!==t.nodes.length)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(b)}try(e,t,n){if(!t&&!n)throw new Error('CodeGen: "try" without "catch" and "finally"');const i=new w;if(this._blockNode(i),this.code(e),t){const e=this.name("e");this._currNode=i.catch=new $(e),t(e)}return n&&(this._currNode=i.finally=new S,this.code(n)),this._endBlockNode($,S)}throw(e){return this._leafNode(new u(e))}block(e,t){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(t),this}endBlock(e){const t=this._blockStarts.pop();if(void 0===t)throw new Error("CodeGen: not in self-balancing block");const n=this._nodes.length-t;if(n<0||void 0!==e&&n!==e)throw new Error(`CodeGen: wrong number of nodes: ${n} vs ${e} expected`);return this._nodes.length=t,this}func(e,t=NS.nil,n,i){return this._blockNode(new y(e,t,n)),i&&this.code(i).endFunc(),this}endFunc(){return this._endBlockNode(y)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,t){const n=this._currNode;if(n instanceof e||t&&n instanceof t)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${t?`${e.kind}/${t.kind}`:e.kind}"`)}_elseNode(e){const t=this._currNode;if(!(t instanceof m))throw new Error('CodeGen: "else" without "if"');return this._currNode=t.else=e,this}get _root(){return this._nodes[0]}get _currNode(){const e=this._nodes;return e[e.length-1]}set _currNode(e){const t=this._nodes;t[t.length-1]=e}},t.not=B;const E=W(t.operators.AND);t.and=function(...e){return e.reduce(E)};const L=W(t.operators.OR);function W(e){return(t,n)=>t===NS.nil?n:n===NS.nil?t:NS._`${G(t)} ${e} ${G(n)}`}function G(e){return e instanceof NS.Name?e:NS._`(${e})`}t.or=function(...e){return e.reduce(L)}})),VS=He((function(e,t){function n(e,t=e.schema){const{opts:n,self:i}=e;if(!n.strictSchema)return;if("boolean"==typeof t)return;const r=i.RULES.keywords;for(const n in t)r[n]||h(e,`unknown keyword: "${n}"`)}function i(e,t){if("boolean"==typeof e)return!e;for(const n in e)if(t[n])return!0;return!1}function r(e){return"number"==typeof e?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}function o(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function s({mergeNames:e,mergeToName:t,mergeValues:n,resultToName:i}){return(r,o,s,a)=>{const c=void 0===s?o:s instanceof ZS.Name?(o instanceof ZS.Name?e(r,o,s):t(r,o,s),s):o instanceof ZS.Name?(t(r,s,o),o):n(o,s);return a!==ZS.Name||c instanceof ZS.Name?c:i(r,c)}}function a(e,t){if(!0===t)return e.var("props",!0);const n=e.var("props",ZS._`{}`);return void 0!==t&&c(e,n,t),n}function c(e,t,n){Object.keys(n).forEach((n=>e.assign(ZS._`${t}${ZS.getProperty(n)}`,!0)))}Object.defineProperty(t,"__esModule",{value:!0}),t.checkStrictMode=t.getErrorPath=t.Type=t.useFunc=t.setEvaluated=t.evaluatedPropsToName=t.mergeEvaluated=t.eachItem=t.unescapeJsonPointer=t.escapeJsonPointer=t.escapeFragment=t.unescapeFragment=t.schemaRefOrVal=t.schemaHasRulesButRef=t.schemaHasRules=t.checkUnknownRules=t.alwaysValidSchema=t.toHash=void 0,t.toHash=function(e){const t={};for(const n of e)t[n]=!0;return t},t.alwaysValidSchema=function(e,t){return"boolean"==typeof t?t:0===Object.keys(t).length||(n(e,t),!i(t,e.self.RULES.all))},t.checkUnknownRules=n,t.schemaHasRules=i,t.schemaHasRulesButRef=function(e,t){if("boolean"==typeof e)return!e;for(const n in e)if("$ref"!==n&&t.all[n])return!0;return!1},t.schemaRefOrVal=function({topSchemaRef:e,schemaPath:t},n,i,r){if(!r){if("number"==typeof n||"boolean"==typeof n)return n;if("string"==typeof n)return ZS._`${n}`}return ZS._`${e}${t}${ZS.getProperty(i)}`},t.unescapeFragment=function(e){return o(decodeURIComponent(e))},t.escapeFragment=function(e){return encodeURIComponent(r(e))},t.escapeJsonPointer=r,t.unescapeJsonPointer=o,t.eachItem=function(e,t){if(Array.isArray(e))for(const n of e)t(n);else t(e)},t.mergeEvaluated={props:s({mergeNames:(e,t,n)=>e.if(ZS._`${n} !== true && ${t} !== undefined`,(()=>{e.if(ZS._`${t} === true`,(()=>e.assign(n,!0)),(()=>e.assign(n,ZS._`${n} || {}`).code(ZS._`Object.assign(${n}, ${t})`)))})),mergeToName:(e,t,n)=>e.if(ZS._`${n} !== true`,(()=>{!0===t?e.assign(n,!0):(e.assign(n,ZS._`${n} || {}`),c(e,n,t))})),mergeValues:(e,t)=>!0===e||{...e,...t},resultToName:a}),items:s({mergeNames:(e,t,n)=>e.if(ZS._`${n} !== true && ${t} !== undefined`,(()=>e.assign(n,ZS._`${t} === true ? true : ${n} > ${t} ? ${n} : ${t}`))),mergeToName:(e,t,n)=>e.if(ZS._`${n} !== true`,(()=>e.assign(n,!0===t||ZS._`${n} > ${t} ? ${n} : ${t}`))),mergeValues:(e,t)=>!0===e||Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})},t.evaluatedPropsToName=a,t.setEvaluated=c;const l={};var u;function h(e,t,n=e.opts.strictSchema){if(n){if(t=`strict mode: ${t}`,!0===n)throw new Error(t);e.self.logger.warn(t)}}t.useFunc=function(e,t){return e.scopeValue("func",{ref:t,code:l[t.code]||(l[t.code]=new NS._Code(t.code))})},function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"}(u=t.Type||(t.Type={})),t.getErrorPath=function(e,t,n){if(e instanceof ZS.Name){const i=t===u.Num;return n?i?ZS._`"[" + ${e} + "]"`:ZS._`"['" + ${e} + "']"`:i?ZS._`"/" + ${e}`:ZS._`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return n?ZS.getProperty(e).toString():"/"+r(e)},t.checkStrictMode=h}));var PS={data:new ZS.Name("data"),valCxt:new ZS.Name("valCxt"),instancePath:new ZS.Name("instancePath"),parentData:new ZS.Name("parentData"),parentDataProperty:new ZS.Name("parentDataProperty"),rootData:new ZS.Name("rootData"),dynamicAnchors:new ZS.Name("dynamicAnchors"),vErrors:new ZS.Name("vErrors"),errors:new ZS.Name("errors"),this:new ZS.Name("this"),self:new ZS.Name("self"),scope:new ZS.Name("scope"),json:new ZS.Name("json"),jsonPos:new ZS.Name("jsonPos"),jsonLen:new ZS.Name("jsonLen"),jsonPart:new ZS.Name("jsonPart")},FS=Object.defineProperty({default:PS},"__esModule",{value:!0}),KS=He((function(e,t){function n(e,t){const n=e.const("err",t);e.if(ZS._`${FS.default.vErrors} === null`,(()=>e.assign(FS.default.vErrors,ZS._`[${n}]`)),ZS._`${FS.default.vErrors}.push(${n})`),e.code(ZS._`${FS.default.errors}++`)}function i(e,t){const{gen:n,validateName:i,schemaEnv:r}=e;r.$async?n.throw(ZS._`new ${e.ValidationError}(${t})`):(n.assign(ZS._`${i}.errors`,t),n.return(!1))}Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0,t.keywordError={message:({keyword:e})=>ZS.str`should pass "${e}" keyword validation`},t.keyword$DataError={message:({keyword:e,schemaType:t})=>t?ZS.str`"${e}" keyword must be ${t} ($data)`:ZS.str`"${e}" keyword is invalid ($data)`},t.reportError=function(e,r=t.keywordError,s,a){const{it:c}=e,{gen:l,compositeRule:u,allErrors:h}=c,d=o(e,r,s);(null!=a?a:u||h)?n(l,d):i(c,ZS._`[${d}]`)},t.reportExtraError=function(e,r=t.keywordError,s){const{it:a}=e,{gen:c,compositeRule:l,allErrors:u}=a;n(c,o(e,r,s)),l||u||i(a,FS.default.vErrors)},t.resetErrorsCount=function(e,t){e.assign(FS.default.errors,t),e.if(ZS._`${FS.default.vErrors} !== null`,(()=>e.if(t,(()=>e.assign(ZS._`${FS.default.vErrors}.length`,t)),(()=>e.assign(FS.default.vErrors,null)))))},t.extendErrors=function({gen:e,keyword:t,schemaValue:n,data:i,errsCount:r,it:o}){if(void 0===r)throw new Error("ajv implementation error");const s=e.name("err");e.forRange("i",r,FS.default.errors,(r=>{e.const(s,ZS._`${FS.default.vErrors}[${r}]`),e.if(ZS._`${s}.instancePath === undefined`,(()=>e.assign(ZS._`${s}.instancePath`,ZS.strConcat(FS.default.instancePath,o.errorPath)))),e.assign(ZS._`${s}.schemaPath`,ZS.str`${o.errSchemaPath}/${t}`),o.opts.verbose&&(e.assign(ZS._`${s}.schema`,n),e.assign(ZS._`${s}.data`,i))}))};const r={keyword:new ZS.Name("keyword"),schemaPath:new ZS.Name("schemaPath"),params:new ZS.Name("params"),propertyName:new ZS.Name("propertyName"),message:new ZS.Name("message"),schema:new ZS.Name("schema"),parentSchema:new ZS.Name("parentSchema")};function o(e,t,n){const{createErrors:i}=e.it;return!1===i?ZS._`{}`:function(e,t,n={}){const{gen:i,it:o}=e,c=[s(o,n),a(e,n)];return function(e,{params:t,message:n},i){const{keyword:o,data:s,schemaValue:a,it:c}=e,{opts:l,propertyName:u,topSchemaRef:h,schemaPath:d}=c;i.push([r.keyword,o],[r.params,"function"==typeof t?t(e):t||ZS._`{}`]),l.messages&&i.push([r.message,"function"==typeof n?n(e):n]);l.verbose&&i.push([r.schema,a],[r.parentSchema,ZS._`${h}${d}`],[FS.default.data,s]);u&&i.push([r.propertyName,u])}(e,t,c),i.object(...c)}(e,t,n)}function s({errorPath:e},{instancePath:t}){const n=t?ZS.str`${e}${VS.getErrorPath(t,VS.Type.Str)}`:e;return[FS.default.instancePath,ZS.strConcat(FS.default.instancePath,n)]}function a({keyword:e,it:{errSchemaPath:t}},{schemaPath:n,parentSchema:i}){let o=i?t:ZS.str`${t}/${e}`;return n&&(o=ZS.str`${o}${VS.getErrorPath(n,VS.Type.Str)}`),[r.schemaPath,o]}})),jS=He((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.boolOrEmptySchema=t.topBoolOrEmptySchema=void 0;const n={message:"boolean schema is false"};function i(e,t){const{gen:i,data:r}=e,o={gen:i,keyword:"false schema",data:r,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};KS.reportError(o,n,void 0,t)}t.topBoolOrEmptySchema=function(e){const{gen:t,schema:n,validateName:r}=e;!1===n?i(e,!1):"object"==typeof n&&!0===n.$async?t.return(FS.default.data):(t.assign(ZS._`${r}.errors`,null),t.return(!0))},t.boolOrEmptySchema=function(e,t){const{gen:n,schema:r}=e;!1===r?(n.var(t,!1),i(e)):n.var(t,!0)}})),DS=He((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getRules=t.isJSONType=void 0;const n=new Set(["string","number","integer","boolean","null","object","array"]);t.isJSONType=function(e){return"string"==typeof e&&n.has(e)},t.getRules=function(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}})),zS=He((function(e,t){function n(e,t){return t.rules.some((t=>i(e,t)))}function i(e,t){var n;return void 0!==e[t.keyword]||(null===(n=t.definition.implements)||void 0===n?void 0:n.some((t=>void 0!==e[t])))}Object.defineProperty(t,"__esModule",{value:!0}),t.shouldUseRule=t.shouldUseGroup=t.schemaHasRulesForType=void 0,t.schemaHasRulesForType=function({schema:e,self:t},i){const r=t.RULES.types[i];return r&&!0!==r&&n(e,r)},t.shouldUseGroup=n,t.shouldUseRule=i})),XS=He((function(e,t){var n;function i(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(DS.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}Object.defineProperty(t,"__esModule",{value:!0}),t.reportTypeError=t.checkDataTypes=t.checkDataType=t.coerceAndCheckDataType=t.getJSONTypes=t.getSchemaTypes=t.DataType=void 0,function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"}(n=t.DataType||(t.DataType={})),t.getSchemaTypes=function(e){const t=i(e.type);if(t.includes("null")){if(!1===e.nullable)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&void 0!==e.nullable)throw new Error('"nullable" cannot be used without "type"');!0===e.nullable&&t.push("null")}return t},t.getJSONTypes=i,t.coerceAndCheckDataType=function(e,t){const{gen:i,data:o,opts:a}=e,l=function(e,t){return t?e.filter((e=>r.has(e)||"array"===t&&"array"===e)):[]}(t,a.coerceTypes),u=t.length>0&&!(0===l.length&&1===t.length&&zS.schemaHasRulesForType(e,t[0]));if(u){const u=s(t,o,a.strictNumbers,n.Wrong);i.if(u,(()=>{l.length?function(e,t,n){const{gen:i,data:o,opts:a}=e,l=i.let("dataType",ZS._`typeof ${o}`),u=i.let("coerced",ZS._`undefined`);"array"===a.coerceTypes&&i.if(ZS._`${l} == 'object' && Array.isArray(${o}) && ${o}.length == 1`,(()=>i.assign(o,ZS._`${o}[0]`).assign(l,ZS._`typeof ${o}`).if(s(t,o,a.strictNumbers),(()=>i.assign(u,o)))));i.if(ZS._`${u} !== undefined`);for(const e of n)(r.has(e)||"array"===e&&"array"===a.coerceTypes)&&h(e);function h(e){switch(e){case"string":return void i.elseIf(ZS._`${l} == "number" || ${l} == "boolean"`).assign(u,ZS._`"" + ${o}`).elseIf(ZS._`${o} === null`).assign(u,ZS._`""`);case"number":return void i.elseIf(ZS._`${l} == "boolean" || ${o} === null
              || (${l} == "string" && ${o} && ${o} == +${o})`).assign(u,ZS._`+${o}`);case"integer":return void i.elseIf(ZS._`${l} === "boolean" || ${o} === null
              || (${l} === "string" && ${o} && ${o} == +${o} && !(${o} % 1))`).assign(u,ZS._`+${o}`);case"boolean":return void i.elseIf(ZS._`${o} === "false" || ${o} === 0 || ${o} === null`).assign(u,!1).elseIf(ZS._`${o} === "true" || ${o} === 1`).assign(u,!0);case"null":return i.elseIf(ZS._`${o} === "" || ${o} === 0 || ${o} === false`),void i.assign(u,null);case"array":i.elseIf(ZS._`${l} === "string" || ${l} === "number"
              || ${l} === "boolean" || ${o} === null`).assign(u,ZS._`[${o}]`)}}i.else(),c(e),i.endIf(),i.if(ZS._`${u} !== undefined`,(()=>{i.assign(o,u),function({gen:e,parentData:t,parentDataProperty:n},i){e.if(ZS._`${t} !== undefined`,(()=>e.assign(ZS._`${t}[${n}]`,i)))}(e,u)}))}(e,t,l):c(e)}))}return u};const r=new Set(["string","number","integer","boolean","null"]);function o(e,t,i,r=n.Correct){const o=r===n.Correct?ZS.operators.EQ:ZS.operators.NEQ;let s;switch(e){case"null":return ZS._`${t} ${o} null`;case"array":s=ZS._`Array.isArray(${t})`;break;case"object":s=ZS._`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":s=a(ZS._`!(${t} % 1) && !isNaN(${t})`);break;case"number":s=a();break;default:return ZS._`typeof ${t} ${o} ${e}`}return r===n.Correct?s:ZS.not(s);function a(e=ZS.nil){return ZS.and(ZS._`typeof ${t} == "number"`,e,i?ZS._`isFinite(${t})`:ZS.nil)}}function s(e,t,n,i){if(1===e.length)return o(e[0],t,n,i);let r;const s=VS.toHash(e);if(s.array&&s.object){const e=ZS._`typeof ${t} != "object"`;r=s.null?e:ZS._`!${t} || ${e}`,delete s.null,delete s.array,delete s.object}else r=ZS.nil;s.number&&delete s.integer;for(const e in s)r=ZS.and(r,o(e,t,n,i));return r}t.checkDataType=o,t.checkDataTypes=s;const a={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>"string"==typeof e?ZS._`{type: ${e}}`:ZS._`{type: ${t}}`};function c(e){const t=function(e){const{gen:t,data:n,schema:i}=e,r=VS.schemaRefOrVal(e,i,"type");return{gen:t,keyword:"type",data:n,schema:i.type,schemaCode:r,schemaValue:r,parentSchema:i,params:{},it:e}}(e);KS.reportError(t,a)}t.reportTypeError=c})),JS=He((function(e,t){function n(e,t,n){const{gen:i,compositeRule:r,data:o,opts:s}=e;if(void 0===n)return;const a=ZS._`${o}${ZS.getProperty(t)}`;if(r)return void VS.checkStrictMode(e,`default is ignored for: ${a}`);let c=ZS._`${a} === undefined`;"empty"===s.useDefaults&&(c=ZS._`${c} || ${a} === null || ${a} === ""`),i.if(c,ZS._`${a} = ${ZS.stringify(n)}`)}Object.defineProperty(t,"__esModule",{value:!0}),t.assignDefaults=void 0,t.assignDefaults=function(e,t){const{properties:i,items:r}=e.schema;if("object"===t&&i)for(const t in i)n(e,t,i[t].default);else"array"===t&&Array.isArray(r)&&r.forEach(((t,i)=>n(e,i,t.default)))}})),YS=He((function(e,t){function n(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:ZS._`Object.prototype.hasOwnProperty`})}function i(e,t,i){return ZS._`${n(e)}.call(${t}, ${i})`}function r(e,t,n,r){const o=ZS._`${t}${ZS.getProperty(n)} === undefined`;return r?ZS.or(o,ZS.not(i(e,t,n))):o}function o(e){return e?Object.keys(e).filter((e=>"__proto__"!==e)):[]}Object.defineProperty(t,"__esModule",{value:!0}),t.validateUnion=t.validateArray=t.usePattern=t.callValidateCode=t.schemaProperties=t.allSchemaProperties=t.noPropertyInData=t.propertyInData=t.isOwnProperty=t.hasPropFunc=t.reportMissingProp=t.checkMissingProp=t.checkReportMissingProp=void 0,t.checkReportMissingProp=function(e,t){const{gen:n,data:i,it:o}=e;n.if(r(n,i,t,o.opts.ownProperties),(()=>{e.setParams({missingProperty:ZS._`${t}`},!0),e.error()}))},t.checkMissingProp=function({gen:e,data:t,it:{opts:n}},i,o){return ZS.or(...i.map((i=>ZS.and(r(e,t,i,n.ownProperties),ZS._`${o} = ${i}`))))},t.reportMissingProp=function(e,t){e.setParams({missingProperty:t},!0),e.error()},t.hasPropFunc=n,t.isOwnProperty=i,t.propertyInData=function(e,t,n,r){const o=ZS._`${t}${ZS.getProperty(n)} !== undefined`;return r?ZS._`${o} && ${i(e,t,n)}`:o},t.noPropertyInData=r,t.allSchemaProperties=o,t.schemaProperties=function(e,t){return o(t).filter((n=>!VS.alwaysValidSchema(e,t[n])))},t.callValidateCode=function({schemaCode:e,data:t,it:{gen:n,topSchemaRef:i,schemaPath:r,errorPath:o},it:s},a,c,l){const u=l?ZS._`${e}, ${t}, ${i}${r}`:t,h=[[FS.default.instancePath,ZS.strConcat(FS.default.instancePath,o)],[FS.default.parentData,s.parentData],[FS.default.parentDataProperty,s.parentDataProperty],[FS.default.rootData,FS.default.rootData]];s.opts.dynamicRef&&h.push([FS.default.dynamicAnchors,FS.default.dynamicAnchors]);const d=ZS._`${u}, ${n.object(...h)}`;return c!==ZS.nil?ZS._`${a}.call(${c}, ${d})`:ZS._`${a}(${d})`},t.usePattern=function({gen:e,it:{opts:t}},n){const i=t.unicodeRegExp?"u":"";return e.scopeValue("pattern",{key:n,ref:new RegExp(n,i),code:ZS._`new RegExp(${n}, ${i})`})},t.validateArray=function(e){const{gen:t,data:n,keyword:i,it:r}=e,o=t.name("valid");if(r.allErrors){const e=t.let("valid",!0);return s((()=>t.assign(e,!1))),e}return t.var(o,!0),s((()=>t.break())),o;function s(r){const s=t.const("len",ZS._`${n}.length`);t.forRange("i",0,s,(n=>{e.subschema({keyword:i,dataProp:n,dataPropType:VS.Type.Num},o),t.if(ZS.not(o),r)}))}},t.validateUnion=function(e){const{gen:t,schema:n,keyword:i,it:r}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(n.some((e=>VS.alwaysValidSchema(r,e)))&&!r.opts.unevaluated)return;const o=t.let("valid",!1),s=t.name("_valid");t.block((()=>n.forEach(((n,r)=>{const a=e.subschema({keyword:i,schemaProp:r,compositeRule:!0},s);t.assign(o,ZS._`${o} || ${s}`);e.mergeValidEvaluated(a,s)||t.if(ZS.not(o))})))),e.result(o,(()=>e.reset()),(()=>e.error(!0)))}})),US=He((function(e,t){function n(e){const{gen:t,data:n,it:i}=e;t.if(i.parentData,(()=>t.assign(n,ZS._`${i.parentData}[${i.parentDataProperty}]`)))}function i(e,t,n){if(void 0===n)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword","function"==typeof n?{ref:n}:{ref:n,code:ZS.stringify(n)})}Object.defineProperty(t,"__esModule",{value:!0}),t.validateKeywordUsage=t.validSchemaType=t.funcKeywordCode=t.macroKeywordCode=void 0,t.macroKeywordCode=function(e,t){const{gen:n,keyword:r,schema:o,parentSchema:s,it:a}=e,c=t.macro.call(a.self,o,s,a),l=i(n,r,c);!1!==a.opts.validateSchema&&a.self.validateSchema(c,!0);const u=n.name("valid");e.subschema({schema:c,schemaPath:ZS.nil,errSchemaPath:`${a.errSchemaPath}/${r}`,topSchemaRef:l,compositeRule:!0},u),e.pass(u,(()=>e.error(!0)))},t.funcKeywordCode=function(e,t){var r;const{gen:o,keyword:s,schema:a,parentSchema:c,$data:l,it:u}=e;!function({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}(u,t);const h=!l&&t.compile?t.compile.call(u.self,a,c,u):t.validate,d=i(o,s,h),g=o.let("valid");function f(n=(t.async?ZS._`await `:ZS.nil)){const i=u.opts.passContext?FS.default.this:FS.default.self,r=!("compile"in t&&!l||!1===t.schema);o.assign(g,ZS._`${n}${YS.callValidateCode(e,d,i,r)}`,t.modifying)}function p(e){var n;o.if(ZS.not(null!==(n=t.valid)&&void 0!==n?n:g),e)}e.block$data(g,(function(){if(!1===t.errors)f(),t.modifying&&n(e),p((()=>e.error()));else{const i=t.async?function(){const e=o.let("ruleErrs",null);return o.try((()=>f(ZS._`await `)),(t=>o.assign(g,!1).if(ZS._`${t} instanceof ${u.ValidationError}`,(()=>o.assign(e,ZS._`${t}.errors`)),(()=>o.throw(t))))),e}():function(){const e=ZS._`${d}.errors`;return o.assign(e,null),f(ZS.nil),e}();t.modifying&&n(e),p((()=>function(e,t){const{gen:n}=e;n.if(ZS._`Array.isArray(${t})`,(()=>{n.assign(FS.default.vErrors,ZS._`${FS.default.vErrors} === null ? ${t} : ${FS.default.vErrors}.concat(${t})`).assign(FS.default.errors,ZS._`${FS.default.vErrors}.length`),KS.extendErrors(e)}),(()=>e.error()))}(e,i)))}})),e.ok(null!==(r=t.valid)&&void 0!==r?r:g)},t.validSchemaType=function(e,t,n=!1){return!t.length||t.some((t=>"array"===t?Array.isArray(e):"object"===t?e&&"object"==typeof e&&!Array.isArray(e):typeof e==t||n&&void 0===e))},t.validateKeywordUsage=function({schema:e,opts:t,self:n,errSchemaPath:i},r,o){if(Array.isArray(r.keyword)?!r.keyword.includes(o):r.keyword!==o)throw new Error("ajv implementation error");const s=r.dependencies;if(null==s?void 0:s.some((t=>!Object.prototype.hasOwnProperty.call(e,t))))throw new Error(`parent schema must have dependencies of ${o}: ${s.join(",")}`);if(r.validateSchema){if(!r.validateSchema(e[o])){const e=`keyword "${o}" value is invalid at path "${i}": `+n.errorsText(r.validateSchema.errors);if("log"!==t.validateSchema)throw new Error(e);n.logger.error(e)}}}})),QS=He((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.extendSubschemaMode=t.extendSubschemaData=t.getSubschema=void 0,t.getSubschema=function(e,{keyword:t,schemaProp:n,schema:i,schemaPath:r,errSchemaPath:o,topSchemaRef:s}){if(void 0!==t&&void 0!==i)throw new Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==t){const i=e.schema[t];return void 0===n?{schema:i,schemaPath:ZS._`${e.schemaPath}${ZS.getProperty(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:i[n],schemaPath:ZS._`${e.schemaPath}${ZS.getProperty(t)}${ZS.getProperty(n)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${VS.escapeFragment(n)}`}}if(void 0!==i){if(void 0===r||void 0===o||void 0===s)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:i,schemaPath:r,topSchemaRef:s,errSchemaPath:o}}throw new Error('either "keyword" or "schema" must be passed')},t.extendSubschemaData=function(e,t,{dataProp:n,dataPropType:i,data:r,dataTypes:o,propertyName:s}){if(void 0!==r&&void 0!==n)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:a}=t;if(void 0!==n){const{errorPath:r,dataPathArr:o,opts:s}=t;c(a.let("data",ZS._`${t.data}${ZS.getProperty(n)}`,!0)),e.errorPath=ZS.str`${r}${VS.getErrorPath(n,i,s.jsPropertySyntax)}`,e.parentDataProperty=ZS._`${n}`,e.dataPathArr=[...o,e.parentDataProperty]}if(void 0!==r){c(r instanceof ZS.Name?r:a.let("data",r,!0)),void 0!==s&&(e.propertyName=s)}function c(n){e.data=n,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,n]}o&&(e.dataTypes=o)},t.extendSubschemaMode=function(e,{jtdDiscriminator:t,jtdMetadata:n,compositeRule:i,createErrors:r,allErrors:o}){void 0!==i&&(e.compositeRule=i),void 0!==r&&(e.createErrors=r),void 0!==o&&(e.allErrors=o),e.jtdDiscriminator=t,e.jtdMetadata=n}})),qS=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var i,r,o;if(Array.isArray(t)){if((i=t.length)!=n.length)return!1;for(r=i;0!=r--;)if(!e(t[r],n[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((i=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(r=i;0!=r--;)if(!Object.prototype.hasOwnProperty.call(n,o[r]))return!1;for(r=i;0!=r--;){var s=o[r];if(!e(t[s],n[s]))return!1}return!0}return t!=t&&n!=n},ex=He((function(e){var t=e.exports=function(e,t,i){"function"==typeof t&&(i=t,t={}),n(t,"function"==typeof(i=t.cb||i)?i:i.pre||function(){},i.post||function(){},e,"",e)};function n(e,i,r,o,s,a,c,l,u,h){if(o&&"object"==typeof o&&!Array.isArray(o)){for(var d in i(o,s,a,c,l,u,h),o){var g=o[d];if(Array.isArray(g)){if(d in t.arrayKeywords)for(var f=0;f<g.length;f++)n(e,i,r,g[f],s+"/"+d+"/"+f,a,s,d,o,f)}else if(d in t.propsKeywords){if(g&&"object"==typeof g)for(var p in g)n(e,i,r,g[p],s+"/"+d+"/"+p.replace(/~/g,"~0").replace(/\//g,"~1"),a,s,d,o,p)}else(d in t.keywords||e.allKeys&&!(d in t.skipKeywords))&&n(e,i,r,g,s+"/"+d,a,s,d,o)}r(o,s,a,c,l,u,h)}}t.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},t.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},t.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},t.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}})),tx=He((function(e,t){!function(e){function t(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length>1){t[0]=t[0].slice(0,-1);for(var i=t.length-1,r=1;r<i;++r)t[r]=t[r].slice(1,-1);return t[i]=t[i].slice(1),t.join("")}return t[0]}function n(e){return"(?:"+e+")"}function i(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function r(e){return e.toUpperCase()}function o(e){return null!=e?e instanceof Array?e:"number"!=typeof e.length||e.split||e.setInterval||e.call?[e]:Array.prototype.slice.call(e):[]}function s(e,t){var n=e;if(t)for(var i in t)n[i]=t[i];return n}function a(e){var i="[A-Za-z]",r="[0-9]",o=t(r,"[A-Fa-f]"),s=n(n("%[EFef]"+o+"%"+o+o+"%"+o+o)+"|"+n("%[89A-Fa-f]"+o+"%"+o+o)+"|"+n("%"+o+o)),a="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",c=t("[\\:\\/\\?\\#\\[\\]\\@]",a),l=e?"[\\uE000-\\uF8FF]":"[]",u=t(i,r,"[\\-\\.\\_\\~]",e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]");n(i+t(i,r,"[\\+\\-\\.]")+"*"),n(n(s+"|"+t(u,a,"[\\:]"))+"*");var h=n(n("25[0-5]")+"|"+n("2[0-4]"+r)+"|"+n("1"+r+r)+"|"+n("0?[1-9]"+r)+"|0?0?"+r),d=n(h+"\\."+h+"\\."+h+"\\."+h),g=n(o+"{1,4}"),f=n(n(g+"\\:"+g)+"|"+d),p=n(n(g+"\\:")+"{6}"+f),m=n("\\:\\:"+n(g+"\\:")+"{5}"+f),C=n(n(g)+"?\\:\\:"+n(g+"\\:")+"{4}"+f),I=n(n(n(g+"\\:")+"{0,1}"+g)+"?\\:\\:"+n(g+"\\:")+"{3}"+f),v=n(n(n(g+"\\:")+"{0,2}"+g)+"?\\:\\:"+n(g+"\\:")+"{2}"+f),A=n(n(n(g+"\\:")+"{0,3}"+g)+"?\\:\\:"+g+"\\:"+f),y=n(n(n(g+"\\:")+"{0,4}"+g)+"?\\:\\:"+f),b=n(n(n(g+"\\:")+"{0,5}"+g)+"?\\:\\:"+g),w=n(n(n(g+"\\:")+"{0,6}"+g)+"?\\:\\:"),$=n([p,m,C,I,v,A,y,b,w].join("|")),S=n(n(u+"|"+s)+"+");n("[vV]"+o+"+\\."+t(u,a,"[\\:]")+"+"),n(n(s+"|"+t(u,a))+"*");var x=n(s+"|"+t(u,a,"[\\:\\@]"));return n(n(s+"|"+t(u,a,"[\\@]"))+"+"),n(n(x+"|"+t("[\\/\\?]",l))+"*"),{NOT_SCHEME:new RegExp(t("[^]",i,r,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",u,a),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",u,a),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",u,a),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",u,a),"g"),NOT_QUERY:new RegExp(t("[^\\%]",u,a,"[\\:\\@\\/\\?]",l),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",u,a,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",u,a),"g"),UNRESERVED:new RegExp(u,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",u,c),"g"),PCT_ENCODED:new RegExp(s,"g"),IPV4ADDRESS:new RegExp("^("+d+")$"),IPV6ADDRESS:new RegExp("^\\[?("+$+")"+n(n("\\%25|\\%(?!"+o+"{2})")+"("+S+")")+"?\\]?$")}}var c=a(!1),l=a(!0),u=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},d=2147483647,g=36,f=1,p=26,m=38,C=700,I=72,v=128,A="-",y=/^xn--/,b=/[^\0-\x7E]/,w=/[\x2E\u3002\uFF0E\uFF61]/g,$={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},S=g-f,x=Math.floor,k=String.fromCharCode;function R(e){throw new RangeError($[e])}function _(e,t){for(var n=[],i=e.length;i--;)n[i]=t(e[i]);return n}function B(e,t){var n=e.split("@"),i="";return n.length>1&&(i=n[0]+"@",e=n[1]),i+_((e=e.replace(w,".")).split("."),t).join(".")}function E(e){for(var t=[],n=0,i=e.length;n<i;){var r=e.charCodeAt(n++);if(r>=55296&&r<=56319&&n<i){var o=e.charCodeAt(n++);56320==(64512&o)?t.push(((1023&r)<<10)+(1023&o)+65536):(t.push(r),n--)}else t.push(r)}return t}var L=function(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:g},W=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},G=function(e,t,n){var i=0;for(e=n?x(e/C):e>>1,e+=x(e/t);e>S*p>>1;i+=g)e=x(e/S);return x(i+(S+1)*e/(e+m))},T=function(e){var t=[],n=e.length,i=0,r=v,o=I,s=e.lastIndexOf(A);s<0&&(s=0);for(var a=0;a<s;++a)e.charCodeAt(a)>=128&&R("not-basic"),t.push(e.charCodeAt(a));for(var c=s>0?s+1:0;c<n;){for(var l=i,u=1,h=g;;h+=g){c>=n&&R("invalid-input");var m=L(e.charCodeAt(c++));(m>=g||m>x((d-i)/u))&&R("overflow"),i+=m*u;var C=h<=o?f:h>=o+p?p:h-o;if(m<C)break;var y=g-C;u>x(d/y)&&R("overflow"),u*=y}var b=t.length+1;o=G(i-l,b,0==l),x(i/b)>d-r&&R("overflow"),r+=x(i/b),i%=b,t.splice(i++,0,r)}return String.fromCodePoint.apply(String,t)},M=function(e){var t=[],n=(e=E(e)).length,i=v,r=0,o=I,s=!0,a=!1,c=void 0;try{for(var l,u=e[Symbol.iterator]();!(s=(l=u.next()).done);s=!0){var h=l.value;h<128&&t.push(k(h))}}catch(e){a=!0,c=e}finally{try{!s&&u.return&&u.return()}finally{if(a)throw c}}var m=t.length,C=m;for(m&&t.push(A);C<n;){var y=d,b=!0,w=!1,$=void 0;try{for(var S,_=e[Symbol.iterator]();!(b=(S=_.next()).done);b=!0){var B=S.value;B>=i&&B<y&&(y=B)}}catch(e){w=!0,$=e}finally{try{!b&&_.return&&_.return()}finally{if(w)throw $}}var L=C+1;y-i>x((d-r)/L)&&R("overflow"),r+=(y-i)*L,i=y;var T=!0,M=!1,O=void 0;try{for(var N,H=e[Symbol.iterator]();!(T=(N=H.next()).done);T=!0){var Z=N.value;if(Z<i&&++r>d&&R("overflow"),Z==i){for(var V=r,P=g;;P+=g){var F=P<=o?f:P>=o+p?p:P-o;if(V<F)break;var K=V-F,j=g-F;t.push(k(W(F+K%j,0))),V=x(K/j)}t.push(k(W(V,0))),o=G(r,L,C==m),r=0,++C}}}catch(e){M=!0,O=e}finally{try{!T&&H.return&&H.return()}finally{if(M)throw O}}++r,++i}return t.join("")},O=function(e){return B(e,(function(e){return y.test(e)?T(e.slice(4).toLowerCase()):e}))},N=function(e){return B(e,(function(e){return b.test(e)?"xn--"+M(e):e}))},H={version:"2.1.0",ucs2:{decode:E,encode:function(e){return String.fromCodePoint.apply(String,h(e))}},decode:T,encode:M,toASCII:N,toUnicode:O},Z={};function V(e){var t=e.charCodeAt(0);return t<16?"%0"+t.toString(16).toUpperCase():t<128?"%"+t.toString(16).toUpperCase():t<2048?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase()}function P(e){for(var t="",n=0,i=e.length;n<i;){var r=parseInt(e.substr(n+1,2),16);if(r<128)t+=String.fromCharCode(r),n+=3;else if(r>=194&&r<224){if(i-n>=6){var o=parseInt(e.substr(n+4,2),16);t+=String.fromCharCode((31&r)<<6|63&o)}else t+=e.substr(n,6);n+=6}else if(r>=224){if(i-n>=9){var s=parseInt(e.substr(n+4,2),16),a=parseInt(e.substr(n+7,2),16);t+=String.fromCharCode((15&r)<<12|(63&s)<<6|63&a)}else t+=e.substr(n,9);n+=9}else t+=e.substr(n,3),n+=3}return t}function F(e,t){function n(e){var n=P(e);return n.match(t.UNRESERVED)?n:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,n).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,n).replace(t.NOT_USERINFO,V).replace(t.PCT_ENCODED,r)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,n).toLowerCase().replace(t.NOT_HOST,V).replace(t.PCT_ENCODED,r)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,n).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,V).replace(t.PCT_ENCODED,r)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,n).replace(t.NOT_QUERY,V).replace(t.PCT_ENCODED,r)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,n).replace(t.NOT_FRAGMENT,V).replace(t.PCT_ENCODED,r)),e}function K(e){return e.replace(/^0*(.*)/,"$1")||"0"}function j(e,t){var n=e.match(t.IPV4ADDRESS)||[],i=u(n,2)[1];return i?i.split(".").map(K).join("."):e}function D(e,t){var n=e.match(t.IPV6ADDRESS)||[],i=u(n,3),r=i[1],o=i[2];if(r){for(var s=r.toLowerCase().split("::").reverse(),a=u(s,2),c=a[0],l=a[1],h=l?l.split(":").map(K):[],d=c.split(":").map(K),g=t.IPV4ADDRESS.test(d[d.length-1]),f=g?7:8,p=d.length-f,m=Array(f),C=0;C<f;++C)m[C]=h[C]||d[p+C]||"";g&&(m[f-1]=j(m[f-1],t));var I=m.reduce((function(e,t,n){if(!t||"0"===t){var i=e[e.length-1];i&&i.index+i.length===n?i.length++:e.push({index:n,length:1})}return e}),[]).sort((function(e,t){return t.length-e.length}))[0],v=void 0;if(I&&I.length>1){var A=m.slice(0,I.index),y=m.slice(I.index+I.length);v=A.join(":")+"::"+y.join(":")}else v=m.join(":");return o&&(v+="%"+o),v}return e}var z=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,X=void 0==="".match(/(){0}/)[1];function J(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={},i=!1!==t.iri?l:c;"suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e);var r=e.match(z);if(r){X?(n.scheme=r[1],n.userinfo=r[3],n.host=r[4],n.port=parseInt(r[5],10),n.path=r[6]||"",n.query=r[7],n.fragment=r[8],isNaN(n.port)&&(n.port=r[5])):(n.scheme=r[1]||void 0,n.userinfo=-1!==e.indexOf("@")?r[3]:void 0,n.host=-1!==e.indexOf("//")?r[4]:void 0,n.port=parseInt(r[5],10),n.path=r[6]||"",n.query=-1!==e.indexOf("?")?r[7]:void 0,n.fragment=-1!==e.indexOf("#")?r[8]:void 0,isNaN(n.port)&&(n.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?r[4]:void 0)),n.host&&(n.host=D(j(n.host,i),i)),void 0!==n.scheme||void 0!==n.userinfo||void 0!==n.host||void 0!==n.port||n.path||void 0!==n.query?void 0===n.scheme?n.reference="relative":void 0===n.fragment?n.reference="absolute":n.reference="uri":n.reference="same-document",t.reference&&"suffix"!==t.reference&&t.reference!==n.reference&&(n.error=n.error||"URI is not a "+t.reference+" reference.");var o=Z[(t.scheme||n.scheme||"").toLowerCase()];if(t.unicodeSupport||o&&o.unicodeSupport)F(n,i);else{if(n.host&&(t.domainHost||o&&o.domainHost))try{n.host=H.toASCII(n.host.replace(i.PCT_ENCODED,P).toLowerCase())}catch(e){n.error=n.error||"Host's domain name can not be converted to ASCII via punycode: "+e}F(n,c)}o&&o.parse&&o.parse(n,t)}else n.error=n.error||"URI can not be parsed.";return n}function Y(e,t){var n=!1!==t.iri?l:c,i=[];return void 0!==e.userinfo&&(i.push(e.userinfo),i.push("@")),void 0!==e.host&&i.push(D(j(String(e.host),n),n).replace(n.IPV6ADDRESS,(function(e,t,n){return"["+t+(n?"%25"+n:"")+"]"}))),"number"!=typeof e.port&&"string"!=typeof e.port||(i.push(":"),i.push(String(e.port))),i.length?i.join(""):void 0}var U=/^\.\.?\//,Q=/^\/\.(\/|$)/,q=/^\/\.\.(\/|$)/,ee=/^\/?(?:.|\n)*?(?=\/|$)/;function te(e){for(var t=[];e.length;)if(e.match(U))e=e.replace(U,"");else if(e.match(Q))e=e.replace(Q,"/");else if(e.match(q))e=e.replace(q,"/"),t.pop();else if("."===e||".."===e)e="";else{var n=e.match(ee);if(!n)throw new Error("Unexpected dot segment condition");var i=n[0];e=e.slice(i.length),t.push(i)}return t.join("")}function ne(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.iri?l:c,i=[],r=Z[(t.scheme||e.scheme||"").toLowerCase()];if(r&&r.serialize&&r.serialize(e,t),e.host)if(n.IPV6ADDRESS.test(e.host));else if(t.domainHost||r&&r.domainHost)try{e.host=t.iri?H.toUnicode(e.host):H.toASCII(e.host.replace(n.PCT_ENCODED,P).toLowerCase())}catch(n){e.error=e.error||"Host's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+n}F(e,n),"suffix"!==t.reference&&e.scheme&&(i.push(e.scheme),i.push(":"));var o=Y(e,t);if(void 0!==o&&("suffix"!==t.reference&&i.push("//"),i.push(o),e.path&&"/"!==e.path.charAt(0)&&i.push("/")),void 0!==e.path){var s=e.path;t.absolutePath||r&&r.absolutePath||(s=te(s)),void 0===o&&(s=s.replace(/^\/\//,"/%2F")),i.push(s)}return void 0!==e.query&&(i.push("?"),i.push(e.query)),void 0!==e.fragment&&(i.push("#"),i.push(e.fragment)),i.join("")}function ie(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={};return arguments[3]||(e=J(ne(e,n),n),t=J(ne(t,n),n)),!(n=n||{}).tolerant&&t.scheme?(i.scheme=t.scheme,i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=te(t.path||""),i.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=te(t.path||""),i.query=t.query):(t.path?("/"===t.path.charAt(0)?i.path=te(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?i.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:i.path=t.path:i.path="/"+t.path,i.path=te(i.path)),i.query=t.query):(i.path=e.path,void 0!==t.query?i.query=t.query:i.query=e.query),i.userinfo=e.userinfo,i.host=e.host,i.port=e.port),i.scheme=e.scheme),i.fragment=t.fragment,i}function re(e,t,n){var i=s({scheme:"null"},n);return ne(ie(J(e,i),J(t,i),i,!0),i)}function oe(e,t){return"string"==typeof e?e=ne(J(e,t),t):"object"===i(e)&&(e=J(ne(e,t),t)),e}function se(e,t,n){return"string"==typeof e?e=ne(J(e,n),n):"object"===i(e)&&(e=ne(e,n)),"string"==typeof t?t=ne(J(t,n),n):"object"===i(t)&&(t=ne(t,n)),e===t}function ae(e,t){return e&&e.toString().replace(t&&t.iri?l.ESCAPE:c.ESCAPE,V)}function ce(e,t){return e&&e.toString().replace(t&&t.iri?l.PCT_ENCODED:c.PCT_ENCODED,P)}var le={scheme:"http",domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,t){var n="https"===String(e.scheme).toLowerCase();return e.port!==(n?443:80)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},ue={scheme:"https",domainHost:le.domainHost,parse:le.parse,serialize:le.serialize};function he(e){return"boolean"==typeof e.secure?e.secure:"wss"===String(e.scheme).toLowerCase()}var de={scheme:"ws",domainHost:!0,parse:function(e,t){var n=e;return n.secure=he(n),n.resourceName=(n.path||"/")+(n.query?"?"+n.query:""),n.path=void 0,n.query=void 0,n},serialize:function(e,t){if(e.port!==(he(e)?443:80)&&""!==e.port||(e.port=void 0),"boolean"==typeof e.secure&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){var n=e.resourceName.split("?"),i=u(n,2),r=i[0],o=i[1];e.path=r&&"/"!==r?r:void 0,e.query=o,e.resourceName=void 0}return e.fragment=void 0,e}},ge={scheme:"wss",domainHost:de.domainHost,parse:de.parse,serialize:de.serialize},fe={},pe="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",me="[0-9A-Fa-f]",Ce=n(n("%[EFef]"+me+"%"+me+me+"%"+me+me)+"|"+n("%[89A-Fa-f]"+me+"%"+me+me)+"|"+n("%"+me+me)),Ie="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",ve=t("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),Ae="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",ye=new RegExp(pe,"g"),be=new RegExp(Ce,"g"),we=new RegExp(t("[^]",Ie,"[\\.]",'[\\"]',ve),"g"),$e=new RegExp(t("[^]",pe,Ae),"g"),Se=$e;function xe(e){var t=P(e);return t.match(ye)?t:e}var ke={scheme:"mailto",parse:function(e,t){var n=e,i=n.to=n.path?n.path.split(","):[];if(n.path=void 0,n.query){for(var r=!1,o={},s=n.query.split("&"),a=0,c=s.length;a<c;++a){var l=s[a].split("=");switch(l[0]){case"to":for(var u=l[1].split(","),h=0,d=u.length;h<d;++h)i.push(u[h]);break;case"subject":n.subject=ce(l[1],t);break;case"body":n.body=ce(l[1],t);break;default:r=!0,o[ce(l[0],t)]=ce(l[1],t)}}r&&(n.headers=o)}n.query=void 0;for(var g=0,f=i.length;g<f;++g){var p=i[g].split("@");if(p[0]=ce(p[0]),t.unicodeSupport)p[1]=ce(p[1],t).toLowerCase();else try{p[1]=H.toASCII(ce(p[1],t).toLowerCase())}catch(e){n.error=n.error||"Email address's domain name can not be converted to ASCII via punycode: "+e}i[g]=p.join("@")}return n},serialize:function(e,t){var n=e,i=o(e.to);if(i){for(var s=0,a=i.length;s<a;++s){var c=String(i[s]),l=c.lastIndexOf("@"),u=c.slice(0,l).replace(be,xe).replace(be,r).replace(we,V),h=c.slice(l+1);try{h=t.iri?H.toUnicode(h):H.toASCII(ce(h,t).toLowerCase())}catch(e){n.error=n.error||"Email address's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+e}i[s]=u+"@"+h}n.path=i.join(",")}var d=e.headers=e.headers||{};e.subject&&(d.subject=e.subject),e.body&&(d.body=e.body);var g=[];for(var f in d)d[f]!==fe[f]&&g.push(f.replace(be,xe).replace(be,r).replace($e,V)+"="+d[f].replace(be,xe).replace(be,r).replace(Se,V));return g.length&&(n.query=g.join("&")),n}},Re=/^([^\:]+)\:(.*)/,_e={scheme:"urn",parse:function(e,t){var n=e.path&&e.path.match(Re),i=e;if(n){var r=t.scheme||i.scheme||"urn",o=n[1].toLowerCase(),s=n[2],a=r+":"+(t.nid||o),c=Z[a];i.nid=o,i.nss=s,i.path=void 0,c&&(i=c.parse(i,t))}else i.error=i.error||"URN can not be parsed.";return i},serialize:function(e,t){var n=t.scheme||e.scheme||"urn",i=e.nid,r=n+":"+(t.nid||i),o=Z[r];o&&(e=o.serialize(e,t));var s=e,a=e.nss;return s.path=(i||t.nid)+":"+a,s}},Be=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Ee={scheme:"urn:uuid",parse:function(e,t){var n=e;return n.uuid=n.nss,n.nss=void 0,t.tolerant||n.uuid&&n.uuid.match(Be)||(n.error=n.error||"UUID is not valid."),n},serialize:function(e,t){var n=e;return n.nss=(e.uuid||"").toLowerCase(),n}};Z[le.scheme]=le,Z[ue.scheme]=ue,Z[de.scheme]=de,Z[ge.scheme]=ge,Z[ke.scheme]=ke,Z[_e.scheme]=_e,Z[Ee.scheme]=Ee,e.SCHEMES=Z,e.pctEncChar=V,e.pctDecChars=P,e.parse=J,e.removeDotSegments=te,e.serialize=ne,e.resolveComponents=ie,e.resolve=re,e.normalize=oe,e.equal=se,e.escapeComponent=ae,e.unescapeComponent=ce,Object.defineProperty(e,"__esModule",{value:!0})}(t)})),nx=He((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getSchemaRefs=t.resolveUrl=t.normalizeId=t._getFullPath=t.getFullPath=t.inlineRef=void 0;const n=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);t.inlineRef=function(e,t=!0){return"boolean"==typeof e||(!0===t?!r(e):!!t&&o(e)<=t)};const i=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function r(e){for(const t in e){if(i.has(t))return!0;const n=e[t];if(Array.isArray(n)&&n.some(r))return!0;if("object"==typeof n&&r(n))return!0}return!1}function o(e){let t=0;for(const i in e){if("$ref"===i)return 1/0;if(t++,!n.has(i)&&("object"==typeof e[i]&&VS.eachItem(e[i],(e=>t+=o(e))),t===1/0))return 1/0}return t}function s(e="",t){!1!==t&&(e=l(e));return a(tx.parse(e))}function a(e){return tx.serialize(e).split("#")[0]+"#"}t.getFullPath=s,t._getFullPath=a;const c=/#\/?$/;function l(e){return e?e.replace(c,""):""}t.normalizeId=l,t.resolveUrl=function(e,t){return t=l(t),tx.resolve(e,t)};const u=/^[a-z_][-a-z0-9._]*$/i;t.getSchemaRefs=function(e){if("boolean"==typeof e)return{};const{schemaId:t}=this.opts,n=l(e[t]),i={"":n},r=s(n,!1),o={},a=new Set;return ex(e,{allKeys:!0},((e,n,s,d)=>{if(void 0===d)return;const g=r+n;let f=i[d];function p(t){if(t=l(f?tx.resolve(f,t):t),a.has(t))throw h(t);a.add(t);let n=this.refs[t];return"string"==typeof n&&(n=this.refs[n]),"object"==typeof n?c(e,n.schema,t):t!==l(g)&&("#"===t[0]?(c(e,o[t],t),o[t]=e):this.refs[t]=g),t}function m(e){if("string"==typeof e){if(!u.test(e))throw new Error(`invalid anchor "${e}"`);p.call(this,`#${e}`)}}"string"==typeof e[t]&&(f=p.call(this,e[t])),m.call(this,e.$anchor),m.call(this,e.$dynamicAnchor),i[n]=f})),o;function c(e,t,n){if(void 0!==t&&!qS(e,t))throw h(n)}function h(e){return new Error(`reference "${e}" resolves to more than one schema`)}}})),ix=He((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getData=t.KeywordCxt=t.validateFunctionCode=void 0;const n=XS;function i({gen:e,validateName:t,schema:n,schemaEnv:i,opts:o},s){o.code.es5?e.func(t,ZS._`${FS.default.data}, ${FS.default.valCxt}`,i.$async,(()=>{e.code(ZS._`"use strict"; ${r(n,o)}`),function(e,t){e.if(FS.default.valCxt,(()=>{e.var(FS.default.instancePath,ZS._`${FS.default.valCxt}.${FS.default.instancePath}`),e.var(FS.default.parentData,ZS._`${FS.default.valCxt}.${FS.default.parentData}`),e.var(FS.default.parentDataProperty,ZS._`${FS.default.valCxt}.${FS.default.parentDataProperty}`),e.var(FS.default.rootData,ZS._`${FS.default.valCxt}.${FS.default.rootData}`),t.dynamicRef&&e.var(FS.default.dynamicAnchors,ZS._`${FS.default.valCxt}.${FS.default.dynamicAnchors}`)}),(()=>{e.var(FS.default.instancePath,ZS._`""`),e.var(FS.default.parentData,ZS._`undefined`),e.var(FS.default.parentDataProperty,ZS._`undefined`),e.var(FS.default.rootData,FS.default.data),t.dynamicRef&&e.var(FS.default.dynamicAnchors,ZS._`{}`)}))}(e,o),e.code(s)})):e.func(t,ZS._`${FS.default.data}, ${function(e){return ZS._`{${FS.default.instancePath}="", ${FS.default.parentData}, ${FS.default.parentDataProperty}, ${FS.default.rootData}=${FS.default.data}${e.dynamicRef?ZS._`, ${FS.default.dynamicAnchors}={}`:ZS.nil}}={}`}(o)}`,i.$async,(()=>e.code(r(n,o)).code(s)))}function r(e,t){const n="object"==typeof e&&e[t.schemaId];return n&&(t.code.source||t.code.process)?ZS._`/*# sourceURL=${n} */`:ZS.nil}function o(e,t){a(e)&&(c(e),s(e))?function(e,t){const{schema:n,gen:i,opts:r}=e;r.$comment&&n.$comment&&u(e);(function(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=nx.resolveUrl(e.baseId,t))})(e),function(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}(e);const o=i.const("_errs",FS.default.errors);l(e,o),i.var(t,ZS._`${o} === ${FS.default.errors}`)}(e,t):jS.boolOrEmptySchema(e,t)}function s({schema:e,self:t}){if("boolean"==typeof e)return!e;for(const n in e)if(t.RULES.all[n])return!0;return!1}function a(e){return"boolean"!=typeof e.schema}function c(e){VS.checkUnknownRules(e),function(e){const{schema:t,errSchemaPath:n,opts:i,self:r}=e;t.$ref&&i.ignoreKeywordsWithRef&&VS.schemaHasRulesButRef(t,r.RULES)&&r.logger.warn(`$ref: keywords ignored in schema at path "${n}"`)}(e)}function l(e,t){if(e.opts.jtd)return h(e,[],!1,t);const n=XS.getSchemaTypes(e.schema);h(e,n,!XS.coerceAndCheckDataType(e,n),t)}function u({gen:e,schemaEnv:t,schema:n,errSchemaPath:i,opts:r}){const o=n.$comment;if(!0===r.$comment)e.code(ZS._`${FS.default.self}.logger.log(${o})`);else if("function"==typeof r.$comment){const n=ZS.str`${i}/$comment`,r=e.scopeValue("root",{ref:t.root});e.code(ZS._`${FS.default.self}.opts.$comment(${o}, ${n}, ${r}.schema)`)}}function h(e,t,i,r){const{gen:o,schema:s,data:a,allErrors:c,opts:l,self:u}=e,{RULES:h}=u;function m(u){zS.shouldUseGroup(s,u)&&(u.type?(o.if(n.checkDataType(u.type,a,l.strictNumbers)),d(e,u),1===t.length&&t[0]===u.type&&i&&(o.else(),n.reportTypeError(e)),o.endIf()):d(e,u),c||o.if(ZS._`${FS.default.errors} === ${r||0}`))}!s.$ref||!l.ignoreKeywordsWithRef&&VS.schemaHasRulesButRef(s,h)?(l.jtd||function(e,t){if(e.schemaEnv.meta||!e.opts.strictTypes)return;(function(e,t){if(!t.length)return;if(!e.dataTypes.length)return void(e.dataTypes=t);t.forEach((t=>{f(e.dataTypes,t)||p(e,`type "${t}" not allowed by context "${e.dataTypes.join(",")}"`)})),e.dataTypes=e.dataTypes.filter((e=>f(t,e)))})(e,t),e.opts.allowUnionTypes||function(e,t){t.length>1&&(2!==t.length||!t.includes("null"))&&p(e,"use allowUnionTypes to allow union type keyword")}(e,t);!function(e,t){const n=e.self.RULES.all;for(const i in n){const r=n[i];if("object"==typeof r&&zS.shouldUseRule(e.schema,r)){const{type:n}=r.definition;n.length&&!n.some((e=>g(t,e)))&&p(e,`missing type "${n.join(",")}" for keyword "${i}"`)}}}(e,e.dataTypes)}(e,t),o.block((()=>{for(const e of h.rules)m(e);m(h.post)}))):o.block((()=>C(e,"$ref",h.all.$ref.definition)))}function d(e,t){const{gen:n,schema:i,opts:{useDefaults:r}}=e;r&&JS.assignDefaults(e,t.type),n.block((()=>{for(const n of t.rules)zS.shouldUseRule(i,n)&&C(e,n.keyword,n.definition,t.type)}))}function g(e,t){return e.includes(t)||"number"===t&&e.includes("integer")}function f(e,t){return e.includes(t)||"integer"===t&&e.includes("number")}function p(e,t){t+=` at "${e.schemaEnv.baseId+e.errSchemaPath}" (strictTypes)`,VS.checkStrictMode(e,t,e.opts.strictTypes)}t.validateFunctionCode=function(e){a(e)&&(c(e),s(e))?function(e){const{schema:t,opts:n,gen:r}=e;i(e,(()=>{n.$comment&&t.$comment&&u(e),function(e){const{schema:t,opts:n}=e;void 0!==t.default&&n.useDefaults&&n.strictSchema&&VS.checkStrictMode(e,"default is ignored in the schema root")}(e),r.let(FS.default.vErrors,null),r.let(FS.default.errors,0),n.unevaluated&&function(e){const{gen:t,validateName:n}=e;e.evaluated=t.const("evaluated",ZS._`${n}.evaluated`),t.if(ZS._`${e.evaluated}.dynamicProps`,(()=>t.assign(ZS._`${e.evaluated}.props`,ZS._`undefined`))),t.if(ZS._`${e.evaluated}.dynamicItems`,(()=>t.assign(ZS._`${e.evaluated}.items`,ZS._`undefined`)))}(e),l(e),function(e){const{gen:t,schemaEnv:n,validateName:i,ValidationError:r,opts:o}=e;n.$async?t.if(ZS._`${FS.default.errors} === 0`,(()=>t.return(FS.default.data)),(()=>t.throw(ZS._`new ${r}(${FS.default.vErrors})`))):(t.assign(ZS._`${i}.errors`,FS.default.vErrors),o.unevaluated&&function({gen:e,evaluated:t,props:n,items:i}){n instanceof ZS.Name&&e.assign(ZS._`${t}.props`,n);i instanceof ZS.Name&&e.assign(ZS._`${t}.items`,i)}(e),t.return(ZS._`${FS.default.errors} === 0`))}(e)}))}(e):i(e,(()=>jS.topBoolOrEmptySchema(e)))};class m{constructor(e,t,n){if(US.validateKeywordUsage(e,t,n),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=n,this.data=e.data,this.schema=e.schema[n],this.$data=t.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=VS.schemaRefOrVal(e,this.schema,n,this.$data),this.schemaType=t.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=t,this.$data)this.schemaCode=e.gen.const("vSchema",A(this.$data,e));else if(this.schemaCode=this.schemaValue,!US.validSchemaType(this.schema,t.schemaType,t.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(t.schemaType)}`);("code"in t?t.trackErrors:!1!==t.errors)&&(this.errsCount=e.gen.const("_errs",FS.default.errors))}result(e,t,n){this.gen.if(ZS.not(e)),n?n():this.error(),t?(this.gen.else(),t(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,t){this.result(e,void 0,t)}fail(e){if(void 0===e)return this.error(),void(this.allErrors||this.gen.if(!1));this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);const{schemaCode:t}=this;this.fail(ZS._`${t} !== undefined && (${ZS.or(this.invalid$data(),e)})`)}error(e,t,n){if(t)return this.setParams(t),this._error(e,n),void this.setParams({});this._error(e,n)}_error(e,t){(e?KS.reportExtraError:KS.reportError)(this,this.def.error,t)}$dataError(){KS.reportError(this,this.def.$dataError||KS.keyword$DataError)}reset(){if(void 0===this.errsCount)throw new Error('add "trackErrors" to keyword definition');KS.resetErrorsCount(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,t){t?Object.assign(this.params,e):this.params=e}block$data(e,t,n=ZS.nil){this.gen.block((()=>{this.check$data(e,n),t()}))}check$data(e=ZS.nil,t=ZS.nil){if(!this.$data)return;const{gen:n,schemaCode:i,schemaType:r,def:o}=this;n.if(ZS.or(ZS._`${i} === undefined`,t)),e!==ZS.nil&&n.assign(e,!0),(r.length||o.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),e!==ZS.nil&&n.assign(e,!1)),n.else()}invalid$data(){const{gen:e,schemaCode:t,schemaType:i,def:r,it:o}=this;return ZS.or(function(){if(i.length){if(!(t instanceof ZS.Name))throw new Error("ajv implementation error");const e=Array.isArray(i)?i:[i];return ZS._`${n.checkDataTypes(e,t,o.opts.strictNumbers,n.DataType.Wrong)}`}return ZS.nil}(),function(){if(r.validateSchema){const n=e.scopeValue("validate$data",{ref:r.validateSchema});return ZS._`!${n}(${t})`}return ZS.nil}())}subschema(e,t){const n=QS.getSubschema(this.it,e);QS.extendSubschemaData(n,this.it,e),QS.extendSubschemaMode(n,e);const i={...this.it,...n,items:void 0,props:void 0};return o(i,t),i}mergeEvaluated(e,t){const{it:n,gen:i}=this;n.opts.unevaluated&&(!0!==n.props&&void 0!==e.props&&(n.props=VS.mergeEvaluated.props(i,e.props,n.props,t)),!0!==n.items&&void 0!==e.items&&(n.items=VS.mergeEvaluated.items(i,e.items,n.items,t)))}mergeValidEvaluated(e,t){const{it:n,gen:i}=this;if(n.opts.unevaluated&&(!0!==n.props||!0!==n.items))return i.if(t,(()=>this.mergeEvaluated(e,ZS.Name))),!0}}function C(e,t,n,i){const r=new m(e,n,t);"code"in n?n.code(r,i):r.$data&&n.validate?US.funcKeywordCode(r,n):"macro"in n?US.macroKeywordCode(r,n):(n.compile||n.validate)&&US.funcKeywordCode(r,n)}t.KeywordCxt=m;const I=/^\/(?:[^~]|~0|~1)*$/,v=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function A(e,{dataLevel:t,dataNames:n,dataPathArr:i}){let r,o;if(""===e)return FS.default.rootData;if("/"===e[0]){if(!I.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);r=e,o=FS.default.rootData}else{const s=v.exec(e);if(!s)throw new Error(`Invalid JSON-pointer: ${e}`);const a=+s[1];if(r=s[2],"#"===r){if(a>=t)throw new Error(c("property/index",a));return i[t-a]}if(a>t)throw new Error(c("data",a));if(o=n[t-a],!r)return o}let s=o;const a=r.split("/");for(const e of a)e&&(o=ZS._`${o}${ZS.getProperty(VS.unescapeJsonPointer(e))}`,s=ZS._`${s} && ${o}`);return s;function c(e,n){return`Cannot access ${e} ${n} levels up, current level is ${t}`}}t.getData=A}));class rx extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}}var ox=rx,sx=Object.defineProperty({default:ox},"__esModule",{value:!0});class ax extends Error{constructor(e,t,n){super(n||`can't resolve reference ${t} from id ${e}`),this.missingRef=nx.resolveUrl(e,t),this.missingSchema=nx.normalizeId(nx.getFullPath(this.missingRef))}}var cx=ax,lx=Object.defineProperty({default:cx},"__esModule",{value:!0}),ux=He((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.resolveSchema=t.getCompilingSchema=t.resolveRef=t.compileSchema=t.SchemaEnv=void 0;class n{constructor(e){var t;let n;this.refs={},this.dynamicAnchors={},"object"==typeof e.schema&&(n=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=null!==(t=e.baseId)&&void 0!==t?t:nx.normalizeId(null==n?void 0:n[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=null==n?void 0:n.$async,this.refs={}}}function i(e){const t=o.call(this,e);if(t)return t;const n=nx.getFullPath(e.root.baseId),{es5:i,lines:r}=this.opts.code,{ownProperties:s}=this.opts,a=new ZS.CodeGen(this.scope,{es5:i,lines:r,ownProperties:s});let c;e.$async&&(c=a.scopeValue("Error",{ref:sx.default,code:ZS._`require("ajv/dist/runtime/validation_error").default`}));const l=a.scopeName("validate");e.validateName=l;const u={gen:a,allErrors:this.opts.allErrors,data:FS.default.data,parentData:FS.default.parentData,parentDataProperty:FS.default.parentDataProperty,dataNames:[FS.default.data],dataPathArr:[ZS.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:a.scopeValue("schema",!0===this.opts.code.source?{ref:e.schema,code:ZS.stringify(e.schema)}:{ref:e.schema}),validateName:l,ValidationError:c,schema:e.schema,schemaEnv:e,rootId:n,baseId:e.baseId||n,schemaPath:ZS.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:ZS._`""`,opts:this.opts,self:this};let h;try{this._compilations.add(e),ix.validateFunctionCode(u),a.optimize(this.opts.code.optimize);const t=a.toString();h=`${a.scopeRefs(FS.default.scope)}return ${t}`,this.opts.code.process&&(h=this.opts.code.process(h,e));const n=new Function(`${FS.default.self}`,`${FS.default.scope}`,h)(this,this.scope.get());if(this.scope.value(l,{ref:n}),n.errors=null,n.schema=e.schema,n.schemaEnv=e,e.$async&&(n.$async=!0),!0===this.opts.code.source&&(n.source={validateName:l,validateCode:t,scopeValues:a._values}),this.opts.unevaluated){const{props:e,items:t}=u;n.evaluated={props:e instanceof ZS.Name?void 0:e,items:t instanceof ZS.Name?void 0:t,dynamicProps:e instanceof ZS.Name,dynamicItems:t instanceof ZS.Name},n.source&&(n.source.evaluated=ZS.stringify(n.evaluated))}return e.validate=n,e}catch(t){throw delete e.validate,delete e.validateName,h&&this.logger.error("Error compiling schema, function code:",h),t}finally{this._compilations.delete(e)}}function r(e){return nx.inlineRef(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:i.call(this,e)}function o(e){for(const i of this._compilations)if(n=e,(t=i).schema===n.schema&&t.root===n.root&&t.baseId===n.baseId)return i;var t,n}function s(e,t){let n;for(;"string"==typeof(n=this.refs[t]);)t=n;return n||this.schemas[t]||a.call(this,e,t)}function a(e,t){const r=tx.parse(t),o=nx._getFullPath(r);let s=nx.getFullPath(e.baseId);if(Object.keys(e.schema).length>0&&o===s)return l.call(this,r,e);const c=nx.normalizeId(o),u=this.refs[c]||this.schemas[c];if("string"==typeof u){const t=a.call(this,e,u);if("object"!=typeof(null==t?void 0:t.schema))return;return l.call(this,r,t)}if("object"==typeof(null==u?void 0:u.schema)){if(u.validate||i.call(this,u),c===nx.normalizeId(t)){const{schema:t}=u,{schemaId:i}=this.opts,r=t[i];return r&&(s=nx.resolveUrl(s,r)),new n({schema:t,schemaId:i,root:e,baseId:s})}return l.call(this,r,u)}}t.SchemaEnv=n,t.compileSchema=i,t.resolveRef=function(e,t,i){var o;i=nx.resolveUrl(t,i);const a=e.refs[i];if(a)return a;let c=s.call(this,e,i);if(void 0===c){const r=null===(o=e.localRefs)||void 0===o?void 0:o[i],{schemaId:s}=this.opts;r&&(c=new n({schema:r,schemaId:s,root:e,baseId:t}))}return void 0!==c?e.refs[i]=r.call(this,c):void 0},t.getCompilingSchema=o,t.resolveSchema=a;const c=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function l(e,{baseId:t,schema:i,root:r}){var o;if("/"!==(null===(o=e.fragment)||void 0===o?void 0:o[0]))return;for(const n of e.fragment.slice(1).split("/")){if("boolean"==typeof i)return;if(void 0===(i=i[VS.unescapeFragment(n)]))return;const e="object"==typeof i&&i[this.opts.schemaId];!c.has(n)&&e&&(t=nx.resolveUrl(t,e))}let s;if("boolean"!=typeof i&&i.$ref&&!VS.schemaHasRulesButRef(i,this.RULES)){const e=nx.resolveUrl(t,i.$ref);s=a.call(this,r,e)}const{schemaId:l}=this.opts;return s=s||new n({schema:i,schemaId:l,root:r,baseId:t}),s.schema!==s.root.schema?s:void 0}})),hx={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1},dx=He((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0,Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return ix.KeywordCxt}}),Object.defineProperty(t,"_",{enumerable:!0,get:function(){return ZS._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return ZS.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return ZS.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return ZS.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return ZS.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return ZS.CodeGen}});const n=ZS,i=["removeAdditional","useDefaults","coerceTypes"],r=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),o={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},s={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'};function a(e){var t,n,i,r,o,s,a,c,l,u,h,d,g,f,p,m,C,I,v,A,y;const b=e.strict,w=null===(t=e.code)||void 0===t?void 0:t.optimize,$=!0===w||void 0===w?1:w||0;return{strictSchema:null===(i=null!==(n=e.strictSchema)&&void 0!==n?n:b)||void 0===i||i,strictNumbers:null===(o=null!==(r=e.strictNumbers)&&void 0!==r?r:b)||void 0===o||o,strictTypes:null!==(a=null!==(s=e.strictTypes)&&void 0!==s?s:b)&&void 0!==a?a:"log",strictTuples:null!==(l=null!==(c=e.strictTuples)&&void 0!==c?c:b)&&void 0!==l?l:"log",strictRequired:null!==(h=null!==(u=e.strictRequired)&&void 0!==u?u:b)&&void 0!==h&&h,code:e.code?{...e.code,optimize:$}:{optimize:$},loopRequired:null!==(d=e.loopRequired)&&void 0!==d?d:200,loopEnum:null!==(g=e.loopEnum)&&void 0!==g?g:200,meta:null===(f=e.meta)||void 0===f||f,messages:null===(p=e.messages)||void 0===p||p,inlineRefs:null===(m=e.inlineRefs)||void 0===m||m,schemaId:null!==(C=e.schemaId)&&void 0!==C?C:"$id",addUsedSchema:null===(I=e.addUsedSchema)||void 0===I||I,validateSchema:null===(v=e.validateSchema)||void 0===v||v,validateFormats:null===(A=e.validateFormats)||void 0===A||A,unicodeRegExp:null===(y=e.unicodeRegExp)||void 0===y||y}}class c{constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts={...e,...a(e)};const{es5:t,lines:i}=this.opts.code;this.scope=new n.ValueScope({scope:{},prefixes:r,es5:t,lines:i}),this.logger=function(e){if(!1===e)return p;if(void 0===e)return console;if(e.log&&e.warn&&e.error)return e;throw new Error("logger must implement log, warn and error methods")}(e.logger);const c=e.validateFormats;e.validateFormats=!1,this.RULES=DS.getRules(),l.call(this,o,e,"NOT SUPPORTED"),l.call(this,s,e,"DEPRECATED","warn"),this._metaOpts=f.call(this),e.formats&&d.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&g.call(this,e.keywords),"object"==typeof e.meta&&this.addMetaSchema(e.meta),h.call(this),e.validateFormats=c}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:e,meta:t,schemaId:n}=this.opts;let i=hx;"id"===n&&(i={...hx},i.id=i.$id,delete i.$id),t&&e&&this.addMetaSchema(i,i[n],!1)}defaultMeta(){const{meta:e,schemaId:t}=this.opts;return this.opts.defaultMeta="object"==typeof e?e[t]||e:void 0}validate(e,t){let n;if("string"==typeof e){if(n=this.getSchema(e),!n)throw new Error(`no schema with key or ref "${e}"`)}else n=this.compile(e);const i=n(t);return"$async"in n||(this.errors=n.errors),i}compile(e,t){const n=this._addSchema(e,t);return n.validate||this._compileSchemaEnv(n)}compileAsync(e,t){if("function"!=typeof this.opts.loadSchema)throw new Error("options.loadSchema should be a function");const{loadSchema:n}=this.opts;return i.call(this,e,t);async function i(e,t){await r.call(this,e.$schema);const n=this._addSchema(e,t);return n.validate||o.call(this,n)}async function r(e){e&&!this.getSchema(e)&&await i.call(this,{$ref:e},!0)}async function o(e){try{return this._compileSchemaEnv(e)}catch(t){if(!(t instanceof lx.default))throw t;return s.call(this,t),await a.call(this,t.missingSchema),o.call(this,e)}}function s({missingSchema:e,missingRef:t}){if(this.refs[e])throw new Error(`AnySchema ${e} is loaded but ${t} cannot be resolved`)}async function a(e){const n=await c.call(this,e);this.refs[e]||await r.call(this,n.$schema),this.refs[e]||this.addSchema(n,e,t)}async function c(e){const t=this._loading[e];if(t)return t;try{return await(this._loading[e]=n(e))}finally{delete this._loading[e]}}}addSchema(e,t,n,i=this.opts.validateSchema){if(Array.isArray(e)){for(const t of e)this.addSchema(t,void 0,n,i);return this}let r;if("object"==typeof e){const{schemaId:t}=this.opts;if(r=e[t],void 0!==r&&"string"!=typeof r)throw new Error(`schema ${t} must be string`)}return t=nx.normalizeId(t||r),this._checkUnique(t),this.schemas[t]=this._addSchema(e,n,t,i,!0),this}addMetaSchema(e,t,n=this.opts.validateSchema){return this.addSchema(e,t,!0,n),this}validateSchema(e,t){if("boolean"==typeof e)return!0;let n;if(n=e.$schema,void 0!==n&&"string"!=typeof n)throw new Error("$schema must be a string");if(n=n||this.opts.defaultMeta||this.defaultMeta(),!n)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const i=this.validate(n,e);if(!i&&t){const e="schema is invalid: "+this.errorsText();if("log"!==this.opts.validateSchema)throw new Error(e);this.logger.error(e)}return i}getSchema(e){let t;for(;"string"==typeof(t=u.call(this,e));)e=t;if(void 0===t){const{schemaId:n}=this.opts,i=new ux.SchemaEnv({schema:{},schemaId:n});if(t=ux.resolveSchema.call(this,i,e),!t)return;this.refs[e]=t}return t.validate||this._compileSchemaEnv(t)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const t=u.call(this,e);return"object"==typeof t&&this._cache.delete(t.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{const t=e;this._cache.delete(t);let n=e[this.opts.schemaId];return n&&(n=nx.normalizeId(n),delete this.schemas[n],delete this.refs[n]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(const t of e)this.addKeyword(t);return this}addKeyword(e,t){let n;if("string"==typeof e)n=e,"object"==typeof t&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),t.keyword=n);else{if("object"!=typeof e||void 0!==t)throw new Error("invalid addKeywords parameters");if(n=(t=e).keyword,Array.isArray(n)&&!n.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if(C.call(this,n,t),!t)return VS.eachItem(n,(e=>I.call(this,e))),this;A.call(this,t);const i={...t,type:XS.getJSONTypes(t.type),schemaType:XS.getJSONTypes(t.schemaType)};return VS.eachItem(n,0===i.type.length?e=>I.call(this,e,i):e=>i.type.forEach((t=>I.call(this,e,i,t)))),this}getKeyword(e){const t=this.RULES.all[e];return"object"==typeof t?t.definition:!!t}removeKeyword(e){const{RULES:t}=this;delete t.keywords[e],delete t.all[e];for(const n of t.rules){const t=n.rules.findIndex((t=>t.keyword===e));t>=0&&n.rules.splice(t,1)}return this}addFormat(e,t){return"string"==typeof t&&(t=new RegExp(t)),this.formats[e]=t,this}errorsText(e=this.errors,{separator:t=", ",dataVar:n="data"}={}){return e&&0!==e.length?e.map((e=>`${n}${e.instancePath} ${e.message}`)).reduce(((e,n)=>e+t+n)):"No errors"}$dataMetaSchema(e,t){const n=this.RULES.all;e=JSON.parse(JSON.stringify(e));for(const i of t){const t=i.split("/").slice(1);let r=e;for(const e of t)r=r[e];for(const e in n){const t=n[e];if("object"!=typeof t)continue;const{$data:i}=t.definition,o=r[e];i&&o&&(r[e]=b(o))}}return e}_removeAllSchemas(e,t){for(const n in e){const i=e[n];t&&!t.test(n)||("string"==typeof i?delete e[n]:i&&!i.meta&&(this._cache.delete(i.schema),delete e[n]))}}_addSchema(e,t,n,i=this.opts.validateSchema,r=this.opts.addUsedSchema){let o;const{schemaId:s}=this.opts;if("object"==typeof e)o=e[s];else{if(this.opts.jtd)throw new Error("schema must be object");if("boolean"!=typeof e)throw new Error("schema must be object or boolean")}let a=this._cache.get(e);if(void 0!==a)return a;const c=nx.getSchemaRefs.call(this,e);return n=nx.normalizeId(o||n),a=new ux.SchemaEnv({schema:e,schemaId:s,meta:t,baseId:n,localRefs:c}),this._cache.set(a.schema,a),r&&!n.startsWith("#")&&(n&&this._checkUnique(n),this.refs[n]=a),i&&this.validateSchema(e,!0),a}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw new Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):ux.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}_compileMetaSchema(e){const t=this.opts;this.opts=this._metaOpts;try{ux.compileSchema.call(this,e)}finally{this.opts=t}}}function l(e,t,n,i="error"){for(const r in e){const o=r;o in t&&this.logger[i](`${n}: option ${r}. ${e[o]}`)}}function u(e){return e=nx.normalizeId(e),this.schemas[e]||this.refs[e]}function h(){const e=this.opts.schemas;if(e)if(Array.isArray(e))this.addSchema(e);else for(const t in e)this.addSchema(e[t],t)}function d(){for(const e in this.opts.formats){const t=this.opts.formats[e];t&&this.addFormat(e,t)}}function g(e){if(Array.isArray(e))this.addVocabulary(e);else{this.logger.warn("keywords option as map is deprecated, pass array");for(const t in e){const n=e[t];n.keyword||(n.keyword=t),this.addKeyword(n)}}}function f(){const e={...this.opts};for(const t of i)delete e[t];return e}t.default=c,c.ValidationError=sx.default,c.MissingRefError=lx.default;const p={log(){},warn(){},error(){}};const m=/^[a-z_$][a-z0-9_$:-]*$/i;function C(e,t){const{RULES:n}=this;if(VS.eachItem(e,(e=>{if(n.keywords[e])throw new Error(`Keyword ${e} is already defined`);if(!m.test(e))throw new Error(`Keyword ${e} has invalid name`)})),t&&t.$data&&!("code"in t)&&!("validate"in t))throw new Error('$data keyword must have "code" or "validate" function')}function I(e,t,n){var i;const r=null==t?void 0:t.post;if(n&&r)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:o}=this;let s=r?o.post:o.rules.find((({type:e})=>e===n));if(s||(s={type:n,rules:[]},o.rules.push(s)),o.keywords[e]=!0,!t)return;const a={keyword:e,definition:{...t,type:XS.getJSONTypes(t.type),schemaType:XS.getJSONTypes(t.schemaType)}};t.before?v.call(this,s,a,t.before):s.rules.push(a),o.all[e]=a,null===(i=t.implements)||void 0===i||i.forEach((e=>this.addKeyword(e)))}function v(e,t,n){const i=e.rules.findIndex((e=>e.keyword===n));i>=0?e.rules.splice(i,0,t):(e.rules.push(t),this.logger.warn(`rule ${n} is not defined`))}function A(e){let{metaSchema:t}=e;void 0!==t&&(e.$data&&this.opts.$data&&(t=b(t)),e.validateSchema=this.compile(t,!0))}const y={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function b(e){return{anyOf:[e,y]}}}));var gx={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}},fx=Object.defineProperty({default:gx},"__esModule",{value:!0}),px=He((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.callRef=t.getValidate=void 0;const n={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:n,it:o}=e,{baseId:s,schemaEnv:a,validateName:c,opts:l,self:u}=o,{root:h}=a;if(("#"===n||"#/"===n)&&s===h.baseId)return function(){if(a===h)return r(e,c,a,a.$async);const n=t.scopeValue("root",{ref:h});return r(e,ZS._`${n}.validate`,h,h.$async)}();const d=ux.resolveRef.call(u,h,s,n);if(void 0===d)throw new lx.default(s,n);return d instanceof ux.SchemaEnv?function(t){const n=i(e,t);r(e,n,t,t.$async)}(d):function(i){const r=t.scopeValue("schema",!0===l.code.source?{ref:i,code:ZS.stringify(i)}:{ref:i}),o=t.name("valid"),s=e.subschema({schema:i,dataTypes:[],schemaPath:ZS.nil,topSchemaRef:r,errSchemaPath:n},o);e.mergeEvaluated(s),e.ok(o)}(d)}};function i(e,t){const{gen:n}=e;return t.validate?n.scopeValue("validate",{ref:t.validate}):ZS._`${n.scopeValue("wrapper",{ref:t})}.validate`}function r(e,t,n,i){const{gen:r,it:o}=e,{allErrors:s,schemaEnv:a,opts:c}=o,l=c.passContext?FS.default.this:ZS.nil;function u(e){const t=ZS._`${e}.errors`;r.assign(FS.default.vErrors,ZS._`${FS.default.vErrors} === null ? ${t} : ${FS.default.vErrors}.concat(${t})`),r.assign(FS.default.errors,ZS._`${FS.default.vErrors}.length`)}function h(e){var t;if(!o.opts.unevaluated)return;const i=null===(t=null==n?void 0:n.validate)||void 0===t?void 0:t.evaluated;if(!0!==o.props)if(i&&!i.dynamicProps)void 0!==i.props&&(o.props=VS.mergeEvaluated.props(r,i.props,o.props));else{const t=r.var("props",ZS._`${e}.evaluated.props`);o.props=VS.mergeEvaluated.props(r,t,o.props,ZS.Name)}if(!0!==o.items)if(i&&!i.dynamicItems)void 0!==i.items&&(o.items=VS.mergeEvaluated.items(r,i.items,o.items));else{const t=r.var("items",ZS._`${e}.evaluated.items`);o.items=VS.mergeEvaluated.items(r,t,o.items,ZS.Name)}}i?function(){if(!a.$async)throw new Error("async schema referenced by sync schema");const n=r.let("valid");r.try((()=>{r.code(ZS._`await ${YS.callValidateCode(e,t,l)}`),h(t),s||r.assign(n,!0)}),(e=>{r.if(ZS._`!(${e} instanceof ${o.ValidationError})`,(()=>r.throw(e))),u(e),s||r.assign(n,!1)})),e.ok(n)}():e.result(YS.callValidateCode(e,t,l),(()=>h(t)),(()=>u(t)))}t.getValidate=i,t.callRef=r,t.default=n}));var mx=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",fx.default,px.default],Cx=Object.defineProperty({default:mx},"__esModule",{value:!0});const Ix=ZS.operators,vx={maximum:{okStr:"<=",ok:Ix.LTE,fail:Ix.GT},minimum:{okStr:">=",ok:Ix.GTE,fail:Ix.LT},exclusiveMaximum:{okStr:"<",ok:Ix.LT,fail:Ix.GTE},exclusiveMinimum:{okStr:">",ok:Ix.GT,fail:Ix.LTE}},Ax={message:({keyword:e,schemaCode:t})=>ZS.str`must be ${vx[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>ZS._`{comparison: ${vx[e].okStr}, limit: ${t}}`};var yx={keyword:Object.keys(vx),type:"number",schemaType:"number",$data:!0,error:Ax,code(e){const{keyword:t,data:n,schemaCode:i}=e;e.fail$data(ZS._`${n} ${vx[t].fail} ${i} || isNaN(${n})`)}},bx=Object.defineProperty({default:yx},"__esModule",{value:!0});var wx={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:e})=>ZS.str`must be multiple of ${e}`,params:({schemaCode:e})=>ZS._`{multipleOf: ${e}}`},code(e){const{gen:t,data:n,schemaCode:i,it:r}=e,o=r.opts.multipleOfPrecision,s=t.let("res"),a=o?ZS._`Math.abs(Math.round(${s}) - ${s}) > 1e-${o}`:ZS._`${s} !== parseInt(${s})`;e.fail$data(ZS._`(${i} === 0 || (${s} = ${n}/${i}, ${a}))`)}},$x=Object.defineProperty({default:wx},"__esModule",{value:!0});function Sx(e){const t=e.length;let n,i=0,r=0;for(;r<t;)i++,n=e.charCodeAt(r++),n>=55296&&n<=56319&&r<t&&(n=e.charCodeAt(r),56320==(64512&n)&&r++);return i}var xx=Sx;Sx.code='require("ajv/dist/runtime/ucs2length").default';var kx=Object.defineProperty({default:xx},"__esModule",{value:!0});var Rx={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const n="maxLength"===e?"more":"fewer";return ZS.str`must NOT have ${n} than ${t} characters`},params:({schemaCode:e})=>ZS._`{limit: ${e}}`},code(e){const{keyword:t,data:n,schemaCode:i,it:r}=e,o="maxLength"===t?ZS.operators.GT:ZS.operators.LT,s=!1===r.opts.unicode?ZS._`${n}.length`:ZS._`${VS.useFunc(e.gen,kx.default)}(${n})`;e.fail$data(ZS._`${s} ${o} ${i}`)}},_x=Object.defineProperty({default:Rx},"__esModule",{value:!0});var Bx={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>ZS.str`must match pattern "${e}"`,params:({schemaCode:e})=>ZS._`{pattern: ${e}}`},code(e){const{data:t,$data:n,schema:i,schemaCode:r,it:o}=e,s=o.opts.unicodeRegExp?"u":"",a=n?ZS._`(new RegExp(${r}, ${s}))`:YS.usePattern(e,i);e.fail$data(ZS._`!${a}.test(${t})`)}},Ex=Object.defineProperty({default:Bx},"__esModule",{value:!0});var Lx={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const n="maxProperties"===e?"more":"fewer";return ZS.str`must NOT have ${n} than ${t} items`},params:({schemaCode:e})=>ZS._`{limit: ${e}}`},code(e){const{keyword:t,data:n,schemaCode:i}=e,r="maxProperties"===t?ZS.operators.GT:ZS.operators.LT;e.fail$data(ZS._`Object.keys(${n}).length ${r} ${i}`)}},Wx=Object.defineProperty({default:Lx},"__esModule",{value:!0});var Gx={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:e}})=>ZS.str`must have required property '${e}'`,params:({params:{missingProperty:e}})=>ZS._`{missingProperty: ${e}}`},code(e){const{gen:t,schema:n,schemaCode:i,data:r,$data:o,it:s}=e,{opts:a}=s;if(!o&&0===n.length)return;const c=n.length>=a.loopRequired;if(s.allErrors?function(){if(c||o)e.block$data(ZS.nil,l);else for(const t of n)YS.checkReportMissingProp(e,t)}():function(){const s=t.let("missing");if(c||o){const n=t.let("valid",!0);e.block$data(n,(()=>function(n,o){e.setParams({missingProperty:n}),t.forOf(n,i,(()=>{t.assign(o,YS.propertyInData(t,r,n,a.ownProperties)),t.if(ZS.not(o),(()=>{e.error(),t.break()}))}),ZS.nil)}(s,n))),e.ok(n)}else t.if(YS.checkMissingProp(e,n,s)),YS.reportMissingProp(e,s),t.else()}(),a.strictRequired){const t=e.parentSchema.properties,{definedProperties:i}=e.it;for(const e of n)if(void 0===(null==t?void 0:t[e])&&!i.has(e)){const t=`required property "${e}" is not defined at "${s.schemaEnv.baseId+s.errSchemaPath}" (strictRequired)`;VS.checkStrictMode(s,t,s.opts.strictRequired)}}function l(){t.forOf("prop",i,(n=>{e.setParams({missingProperty:n}),t.if(YS.noPropertyInData(t,r,n,a.ownProperties),(()=>e.error()))}))}}},Tx=Object.defineProperty({default:Gx},"__esModule",{value:!0});var Mx={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const n="maxItems"===e?"more":"fewer";return ZS.str`must NOT have ${n} than ${t} items`},params:({schemaCode:e})=>ZS._`{limit: ${e}}`},code(e){const{keyword:t,data:n,schemaCode:i}=e,r="maxItems"===t?ZS.operators.GT:ZS.operators.LT;e.fail$data(ZS._`${n}.length ${r} ${i}`)}},Ox=Object.defineProperty({default:Mx},"__esModule",{value:!0});qS.code='require("ajv/dist/runtime/equal").default';var Nx=qS,Hx=Object.defineProperty({default:Nx},"__esModule",{value:!0});var Zx={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:e,j:t}})=>ZS.str`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>ZS._`{i: ${e}, j: ${t}}`},code(e){const{gen:t,data:n,$data:i,schema:r,parentSchema:o,schemaCode:s,it:a}=e;if(!i&&!r)return;const c=t.let("valid"),l=o.items?XS.getSchemaTypes(o.items):[];function u(i,r){const o=t.name("item"),s=XS.checkDataTypes(l,o,a.opts.strictNumbers,XS.DataType.Wrong),u=t.const("indices",ZS._`{}`);t.for(ZS._`;${i}--;`,(()=>{t.let(o,ZS._`${n}[${i}]`),t.if(s,ZS._`continue`),l.length>1&&t.if(ZS._`typeof ${o} == "string"`,ZS._`${o} += "_"`),t.if(ZS._`typeof ${u}[${o}] == "number"`,(()=>{t.assign(r,ZS._`${u}[${o}]`),e.error(),t.assign(c,!1).break()})).code(ZS._`${u}[${o}] = ${i}`)}))}function h(i,r){const o=VS.useFunc(t,Hx.default),s=t.name("outer");t.label(s).for(ZS._`;${i}--;`,(()=>t.for(ZS._`${r} = ${i}; ${r}--;`,(()=>t.if(ZS._`${o}(${n}[${i}], ${n}[${r}])`,(()=>{e.error(),t.assign(c,!1).break(s)}))))))}e.block$data(c,(function(){const i=t.let("i",ZS._`${n}.length`),r=t.let("j");e.setParams({i:i,j:r}),t.assign(c,!0),t.if(ZS._`${i} > 1`,(()=>(l.length>0&&!l.some((e=>"object"===e||"array"===e))?u:h)(i,r)))}),ZS._`${s} === false`),e.ok(c)}},Vx=Object.defineProperty({default:Zx},"__esModule",{value:!0});var Px={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:e})=>ZS._`{allowedValue: ${e}}`},code(e){const{gen:t,data:n,$data:i,schemaCode:r,schema:o}=e;i||o&&"object"==typeof o?e.fail$data(ZS._`!${VS.useFunc(t,Hx.default)}(${n}, ${r})`):e.fail(ZS._`${o} !== ${n}`)}},Fx=Object.defineProperty({default:Px},"__esModule",{value:!0});var Kx={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:e})=>ZS._`{allowedValues: ${e}}`},code(e){const{gen:t,data:n,$data:i,schema:r,schemaCode:o,it:s}=e;if(!i&&0===r.length)throw new Error("enum must have non-empty array");const a=r.length>=s.opts.loopEnum,c=VS.useFunc(t,Hx.default);let l;if(a||i)l=t.let("valid"),e.block$data(l,(function(){t.assign(l,!1),t.forOf("v",o,(e=>t.if(ZS._`${c}(${n}, ${e})`,(()=>t.assign(l,!0).break()))))}));else{if(!Array.isArray(r))throw new Error("ajv implementation error");const e=t.const("vSchema",o);l=ZS.or(...r.map(((t,i)=>function(e,t){const i=r[t];return"object"==typeof i&&null!==i?ZS._`${c}(${n}, ${e}[${t}])`:ZS._`${n} === ${i}`}(e,i))))}e.pass(l)}},jx=Object.defineProperty({default:Kx},"__esModule",{value:!0});var Dx=[bx.default,$x.default,_x.default,Ex.default,Wx.default,Tx.default,Ox.default,Vx.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},Fx.default,jx.default],zx=Object.defineProperty({default:Dx},"__esModule",{value:!0}),Xx=He((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateAdditionalItems=void 0;const n={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:e}})=>ZS.str`must NOT have more than ${e} items`,params:({params:{len:e}})=>ZS._`{limit: ${e}}`},code(e){const{parentSchema:t,it:n}=e,{items:r}=t;Array.isArray(r)?i(e,r):VS.checkStrictMode(n,'"additionalItems" is ignored when "items" is not an array of schemas')}};function i(e,t){const{gen:n,schema:i,data:r,keyword:o,it:s}=e;s.items=!0;const a=n.const("len",ZS._`${r}.length`);if(!1===i)e.setParams({len:t.length}),e.pass(ZS._`${a} <= ${t.length}`);else if("object"==typeof i&&!VS.alwaysValidSchema(s,i)){const i=n.var("valid",ZS._`${a} <= ${t.length}`);n.if(ZS.not(i),(()=>function(i){n.forRange("i",t.length,a,(t=>{e.subschema({keyword:o,dataProp:t,dataPropType:VS.Type.Num},i),s.allErrors||n.if(ZS.not(i),(()=>n.break()))}))}(i))),e.ok(i)}}t.validateAdditionalItems=i,t.default=n})),Jx=He((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateTuple=void 0;const n={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:n}=e;if(Array.isArray(t))return i(e,"additionalItems",t);n.items=!0,VS.alwaysValidSchema(n,t)||e.ok(YS.validateArray(e))}};function i(e,t,n=e.schema){const{gen:i,parentSchema:r,data:o,keyword:s,it:a}=e;!function(e){const{opts:i,errSchemaPath:r}=a,o=n.length,c=o===e.minItems&&(o===e.maxItems||!1===e[t]);if(i.strictTuples&&!c){const e=`"${s}" is ${o}-tuple, but minItems or maxItems/${t} are not specified or different at path "${r}"`;VS.checkStrictMode(a,e,i.strictTuples)}}(r),a.opts.unevaluated&&n.length&&!0!==a.items&&(a.items=VS.mergeEvaluated.items(i,n.length,a.items));const c=i.name("valid"),l=i.const("len",ZS._`${o}.length`);n.forEach(((t,n)=>{VS.alwaysValidSchema(a,t)||(i.if(ZS._`${l} > ${n}`,(()=>e.subschema({keyword:s,schemaProp:n,dataProp:n},c))),e.ok(c))}))}t.validateTuple=i,t.default=n}));var Yx={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>Jx.validateTuple(e,"items")},Ux=Object.defineProperty({default:Yx},"__esModule",{value:!0});var Qx={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:e}})=>ZS.str`must NOT have more than ${e} items`,params:({params:{len:e}})=>ZS._`{limit: ${e}}`},code(e){const{schema:t,parentSchema:n,it:i}=e,{prefixItems:r}=n;i.items=!0,VS.alwaysValidSchema(i,t)||(r?Xx.validateAdditionalItems(e,r):e.ok(YS.validateArray(e)))}},qx=Object.defineProperty({default:Qx},"__esModule",{value:!0});var ek={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:e,max:t}})=>void 0===t?ZS.str`must contain at least ${e} valid item(s)`:ZS.str`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>void 0===t?ZS._`{minContains: ${e}}`:ZS._`{minContains: ${e}, maxContains: ${t}}`},code(e){const{gen:t,schema:n,parentSchema:i,data:r,it:o}=e;let s,a;const{minContains:c,maxContains:l}=i;o.opts.next?(s=void 0===c?1:c,a=l):s=1;const u=t.const("len",ZS._`${r}.length`);if(e.setParams({min:s,max:a}),void 0===a&&0===s)return void VS.checkStrictMode(o,'"minContains" == 0 without "maxContains": "contains" keyword ignored');if(void 0!==a&&s>a)return VS.checkStrictMode(o,'"minContains" > "maxContains" is always invalid'),void e.fail();if(VS.alwaysValidSchema(o,n)){let t=ZS._`${u} >= ${s}`;return void 0!==a&&(t=ZS._`${t} && ${u} <= ${a}`),void e.pass(t)}o.items=!0;const h=t.name("valid");if(void 0===a&&1===s)d(h,(()=>t.if(h,(()=>t.break()))));else{t.let(h,!1);const e=t.name("_valid"),n=t.let("count",0);d(e,(()=>t.if(e,(()=>function(e){t.code(ZS._`${e}++`),void 0===a?t.if(ZS._`${e} >= ${s}`,(()=>t.assign(h,!0).break())):(t.if(ZS._`${e} > ${a}`,(()=>t.assign(h,!1).break())),1===s?t.assign(h,!0):t.if(ZS._`${e} >= ${s}`,(()=>t.assign(h,!0))))}(n)))))}function d(n,i){t.forRange("i",0,u,(t=>{e.subschema({keyword:"contains",dataProp:t,dataPropType:VS.Type.Num,compositeRule:!0},n),i()}))}e.result(h,(()=>e.reset()))}},tk=Object.defineProperty({default:ek},"__esModule",{value:!0}),nk=He((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0,t.error={message:({params:{property:e,depsCount:t,deps:n}})=>{const i=1===t?"property":"properties";return ZS.str`must have ${i} ${n} when property ${e} is present`},params:({params:{property:e,depsCount:t,deps:n,missingProperty:i}})=>ZS._`{property: ${e},
    missingProperty: ${i},
    depsCount: ${t},
    deps: ${n}}`};const n={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(e){const[t,n]=function({schema:e}){const t={},n={};for(const i in e){if("__proto__"===i)continue;(Array.isArray(e[i])?t:n)[i]=e[i]}return[t,n]}(e);i(e,t),r(e,n)}};function i(e,t=e.schema){const{gen:n,data:i,it:r}=e;if(0===Object.keys(t).length)return;const o=n.let("missing");for(const s in t){const a=t[s];if(0===a.length)continue;const c=YS.propertyInData(n,i,s,r.opts.ownProperties);e.setParams({property:s,depsCount:a.length,deps:a.join(", ")}),r.allErrors?n.if(c,(()=>{for(const t of a)YS.checkReportMissingProp(e,t)})):(n.if(ZS._`${c} && (${YS.checkMissingProp(e,a,o)})`),YS.reportMissingProp(e,o),n.else())}}function r(e,t=e.schema){const{gen:n,data:i,keyword:r,it:o}=e,s=n.name("valid");for(const a in t)VS.alwaysValidSchema(o,t[a])||(n.if(YS.propertyInData(n,i,a,o.opts.ownProperties),(()=>{const t=e.subschema({keyword:r,schemaProp:a},s);e.mergeValidEvaluated(t,s)}),(()=>n.var(s,!0))),e.ok(s))}t.validatePropertyDeps=i,t.validateSchemaDeps=r,t.default=n}));var ik={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:e})=>ZS._`{propertyName: ${e.propertyName}}`},code(e){const{gen:t,schema:n,data:i,it:r}=e;if(VS.alwaysValidSchema(r,n))return;const o=t.name("valid");t.forIn("key",i,(n=>{e.setParams({propertyName:n}),e.subschema({keyword:"propertyNames",data:n,dataTypes:["string"],propertyName:n,compositeRule:!0},o),t.if(ZS.not(o),(()=>{e.error(!0),r.allErrors||t.break()}))})),e.ok(o)}},rk=Object.defineProperty({default:ik},"__esModule",{value:!0});var ok={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:e})=>ZS._`{additionalProperty: ${e.additionalProperty}}`},code(e){const{gen:t,schema:n,parentSchema:i,data:r,errsCount:o,it:s}=e;if(!o)throw new Error("ajv implementation error");const{allErrors:a,opts:c}=s;if(s.props=!0,"all"!==c.removeAdditional&&VS.alwaysValidSchema(s,n))return;const l=YS.allSchemaProperties(i.properties),u=YS.allSchemaProperties(i.patternProperties);function h(e){t.code(ZS._`delete ${r}[${e}]`)}function d(i){if("all"===c.removeAdditional||c.removeAdditional&&!1===n)h(i);else{if(!1===n)return e.setParams({additionalProperty:i}),e.error(),void(a||t.break());if("object"==typeof n&&!VS.alwaysValidSchema(s,n)){const n=t.name("valid");"failing"===c.removeAdditional?(g(i,n,!1),t.if(ZS.not(n),(()=>{e.reset(),h(i)}))):(g(i,n),a||t.if(ZS.not(n),(()=>t.break())))}}}function g(t,n,i){const r={keyword:"additionalProperties",dataProp:t,dataPropType:VS.Type.Str};!1===i&&Object.assign(r,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(r,n)}t.forIn("key",r,(n=>{l.length||u.length?t.if(function(n){let r;if(l.length>8){const e=VS.schemaRefOrVal(s,i.properties,"properties");r=YS.isOwnProperty(t,e,n)}else r=l.length?ZS.or(...l.map((e=>ZS._`${n} === ${e}`))):ZS.nil;return u.length&&(r=ZS.or(r,...u.map((t=>ZS._`${YS.usePattern(e,t)}.test(${n})`)))),ZS.not(r)}(n),(()=>d(n))):d(n)})),e.ok(ZS._`${o} === ${FS.default.errors}`)}},sk=Object.defineProperty({default:ok},"__esModule",{value:!0});var ak={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,parentSchema:i,data:r,it:o}=e;"all"===o.opts.removeAdditional&&void 0===i.additionalProperties&&sk.default.code(new ix.KeywordCxt(o,sk.default,"additionalProperties"));const s=YS.allSchemaProperties(n);for(const e of s)o.definedProperties.add(e);o.opts.unevaluated&&s.length&&!0!==o.props&&(o.props=VS.mergeEvaluated.props(t,VS.toHash(s),o.props));const a=s.filter((e=>!VS.alwaysValidSchema(o,n[e])));if(0===a.length)return;const c=t.name("valid");for(const n of a)l(n)?u(n):(t.if(YS.propertyInData(t,r,n,o.opts.ownProperties)),u(n),o.allErrors||t.else().var(c,!0),t.endIf()),e.it.definedProperties.add(n),e.ok(c);function l(e){return o.opts.useDefaults&&!o.compositeRule&&void 0!==n[e].default}function u(t){e.subschema({keyword:"properties",schemaProp:t,dataProp:t},c)}}},ck=Object.defineProperty({default:ak},"__esModule",{value:!0});const lk=VS;var uk={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,data:i,parentSchema:r,it:o}=e,{opts:s}=o,a=YS.schemaProperties(o,n);if(0===a.length)return;const c=s.strictSchema&&!s.allowMatchingProperties&&r.properties,l=t.name("valid");!0===o.props||o.props instanceof ZS.Name||(o.props=lk.evaluatedPropsToName(t,o.props));const{props:u}=o;function h(e){for(const t in c)new RegExp(e).test(t)&&VS.checkStrictMode(o,`property ${t} matches pattern ${e} (use allowMatchingProperties)`)}function d(n){t.forIn("key",i,(i=>{t.if(ZS._`${YS.usePattern(e,n)}.test(${i})`,(()=>{e.subschema({keyword:"patternProperties",schemaProp:n,dataProp:i,dataPropType:lk.Type.Str},l),o.opts.unevaluated&&!0!==u?t.assign(ZS._`${u}[${i}]`,!0):o.allErrors||t.if(ZS.not(l),(()=>t.break()))}))}))}!function(){for(const e of a)c&&h(e),o.allErrors?d(e):(t.var(l,!0),d(e),t.if(l))}()}},hk=Object.defineProperty({default:uk},"__esModule",{value:!0});var dk={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:n,it:i}=e;if(VS.alwaysValidSchema(i,n))return void e.fail();const r=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},r),e.result(r,(()=>e.error()),(()=>e.reset()))},error:{message:"must NOT be valid"}},gk=Object.defineProperty({default:dk},"__esModule",{value:!0});var fk={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:YS.validateUnion,error:{message:"must match a schema in anyOf"}},pk=Object.defineProperty({default:fk},"__esModule",{value:!0});var mk={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:e})=>ZS._`{passingSchemas: ${e.passing}}`},code(e){const{gen:t,schema:n,parentSchema:i,it:r}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(r.opts.discriminator&&i.discriminator)return;const o=n,s=t.let("valid",!1),a=t.let("passing",null),c=t.name("_valid");e.setParams({passing:a}),t.block((function(){o.forEach(((n,i)=>{let o;VS.alwaysValidSchema(r,n)?t.var(c,!0):o=e.subschema({keyword:"oneOf",schemaProp:i,compositeRule:!0},c),i>0&&t.if(ZS._`${c} && ${s}`).assign(s,!1).assign(a,ZS._`[${a}, ${i}]`).else(),t.if(c,(()=>{t.assign(s,!0),t.assign(a,i),o&&e.mergeEvaluated(o,ZS.Name)}))}))})),e.result(s,(()=>e.reset()),(()=>e.error(!0)))}},Ck=Object.defineProperty({default:mk},"__esModule",{value:!0});var Ik={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:n,it:i}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");const r=t.name("valid");n.forEach(((t,n)=>{if(VS.alwaysValidSchema(i,t))return;const o=e.subschema({keyword:"allOf",schemaProp:n},r);e.ok(r),e.mergeEvaluated(o)}))}},vk=Object.defineProperty({default:Ik},"__esModule",{value:!0});function Ak(e,t){const n=e.schema[t];return void 0!==n&&!VS.alwaysValidSchema(e,n)}var yk={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:e})=>ZS.str`must match "${e.ifClause}" schema`,params:({params:e})=>ZS._`{failingKeyword: ${e.ifClause}}`},code(e){const{gen:t,parentSchema:n,it:i}=e;void 0===n.then&&void 0===n.else&&VS.checkStrictMode(i,'"if" without "then" and "else" is ignored');const r=Ak(i,"then"),o=Ak(i,"else");if(!r&&!o)return;const s=t.let("valid",!0),a=t.name("_valid");if(function(){const t=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);e.mergeEvaluated(t)}(),e.reset(),r&&o){const n=t.let("ifClause");e.setParams({ifClause:n}),t.if(a,c("then",n),c("else",n))}else r?t.if(a,c("then")):t.if(ZS.not(a),c("else"));function c(n,i){return()=>{const r=e.subschema({keyword:n},a);t.assign(s,a),e.mergeValidEvaluated(r,s),i?t.assign(i,ZS._`${n}`):e.setParams({ifClause:n})}}e.pass(s,(()=>e.error(!0)))}},bk=Object.defineProperty({default:yk},"__esModule",{value:!0});var wk={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:n}){void 0===t.if&&VS.checkStrictMode(n,`"${e}" without "if" is ignored`)}},$k=Object.defineProperty({default:wk},"__esModule",{value:!0});var Sk=function(e=!1){const t=[gk.default,pk.default,Ck.default,vk.default,bk.default,$k.default,rk.default,sk.default,nk.default,ck.default,hk.default];return e?t.push(Ux.default,qx.default):t.push(Xx.default,Jx.default),t.push(tk.default),t},xk=Object.defineProperty({default:Sk},"__esModule",{value:!0});var kk={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>ZS.str`must match format "${e}"`,params:({schemaCode:e})=>ZS._`{format: ${e}}`},code(e,t){const{gen:n,data:i,$data:r,schema:o,schemaCode:s,it:a}=e,{opts:c,errSchemaPath:l,schemaEnv:u,self:h}=a;c.validateFormats&&(r?function(){const r=n.scopeValue("formats",{ref:h.formats,code:c.code.formats}),o=n.const("fDef",ZS._`${r}[${s}]`),a=n.let("fType"),l=n.let("format");n.if(ZS._`typeof ${o} == "object" && !(${o} instanceof RegExp)`,(()=>n.assign(a,ZS._`${o}.type || "string"`).assign(l,ZS._`${o}.validate`)),(()=>n.assign(a,ZS._`"string"`).assign(l,o))),e.fail$data(ZS.or(!1===c.strictSchema?ZS.nil:ZS._`${s} && !${l}`,function(){const e=u.$async?ZS._`(${o}.async ? await ${l}(${i}) : ${l}(${i}))`:ZS._`${l}(${i})`,n=ZS._`(typeof ${l} == "function" ? ${e} : ${l}.test(${i}))`;return ZS._`${l} && ${l} !== true && ${a} === ${t} && !${n}`}()))}():function(){const r=h.formats[o];if(!r)return void function(){if(!1===c.strictSchema)return void h.logger.warn(e());throw new Error(e());function e(){return`unknown format "${o}" ignored in schema at path "${l}"`}}();if(!0===r)return;const[s,a,d]=function(e){const t=e instanceof RegExp?ZS.regexpCode(e):c.code.formats?ZS._`${c.code.formats}${ZS.getProperty(o)}`:void 0,i=n.scopeValue("formats",{key:o,ref:e,code:t});if("object"==typeof e&&!(e instanceof RegExp))return[e.type||"string",e.validate,ZS._`${i}.validate`];return["string",e,i]}(r);s===t&&e.pass(function(){if("object"==typeof r&&!(r instanceof RegExp)&&r.async){if(!u.$async)throw new Error("async format in sync schema");return ZS._`await ${d}(${i})`}return"function"==typeof a?ZS._`${d}(${i})`:ZS._`${d}.test(${i})`}())}())}};var Rk=[Object.defineProperty({default:kk},"__esModule",{value:!0}).default],_k=Object.defineProperty({default:Rk},"__esModule",{value:!0}),Bk=He((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.contentVocabulary=t.metadataVocabulary=void 0,t.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],t.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]}));var Ek=[Cx.default,zx.default,xk.default(),_k.default,Bk.metadataVocabulary,Bk.contentVocabulary],Lk=Object.defineProperty({default:Ek},"__esModule",{value:!0}),Wk=He((function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),t.DiscrError=void 0,(n=t.DiscrError||(t.DiscrError={})).Tag="tag",n.Mapping="mapping"}));var Gk={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:e,tagName:t}})=>e===Wk.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:n}})=>ZS._`{error: ${e}, tag: ${n}, tagValue: ${t}}`},code(e){const{gen:t,data:n,schema:i,parentSchema:r,it:o}=e,{oneOf:s}=r;if(!o.opts.discriminator)throw new Error("discriminator: requires discriminator option");const a=i.propertyName;if("string"!=typeof a)throw new Error("discriminator: requires propertyName");if(i.mapping)throw new Error("discriminator: mapping is not supported");if(!s)throw new Error("discriminator: requires oneOf keyword");const c=t.let("valid",!1),l=t.const("tag",ZS._`${n}${ZS.getProperty(a)}`);function u(n){const i=t.name("valid"),r=e.subschema({keyword:"oneOf",schemaProp:n},i);return e.mergeEvaluated(r,ZS.Name),i}t.if(ZS._`typeof ${l} == "string"`,(()=>function(){const n=function(){var e;const t={},n=o(r);let i=!0;for(let t=0;t<s.length;t++){const r=s[t],l=null===(e=r.properties)||void 0===e?void 0:e[a];if("object"!=typeof l)throw new Error(`discriminator: oneOf schemas must have "properties/${a}"`);i=i&&(n||o(r)),c(l,t)}if(!i)throw new Error(`discriminator: "${a}" must be required`);return t;function o({required:e}){return Array.isArray(e)&&e.includes(a)}function c(e,t){if(e.const)l(e.const,t);else{if(!e.enum)throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`);for(const n of e.enum)l(n,t)}}function l(e,n){if("string"!=typeof e||e in t)throw new Error(`discriminator: "${a}" values must be unique strings`);t[e]=n}}();t.if(!1);for(const e in n)t.elseIf(ZS._`${l} === ${e}`),t.assign(c,u(n[e]));t.else(),e.error(!1,{discrError:Wk.DiscrError.Mapping,tag:l,tagName:a}),t.endIf()}()),(()=>e.error(!1,{discrError:Wk.DiscrError.Tag,tag:l,tagName:a}))),e.ok(c)}},Tk=Object.defineProperty({default:Gk},"__esModule",{value:!0}),Mk={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0};He((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const n=["/properties"],i="http://json-schema.org/draft-07/schema";class r extends dx.default{_addVocabularies(){super._addVocabularies(),Lk.default.forEach((e=>this.addVocabulary(e))),this.opts.discriminator&&this.addKeyword(Tk.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const e=this.opts.$data?this.$dataMetaSchema(Mk,n):Mk;this.addMetaSchema(e,i,!1),this.refs["http://json-schema.org/schema"]=i}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(i)?i:void 0)}}e.exports=t=r,Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return ix.KeywordCxt}}),Object.defineProperty(t,"_",{enumerable:!0,get:function(){return ZS._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return ZS.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return ZS.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return ZS.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return ZS.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return ZS.CodeGen}})}));const Ok=class extends Oe{constructor(e){super(),Me(this,e,OS,TS,c,{json:0,text:1,readOnly:5,indentation:6,mode:2,mainMenuBar:3,validator:4,onChange:24,onClassName:7,onRenderMenu:25,onChangeMode:26,onError:8,onFocus:27,onBlur:28,get:29,getText:30,set:31,setText:32,update:33,updateText:34,patch:35,expand:36,collapse:37,scrollTo:38,findElement:39,setValidator:40,getValidator:41,setMainMenuBar:42,getMainMenuBar:43,setMode:44,getMode:45,focus:46,destroy:47},[-1,-1])}get get(){return this.$$.ctx[29]}get getText(){return this.$$.ctx[30]}get set(){return this.$$.ctx[31]}get setText(){return this.$$.ctx[32]}get update(){return this.$$.ctx[33]}get updateText(){return this.$$.ctx[34]}get patch(){return this.$$.ctx[35]}get expand(){return this.$$.ctx[36]}get collapse(){return this.$$.ctx[37]}get scrollTo(){return this.$$.ctx[38]}get findElement(){return this.$$.ctx[39]}get setValidator(){return this.$$.ctx[40]}get getValidator(){return this.$$.ctx[41]}get setMainMenuBar(){return this.$$.ctx[42]}get getMainMenuBar(){return this.$$.ctx[43]}get setMode(){return this.$$.ctx[44]}get getMode(){return this.$$.ctx[45]}get focus(){return this.$$.ctx[46]}get destroy(){return MS}};function Nk(e){let t,n,i,r,o,s,a,c,l,u=e[0].number+"",h=e[0].event+"";function d(t){e[3](t)}let g={mainMenuBar:e[1]};return void 0!==e[2]&&(g.json=e[2]),a=new Ok({props:g}),re.push((()=>Le(a,"json",d))),{c(){t=S("div"),n=k("#"),i=k(u),r=k(" - "),o=k(h),s=R(),We(a.$$.fragment)},m(e,c){b(e,t,c),y(t,n),y(t,i),y(t,r),y(t,o),b(e,s,c),Ge(a,e,c),l=!0},p(e,[t]){(!l||1&t)&&u!==(u=e[0].number+"")&&T(i,u),(!l||1&t)&&h!==(h=e[0].event+"")&&T(o,h);const n={};2&t&&(n.mainMenuBar=e[1]),!c&&4&t&&(c=!0,n.json=e[2],de((()=>c=!1))),a.$set(n)},i(e){l||(we(a.$$.fragment,e),l=!0)},o(e){$e(a.$$.fragment,e),l=!1},d(e){e&&w(t),e&&w(s),Te(a,e)}}}function Hk(e,t,n){let{message:i}=t,{mainMenuBar:r=!1}=t,o=i.data;return e.$$set=e=>{"message"in e&&n(0,i=e.message),"mainMenuBar"in e&&n(1,r=e.mainMenuBar)},[i,r,o,function(e){o=e,n(2,o)}]}class Zk extends Oe{constructor(e){super(),Me(this,e,Hk,Nk,a,{message:0,mainMenuBar:1})}}function Vk(e){let t,n,i;function r(t){e[1](t)}let o={mainMenuBar:Pk};return void 0!==e[0]&&(o.json=e[0]),t=new Ok({props:o}),re.push((()=>Le(t,"json",r))),{c(){We(t.$$.fragment)},m(e,n){Ge(t,e,n),i=!0},p(e,[i]){const r={};!n&&1&i&&(n=!0,r.json=e[0],de((()=>n=!1))),t.$set(r)},i(e){i||(we(t.$$.fragment,e),i=!0)},o(e){$e(t.$$.fragment,e),i=!1},d(e){Te(t,e)}}}const Pk=!1;function Fk(e,t,n){let{json:i}=t;return e.$$set=e=>{"json"in e&&n(0,i=e.json)},[i,function(e){i=e,n(0,i)}]}class Kk extends Oe{constructor(e){super(),Me(this,e,Fk,Vk,a,{json:0})}}function jk(e,t,n){const i=e.slice();return i[23]=t[n],i}function Dk(e,t,n){const i=e.slice();return i[26]=t[n],i}function zk(t){let n;return{c(){n=S("div"),n.innerHTML="<h2>You are not connected to anything yet.</h2>",E(n,"class","tile")},m(e,t){b(e,n,t)},p:e,i:e,o:e,d(e){e&&w(n)}}}function Xk(e){let t,n,i,r,s,a,c,l,u,h,d,g,f,p,m,C,I,v,A,x,_,L,W,G,T,M,O,H,Z,V;function P(t){e[13](t)}let F={onChange:e[11]};void 0!==e[3]&&(F.json=e[3]),t=new Ok({props:F}),re.push((()=>Le(t,"json",P)));let K=e[4],j=[];for(let t=0;t<K.length;t+=1)j[t]=Jk(Dk(e,K,t));const D=[Uk,Yk],z=[];function X(e,t){return e[2]?0:1}return M=X(e),O=z[M]=D[M](e),{c(){We(t.$$.fragment),i=R(),r=S("div"),s=S("h3"),s.textContent="Received",a=R(),c=S("div"),l=S("div"),u=S("label"),h=S("input"),d=k(" Single box"),g=R(),f=S("div"),p=S("button"),p.textContent="delete",m=R(),C=S("div"),I=S("label"),I.textContent="filter event:",v=R(),A=S("select"),x=S("option"),x.textContent="NONE";for(let e=0;e<j.length;e+=1)j[e].c();_=R(),L=S("div"),W=R(),G=S("div"),T=R(),O.c(),E(s,"class","subtitle is-3"),E(h,"type","checkbox"),E(l,"class","column"),E(p,"class","is-info"),E(f,"class","column"),E(I,"for","eventName"),x.__value="",x.value=x.__value,E(A,"id","events"),void 0===e[0]&&he((()=>e[16].call(A))),E(C,"class","column"),E(L,"class","column"),E(G,"class","column"),E(c,"name","receivedControls"),E(c,"class","columns"),E(r,"id","receivedData")},m(n,o){Ge(t,n,o),b(n,i,o),b(n,r,o),y(r,s),y(r,a),y(r,c),y(c,l),y(l,u),y(u,h),h.checked=e[2],y(u,d),y(c,g),y(c,f),y(f,p),y(c,m),y(c,C),y(C,I),y(C,v),y(C,A),y(A,x);for(let e=0;e<j.length;e+=1)j[e].m(A,null);N(A,e[0]),y(c,_),y(c,L),y(c,W),y(c,G),y(r,T),z[M].m(r,null),H=!0,Z||(V=[B(h,"change",e[14]),B(h,"click",e[12]),B(p,"click",e[15]),B(A,"change",e[16])],Z=!0)},p(e,i){const o={};if(!n&&8&i&&(n=!0,o.json=e[3],de((()=>n=!1))),t.$set(o),4&i&&(h.checked=e[2]),16&i){let t;for(K=e[4],t=0;t<K.length;t+=1){const n=Dk(e,K,t);j[t]?j[t].p(n,i):(j[t]=Jk(n),j[t].c(),j[t].m(A,null))}for(;t<j.length;t+=1)j[t].d(1);j.length=K.length}17&i&&N(A,e[0]);let s=M;M=X(e),M===s?z[M].p(e,i):(ye(),$e(z[s],1,1,(()=>{z[s]=null})),be(),O=z[M],O?O.p(e,i):(O=z[M]=D[M](e),O.c()),we(O,1),O.m(r,null))},i(e){H||(we(t.$$.fragment,e),we(O),H=!0)},o(e){$e(t.$$.fragment,e),$e(O),H=!1},d(e){Te(t,e),e&&w(i),e&&w(r),$(j,e),z[M].d(),Z=!1,o(V)}}}function Jk(e){let t,n,i,r=e[26]+"";return{c(){t=S("option"),n=k(r),t.__value=i=e[26],t.value=t.__value},m(e,i){b(e,t,i),y(t,n)},p(e,o){16&o&&r!==(r=e[26]+"")&&T(n,r),16&o&&i!==(i=e[26])&&(t.__value=i,t.value=t.__value)},d(e){e&&w(t)}}}function Yk(e){let t,n,i=e[7],r=[];for(let t=0;t<i.length;t+=1)r[t]=qk(jk(e,i,t));const o=e=>$e(r[e],1,1,(()=>{r[e]=null}));let s=null;return i.length||(s=Qk()),{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=_(),s&&s.c()},m(e,i){for(let t=0;t<r.length;t+=1)r[t].m(e,i);b(e,t,i),s&&s.m(e,i),n=!0},p(e,n){if(128&n){let a;for(i=e[7],a=0;a<i.length;a+=1){const o=jk(e,i,a);r[a]?(r[a].p(o,n),we(r[a],1)):(r[a]=qk(o),r[a].c(),we(r[a],1),r[a].m(t.parentNode,t))}for(ye(),a=i.length;a<r.length;a+=1)o(a);be(),i.length?s&&(s.d(1),s=null):s||(s=Qk(),s.c(),s.m(t.parentNode,t))}},i(e){if(!n){for(let e=0;e<i.length;e+=1)we(r[e]);n=!0}},o(e){r=r.filter(Boolean);for(let e=0;e<r.length;e+=1)$e(r[e]);n=!1},d(e){$(r,e),e&&w(t),s&&s.d(e)}}}function Uk(e){let t,n,i;function r(t){e[17](t)}let o={};return void 0!==e[7]&&(o.json=e[7]),t=new Kk({props:o}),re.push((()=>Le(t,"json",r))),{c(){We(t.$$.fragment)},m(e,n){Ge(t,e,n),i=!0},p(e,i){const r={};!n&&128&i&&(n=!0,r.json=e[7],de((()=>n=!1))),t.$set(r)},i(e){i||(we(t.$$.fragment,e),i=!0)},o(e){$e(t.$$.fragment,e),i=!1},d(e){Te(t,e)}}}function Qk(e){let t;return{c(){t=S("p"),t.textContent="Nothing received yet"},m(e,n){b(e,t,n)},d(e){e&&w(t)}}}function qk(e){let t,n;return t=new Zk({props:{message:e[23],mainMenuBar:tR}}),{c(){We(t.$$.fragment)},m(e,i){Ge(t,e,i),n=!0},p(e,n){const i={};128&n&&(i.message=e[23]),t.$set(i)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){$e(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function eR(e){let t,n,i,r,o,s;n=new Kn({}),n.$on("connect",e[8]),n.$on("disconnect",e[9]),n.$on("send",e[10]);const a=[Xk,zk],c=[];function l(e,t){return e[5]?0:1}return r=l(e),o=c[r]=a[r](e),{c(){t=S("main"),We(n.$$.fragment),i=R(),o.c()},m(e,o){b(e,t,o),Ge(n,t,null),y(t,i),c[r].m(t,null),s=!0},p(e,[n]){let i=r;r=l(e),r===i?c[r].p(e,n):(ye(),$e(c[i],1,1,(()=>{c[i]=null})),be(),o=c[r],o?o.p(e,n):(o=c[r]=a[r](e),o.c()),we(o,1),o.m(t,null))},i(e){s||(we(n.$$.fragment,e),we(o),s=!0)},o(e){$e(n.$$.fragment,e),$e(o),s=!1},d(e){e&&w(t),Te(n),c[r].d()}}}const tR=!1;function nR(e,t,n){let i,r,o,s,a,c,u,h;l(e,Tn,(e=>n(18,r=e))),l(e,Wn,(e=>n(19,o=e))),l(e,_n,(e=>n(4,s=e))),l(e,Gn,(e=>n(20,a=e))),l(e,Bn,(e=>n(5,c=e))),l(e,En,(e=>n(6,u=e))),l(e,Rn,(e=>n(1,h=e)));const d=new Sn({selectedEvent:"message",singleBox:!0,eventHistory:[],connectionHistory:[],currentConnection:"",isVolatile:!1,messageObject:{test:{value:"test"}}});ee(),f(Tn,r=d.data,r),f(Wn,o=d.data.isVolatile,o),f(_n,s=d.data.eventHistory,s);let g=Tn.singleBox,p=d.data.messageObject||{test:{value1:1,values:"test"}},m="";const C=e=>{const{uri:t}=e.detail;console.log("Disconnect",t),Ln.disconnect(),f(Bn,c=!1,c),Mn(void 0)};Wn.subscribe((e=>{d.set("isVolatile",e)}));return e.$$.update=()=>{3&e.$$.dirty&&n(7,i=h.filter((e=>""==m||e.event===m.trim()))||[])},[m,h,g,p,s,c,u,i,e=>{if(a)C(e),f(Gn,a=!1,a),f(Bn,c=!1,c);else{f(Gn,a=!0,a);const{uri:t}=e.detail;console.log("Connect",t),Mn(bn(t)),function(e){const t=t=>{"function"==typeof e&&e(t)};Ln.on("connect_failed",t),Ln.on("connect_error",t)}((e=>{console.log(e),a&&alert("Disconnected"),Ln.disconnect(),f(Gn,a=!1,a),f(Bn,c=!1,c),Mn(void 0)})),Ln.on("connect",(()=>{f(Gn,a=!1,a),Ln.onAny(((e,t)=>{var n;n=1,En.update((e=>e+n)),Rn.update((n=>[{number:u,event:e,data:t},...n]))})),d.push("connectionHistory",t),d.set("currentConnection",t),f(Bn,c=!0,c)})),Ln.on("disconnect",(()=>{f(Bn,c=!1,c)}))}},C,e=>{const{event:t}=e.detail;d.set("messageObject",p),console.log(d.data),console.log("Send: ",t,o),o?Ln.volatile.emit(t,p):Ln.emit(t,p),d.push("eventHistory",t)},()=>{d.set("messageObject",p)},()=>{d.set("singleBox",!g)},function(e){p=e,n(3,p)},function(){g=this.checked,n(2,g)},()=>{f(Rn,h=[],h),f(En,u=0,u)},function(){m=function(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}(this),n(0,m)},function(e){i=e,n(7,i),n(1,h),n(0,m)}]}return new class extends Oe{constructor(e){super(),Me(this,e,nR,eR,a,{})}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
